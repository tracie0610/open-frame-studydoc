<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="zh-CN" dir="ltr">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
    <title>struts logic:itereate bean:write 标签 - 碧血剑 - JavaEye技术网站</title>
    <meta name="description" content="Iterate主要用来处理在页面上输出集合类，集合一般来说是下列之一：  1、 java对象的数组   2、 ArrayList、Vector、HashMap等   具体用法请参考struts文档，这里不作详细介绍   现在定义一个class，User.java 把它编译成User.class   package example;   import java.io.Serializable;  p ..." />
    <meta name="keywords" content="struts logic:itereate bean:write 标签  struts logic:itereate bean:write 标签" />
    <link rel="shortcut icon" href="/images/favicon.ico" type="image/x-icon" />
    <link href="/rss" rel="alternate" title="碧血剑" type="application/rss+xml" /> 
    <link href="http://www.javaeye.com/stylesheets/blog.css?1231210119" media="screen" rel="stylesheet" type="text/css" />
<link href="http://www.javaeye.com/stylesheets/themes/blog/blue.css?1200451876" media="screen" rel="stylesheet" type="text/css" />
    <script src="http://www.javaeye.com/javascripts/application.js?1229347835" type="text/javascript"></script>
      <link href="http://www.javaeye.com/javascripts/syntaxhighlighter/SyntaxHighlighter.css?1201588027" media="screen" rel="stylesheet" type="text/css" />
  <script src="http://www.javaeye.com/javascripts/syntaxhighlighter/shCoreCommon.js?1224988575" type="text/javascript"></script>
  <style>
    div#main {background-color: transparent; border: 0; padding: 0px; width: 740px;}
  </style>
  <link href="http://www.javaeye.com/javascripts/editor/css/ui.css?1222156967" media="screen" rel="stylesheet" type="text/css" />
  <script src="http://www.javaeye.com/javascripts/editor/compress.js?1225335142" type="text/javascript"></script>
  </head>	
  <body>
    <div id="header">
      <div id="blog_site_nav">
  <a href="http://www.javaeye.com/" class="homepage">首页</a>
  <a href="http://www.javaeye.com/news">新闻</a>
  <a href="http://www.javaeye.com/forums">论坛</a>
  <a href="http://www.javaeye.com/blogs">博客</a>
  <a href="http://job.javaeye.com/">招聘</a>
  <a href="#" onclick="this.blur();$('more_site_nav').toggle();return false;" id="msna"><u>更多</u> <small>▼</small></a>
  <div id="more_site_nav" style="display:none;">
    <a href="http://www.javaeye.com/ask">问答</a>
    <a href="http://www.javaeye.com/wiki">知识库</a>
    <a href="http://www.javaeye.com/groups">圈子</a>
    <a href="http://www.javaeye.com/search">搜索</a>
  </div>
</div>
      <div id="user_nav">
      <a href="http://frankswu.javaeye.com" class="welcome" title="查看我的博客首页">欢迎 frankswu</a>
    
    
      <a href="http://frankswu.javaeye.com/app/messages" title="你有新的站内短信"><img alt="Newpm" src="http://www.javaeye.com/images/newpm.gif?1193643365" /> 收件箱 (2)</a>
    
    <a href="http://frankswu.javaeye.com/app/subscriptions" title="查看我的订阅">订 阅</a>
    <a href="http://frankswu.javaeye.com/admin" title="管理我的博客">博 客</a>
    
      <a href="http://frankswu.javaeye.com/app/my_groups" title="查看我的圈子">圈 子</a>
    
    <a href="http://frankswu.javaeye.com/admin/profile">设置</a>
    <a href="/logout" class="last" onclick="var f = document.createElement('form'); f.style.display = 'none'; this.parentNode.appendChild(f); f.method = 'POST'; f.action = this.href;var m = document.createElement('input'); m.setAttribute('type', 'hidden'); m.setAttribute('name', '_method'); m.setAttribute('value', 'put'); f.appendChild(m);f.submit();return false;">退出</a>
  </div>



    </div>
    
    <div id="page" onclick="$('more_site_nav').hide();">
      <div id="branding" class="clearfix">
        <div id="blog_name"><h1><a href="/">碧血剑</a></h1></div>
        <div id="blog_preview"></div>
        <div id="blog_domain">永久域名 <a href="/">http://bxj.javaeye.com</a></div>
      </div>
      
      
      <div id="content" class="clearfix">
        <div id="main">
          


          


<div class="blog_main"> 
  <div id="blog_nav">
    
    <div id="pre_next">
      <a href="/blog/184457" class="next">网站 小图标 大全 url</a>
      |
      <a href="/blog/179516" class="pre">javax.servlet.ServletException BeanUtils ...</a>
    </div>
  </div>
  <div class="blog_title">
    <div class="date"><span class='year'>2008</span><span class='sep_year'>-</span><span class='month'>04</span><span class='sep_month'>-</span><span class='day'>05</span></div>
    <h3 class='' title=''><a href="/blog/179620">struts logic:itereate bean:write 标签</a></h3>
        <strong>关键字: struts logic:itereate bean:write 标签</strong>
  </div>

  <div class="blog_content">
    Iterate主要用来处理在页面上输出集合类，集合一般来说是下列之一： <br />1、 java对象的数组 <br /><br />2、 ArrayList、Vector、HashMap等 <br /><br />具体用法请参考struts文档，这里不作详细介绍 <br /><br />现在定义一个class，User.java 把它编译成User.class <br /><br />package example; <br /><br />import java.io.Serializable; <br />public final class User implements Serializable { <br />private String name = null; <br />private String password = null; <br /><br />public String getName () { <br />return (this.name); <br />} <br /><br />public void setName(String name) { <br />this.name = name; <br />} <br /><br />public String getPassword () { <br />return (this. password); <br />} <br /><br />public void setPassword (String password) { <br />this. password = password; <br />} <br /><br />} <br /><br />然后在一个struts webapplication中创建一个jsp，例如iterate.jsp <br /><br /><br /><br />&lt;%@ page language="java" %&gt; <br />&lt;%@ page import="example.*"%&gt; <br />&lt;%@ taglib uri="/WEB-INF/struts-bean.tld" prefix="bean" %&gt; <br />&lt;%@ taglib uri="/WEB-INF/struts-logic.tld" prefix="logic" %&gt; <br /><br />&lt;% <br />java.util.ArrayList list = new java.util.ArrayList(); <br />User usera=new User(); <br />usera.setName("white"); <br />usera.setPassword("abcd"); <br />list.add(usera); <br />User userb=new User(); <br />userb.setName("mary"); <br />userb.setPassword("hijk"); <br />list.add(userb); <br />session.setAttribute("list", list); <br /><br />%&gt; <br /><br />&lt;html&gt;&lt;body&gt;&lt;table width="100%"&gt; <br /><br />&lt;logic:iterate id="a" name="list" type=" example.User "&gt; <br /><br />&lt;tr&gt;&lt;td width="50%"&gt; <br /><br />name: &lt;bean:write name="a" property="name"/&gt; <br /><br />&lt;td/&gt;&lt;td width="50%"&gt; <br /><br />password: &lt;bean:write name="a" property="password"/&gt; <br /><br />&lt;/td&gt;&lt;/tr&gt; <br /><br />&lt;/logic:iterate&gt; <br /><br />&lt;/table&gt;&lt;/body&gt;&lt;/html&gt; <br />将User.class, iterate.jsp放到相应的目录，运行iterate.jsp你就可以看到iterate的效果了 <br /><br />iterate标记 <br />id 脚本变量的名称，它保存着集合中当前元素的句柄。 <br />name 代表了你需要叠代的集合，来自session或者request的属性。 <br />type 是其中的集合类元素的类型 <br /><br />bean的write标记是用来将属性输出的，name用来匹配iterate的id，property用来匹配相应类的属性&lt;logic:iterate&gt;用法详解22007-04-04 20:34&lt;login:iterate&gt;标记用于在页面中创建一个循环,以此来遍历如数组、Collection、Map这样的对象。该标记的功能强大，在Struts应用的页面中经常使用到。<br />1、对数组进行循环遍历<br />　　使用&lt;logic:iterate&gt;标记可以用于遍历数组，以下是一段示例代码：<br /> 程序代码&lt;%<br />String[] testArray={"str1","str2","str3"}; <br />pageContext.setAttribute("test",testArray); <br />%&gt;<br />&lt;logic:iterate id="show" name="test"&gt; <br />&lt;bean:write name="show"/&gt; <br />&lt;/logic:iterate&gt;<br />　　在上面的代码中，首先定义了一个字符串数组，并为其初始化。接着，将该数组存入pageContext对象中，命名为test1。然后使用&lt;logic:iterate&gt;标记的name属性指定了该数组，并使用id来引用它，同时使用&lt;bean:write&gt;标记来将其显示出来。其结果为：<br />str1 <br />str2 <br />str3 <br /><br />　　另外，还可以通过length属性来指定输出元素的个数。如下面的代码：<br /> 程序代码&lt;logic:iterate id="show" name="test" length="2" offset="1"&gt; <br />&lt;bean:write name="show"/&gt; <br />&lt;/logic:iterate&gt;<br />　　其中length属性指定了输出元素的个数，offset属性指定了从第几个元素开始输出，如此处为1，则表示从第二个元素开始输出。所以该代码的运行结果应当输出：<br />str2<br />str3<br /><br />　　另外，该标记还有一个indexId属性，它指定一个变量存放当前集合中正被访问的元素的序号，如：<br /> 程序代码&lt;logic:iterate id="show" name="test" length="2" offset="1" indexId="number"&gt; <br />&lt;bean:write name="number"/&gt;:&lt;bean:write name="show"/&gt; <br />&lt;/logic:iterate&gt;<br />其显示结果为：<br />1:str2 <br />2:str3 <br /><br />2、对HashMap进行循环遍历<br /> 程序代码&lt;%<br />HashMap countries=new HashMap();<br />countries.put("country1","中国");<br />countries.put("country2","美国");<br />countries.put("country3","英国");<br />countries.put("country4","法国");<br />countries.put("country5","德国");<br />pageContext.setAttribute("countries",countries); <br />%&gt;<br />&lt;logic:iterate id="country" name="countries"&gt; <br />&lt;bean:write name="country" property="key"/&gt;:<br />&lt;bean:write name="country" property="value"/&gt; <br />&lt;/logic:iterate&gt;<br />　　在bean:write中通过property的key和value分别获得HaspMap对象的键和值。其显示结果为：<br />country5:德国 <br />country3:英国 <br />country2:美国 <br />country4:法国 <br />country1:中国 <br />　　由结果可看出，它并未按添加的顺序将其显示出来。这是因为HaspMap是无序存放的。<br /><br />3、嵌套遍历<br /> 程序代码&lt;%<br />String[] colors={"red","green","blue"};<br />String[] countries1={"中国","美国","法国"};<br />String[] persons={"乔丹","布什","克林顿"};<br />ArrayList list2=new ArrayList();<br />list2.add(colors);<br />list2.add(countries1);<br />list2.add(persons);<br />pageContext.setAttribute("list2",list2);<br />%&gt;<br />&lt;logic:iterate id="first" name="list2" indexId="numberfirst"&gt;<br />&lt;bean:write name="numberfirst"/&gt;<br />&lt;logic:iterate id="second" name="first"&gt;<br />&lt;bean:write name="second"/&gt;<br />&lt;/logic:iterate&gt;<br />&lt;br&gt;<br />&lt;/logic:iterate&gt;<br />
  </div>
  
  

  

  <div class="blog_bottom">
    <ul>
      <li>10:38</li>
      <li>浏览 (628)</li>
            <li><a href="#comments">评论</a> (0)</li>
      <li>分类: <a href="/category/23620">技术篇</a></li>
      
      
        <li><a href='http://frankswu.javaeye.com/admin/user_favorites?user_favorite%5Btitle%5D=struts+logic%3Aitereate+bean%3Awrite+%E6%A0%87%E7%AD%BE&amp;user_favorite%5Burl%5D=http%3A%2F%2Fbxj.javaeye.com%2Fblog%2F179620' target='_blank' class='favorite'>收藏</a></li>
        
      
      
      <li class='last'><a href="http://www.javaeye.com/wiki/topic/179620" target="_blank" class="more">相关推荐</a></li>
    </ul>
  </div>

  
  

  <div class="blog_comment">
    <h5>评论</h5>
    <a id="comments" name="comments"></a>
     
    
    
  </div>

  <div class="blog_comment">
    <h5>发表评论</h5>
          
      <form action="/blog/179620" id="comment_form" method="post" onsubmit="return false;">        


  <input type="hidden" id="editor_bbcode_flag"/>



<div id="editor_main"><textarea class="validate-richeditor bad-words min-length-5" cols="40" id="editor_body" name="comment[body]" rows="20" style="width: 500px; height: 350px;"></textarea></div>


<script type="text/javascript">
  var editor = new Control.TextArea.Editor("editor_body", "bbcode", false);
</script>
        <p style="text-align:right;padding-right:30px;"> <input class="submit" id="submit_button" name="commit" type="submit" value="提交" /></p>
      </form>
      <script type="text/javascript">
        new Validation("comment_form", {immediate: false, onFormValidate: function(result, form){
  
          if(result) {
            new Ajax.Request('/blog/create_comment/179620', {
              onSuccess:function(response){
                Element.scrollTo($('comments'));
                $('comments').insert({after:response.responseText})
                $('editor_body').value = "";
                $('_form_spinner_').hide();
              }, parameters:Form.serialize(form)
            });
          }
  
      }});
      </script>
      </div>
</div>


<script type="text/javascript">
  dp.SyntaxHighlighter.ClipboardSwf = '/javascripts/syntaxhighlighter/clipboard.swf';
  dp.SyntaxHighlighter.HighlightAll('code', true, true);

  fix_image_size($$('div.blog_content img'), 700);
  function quote_comment(link) {
    quote_user = $(link).previous(0).innerHTML;
    quote_body = $(link).up().next().innerHTML.stripTags();
    editor.bbcode_editor.textarea.insertAfterSelection('[quote="'+quote_user+'"]\n' + quote_body + '\n[/quote]\n');
  }
</script>


        </div>
        
        <div id="local">
          <div class="local_top"></div>
          <div id="blog_owner">
            <div id="blog_owner_logo"><a href='http://bxj.javaeye.com'><img alt="用户头像" src="http://www.javaeye.com/upload/logo/user/42714/5175099f-6a91-3e3b-add0-e77a4d16c84d.jpg?1224037788" title="碧血剑的博客: 碧血剑" /></a></div>
            <div id="blog_owner_name">碧血剑</div>
          </div>
          <div id="blog_actions">
            <ul>
              <li>浏览: 17982 次</li>
              <li>性别: <img alt="Icon_minigender_1" src="http://www.javaeye.com/images/icon_minigender_1.gif?1192779195" title="男" /></li>
              <li>来自: 深圳</li>
              <li><img src='/images/status/offline.gif'/></li>              
              <li><a href="/blog/profile">详细资料</a> <a href="http://frankswu.javaeye.com/app/messages/new?message%5Breceiver_name%5D=%E7%A2%A7%E8%A1%80%E5%89%91">发送短消息</a> <a href="/blog/guest_book">留言簿</a></li>
            </ul>
            <h5>搜索本博客</h5>
            <form action="/blog/search" method="get">              <input class="text" id="query" name="query" style="margin-left: 10px;width: 110px;" type="text" />
              <input class="submit" type="submit" value="搜索" />
            </form>          </div>
          
            <div id="user_visits" class="clearfix">
              <h5>最近访客</h5>
              
                <div class="left"><span class="logo"><a href='http://frankswu.javaeye.com' target='_blank'><img alt="用户头像" src="http://www.javaeye.com/images/user-logo-thumb.gif?1194185304" title="frankswu的博客: " /></a></span> <a href='http://frankswu.javaeye.com' target='_blank'>frankswu</a></div>
              
                <div class="left"><span class="logo"><a href='http://allforjava.javaeye.com' target='_blank'><img alt="用户头像" src="http://www.javaeye.com/images/user-logo-thumb.gif?1194185304" title="allforjava的博客: allforjava" /></a></span> <a href='http://allforjava.javaeye.com' target='_blank'>allforjava</a></div>
              
                <div class="left"><span class="logo"><a href='http://yourshine.javaeye.com' target='_blank'><img alt="用户头像" src="http://www.javaeye.com/images/user-logo-thumb.gif?1194185304" title="yourshine的博客: " /></a></span> <a href='http://yourshine.javaeye.com' target='_blank'>yourshine</a></div>
              
                <div class="left"><span class="logo"><a href='http://qilunzhang.javaeye.com' target='_blank'><img alt="用户头像" src="http://www.javaeye.com/images/user-logo-thumb.gif?1194185304" title="qilunzhang的博客: qilunzhang" /></a></span> <a href='http://qilunzhang.javaeye.com' target='_blank'>qilunzhang</a></div>
              
              <div class="left" id="more_user_visits"><a href="/blog/user_visits">&gt;&gt;更多访客</a></div>
            </div>
          
                      <div id="blog_menu">
              <h5>博客分类</h5>				
              <ul>
                <li><a href="/">全部博客 (87)</a></li>
                
                  <li><a href="/category/23620">技术篇 (39)</a></li>
                
                  <li><a href="/category/23621">管理篇 (7)</a></li>
                
                  <li><a href="/category/23680">网站 (8)</a></li>
                
                  <li><a href="/category/23681">书籍 (2)</a></li>
                
                  <li><a href="/category/33968">网络安全 (1)</a></li>
                
                  <li><a href="/category/35982">调查 (1)</a></li>
                
                  <li><a href="/category/41588">工具使用 (1)</a></li>
                
                  <li><a href="/category/42269">flex (3)</a></li>
                
                  <li><a href="/category/42340">数据恢复 (2)</a></li>
                
                  <li><a href="/category/43272">搜索引擎 (2)</a></li>
                
                  <li><a href="/category/44038">地图 (6)</a></li>
                
                  <li><a href="/category/45223">js (1)</a></li>
                
              </ul>
            </div>
            
              <div id="blog_album">
                <h5>我的相册</h5>
                <div class="picture_thumb" style="float: none">
                  <div><span class='thumb_box'><a href='/album'><img alt="Cfe4e3b5-3d1a-302a-9149-9882addd1324-thumb" src="http://www.javaeye.com/upload/picture/pic/21785/cfe4e3b5-3d1a-302a-9149-9882addd1324-thumb.jpg?1221290898" /></a></span></div>
                  <span>4<br/> <a href="/album">共 5 张</a></span>
                </div>
              </div>
            
            
            <div id="blog_others">
              <h5>其他分类</h5>
              <ul>
                <li><a href="/blog/favorite">我的收藏</a> (62)</li>
                                
                                <li><a href="/blog/forum">我的论坛帖子</a> (12)</li>
                <li><a href="/blog/article">我的精华良好贴</a> (0)</li>
                              </ul>
            </div>
            
            <div id="recent_groups">
              <h5>最近加入圈子</h5>
              <ul>
                
                  <li><a href="http://hzJavaEyer.group.javaeye.com">javascript研究小组</a></li>
                
                  <li><a href="http://lucene-group.group.javaeye.com">lucene爱好者</a></li>
                
              </ul>
            </div>
            
              <div id="user_links">
                <h5>链接</h5>
                <ul>
                  
                    <li><a href="http://www.schneier.com/" target="_blank">Bruce Schneier</a></li>
                  
                    <li><a href="http://www.cnblogs.com/step1/" target="_blank">K_Reverter的网页开发记录</a></li>
                  
                    <li><a href="http://www.cnflex.org/trac/" target="_blank">flex地图玩家 </a></li>
                  
                    <li><a href="http://ghtyan.cnblogs.com/" target="_blank">地图实现</a></li>
                  
                    <li><a href="http://www.leijun.com" target="_blank">雷军</a></li>
                  
                    <li><a href="http://blog.csdn.net/aimingoo" target="_blank">周爱民</a></li>
                  
                    <li><a href="http://livelabs.com/about/" target="_blank">http://livelabs.com/about/</a></li>
                  
                    <li><a href="http://googlemapsmania.blogspot.com/" target="_blank">谷歌地图新闻</a></li>
                  
                </ul>
              </div>
            
            
                          <div id="month_blogs">
                <h5>存档</h5>
                <ul>
                  
                    <li><a href="/blog/monthblog/2008-12">2008-12</a> (4)</li>
                  
                    <li><a href="/blog/monthblog/2008-11">2008-11</a> (6)</li>
                  
                    <li><a href="/blog/monthblog/2008-10">2008-10</a> (15)</li>
                  
                  <li><a href="/blog/monthblog_more">更多存档...</a></li>
                </ul>
              </div>
                        <div id="recent_comments">
              <h5>最新评论</h5>
              <ul>
                
                  <li>
                    <a href="/blog/187736#comments" title="常用邮件服务器名(POP3,SMTP地址)">常用邮件服务器名(POP3,SM ...</a><br/>
                      ...<br/>
                    -- by <a href='http://ning-yi-qiang.javaeye.com' target='_blank'>ning-yi-qiang</a>
                  </li>
                
                  <li>
                    <a href="/blog/150286#comments" title="关于图片重新载入问题">关于图片重新载入问题</a><br/>
                    有知道怎么办呢的吗<br/>
                    -- by <a href='http://bxj.javaeye.com' target='_blank'>碧血剑</a>
                  </li>
                
                  <li>
                    <a href="/blog/148340#comments" title="关于struts跳转url显示问题">关于struts跳转url显示问 ...</a><br/>
                    http://tuckey.org/urlrewrite/<br/>
                    -- by <a href='http://velna-007.javaeye.com' target='_blank'>velna_007</a>
                  </li>
                
                  <li>
                    <a href="/blog/148340#comments" title="关于struts跳转url显示问题">关于struts跳转url显示问 ...</a><br/>
                    用apache的url重写，或者自定义一下structs的ActionMappi ...<br/>
                    -- by <a href='http://myreligion.javaeye.com' target='_blank'>myreligion</a>
                  </li>
                
                  <li>
                    <a href="/blog/147129#comments" title="ajax网站">ajax网站</a><br/>
                    不错,要收藏的<br/>
                    -- by <a href='http://leonardleonard.javaeye.com' target='_blank'>leonardleonard</a>
                  </li>
                
              </ul>
            </div>
            <div id="comments_top">
              <h5>评论排行榜</h5>
              <ul>
                
                  <li><a href="/blog/187736">常用邮件服务器名(POP3,SMTP地址)</a></li>
                
                  <li><a href="/blog/174344">搜索引擎 lunece</a></li>
                
                  <li><a href="/blog/187913">Google 的秘密- PageRank 彻底解说 中文 ...</a></li>
                
                  <li><a href="/blog/171535">java网址</a></li>
                
                  <li><a href="/blog/213520">关于 Trojan.PWS.QQPass 病毒 清除</a></li>
                
              </ul>
            </div>
            <div id="rss">
              <ul>
                <li><a href="/rss" target="_blank"><img alt="Rss" src="http://www.javaeye.com/images/rss.png?1195448807" /></a></li>
                <li><a href="http://fusion.google.com/add?feedurl=http://bxj.javaeye.com/rss" target="_blank"><img alt="Rss_google" src="http://www.javaeye.com/images/rss_google.gif?1197872161" /></a></li>
                <li><a href="http://www.zhuaxia.com/add_channel.php?url=http://bxj.javaeye.com/rss" target="_blank"><img alt="Rss_zhuaxia" src="http://www.javaeye.com/images/rss_zhuaxia.gif?1197872161" /></a></li>
                <li><a href="http://www.xianguo.com/subscribe.php?url=http://bxj.javaeye.com/rss" target="_blank"><img alt="Rss_xianguo" src="http://www.javaeye.com/images/rss_xianguo.jpg?1206446465" /></a></li>
                <li><a href="http://www.google.com/search?hl=zh-CN&q=RSS">[什么是RSS?]</a></li>
              </ul>
            </div>
            <div class="local_bottom"></div>
          
        </div>
      </div>
      
      <div id="footer" class="clearfix">            	
        <div id="copyright">
          <hr/>
          声明：JavaEye文章版权属于作者，受法律保护。没有作者书面许可不得转载。若作者同意转载，必须以超链接形式标明文章原始出处和作者。<br />
          &copy; 2003-2008 JavaEye.com.   All rights reserved. 上海炯耐计算机软件有限公司 [ 沪ICP备05023328号 ] 
        </div>
      </div>
    </div>
    
  </body>
</html>
