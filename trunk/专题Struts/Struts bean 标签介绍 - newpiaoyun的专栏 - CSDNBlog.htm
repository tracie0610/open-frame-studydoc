

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta name="author" content="飘云" />
    <meta name="Copyright" content="Csdn" />
    <meta name="description" content="Struts bean 标签" />
    <meta name="keywords" content="飘云,Struts bean 标签介绍 " />
    <link rel="Shortcut Icon" href="http://profile.csdn.net/newpiaoyun/picture/1.ico" />
    <link href="http://hi.images.csdn.net/css/Cogitation/Cogitation_1.css" type="text/css" rel="stylesheet" media="all" /><script type="text/javascript" src="http://hi.images.csdn.net/js/public/jquery-1.2.3.pack.js"></script><script type="text/javascript" src="/SyntaxHighlighter/jquery.highlighter.js"></script><script type="text/javascript" src="/SyntaxHighlighter/highlighter.js"></script><link href="http://blog.csdn.net/newpiaoyun/rss.aspx" title="RSS" type="application/rss+xml" rel="alternate" />
    <title>
        Struts bean 标签介绍  - newpiaoyun的专栏 - CSDNBlog</title>
</head>
<body id="defaultuser">
    <div id="csdnblog_allwrap">
        <form name="Form1" method="post" action="2907505.aspx" id="Form1">
<input type="hidden" name="__VIEWSTATE" id="
__VIEWSTATE" value="" />

<script type="text/javascript">
//<![CDATA[
var Anthem_FormID = "Form1";
//]]>
</script>
<script src="/WebResource.axd?d=hr0iykG8uU2LDwVRjOSAiKwBJ4IciE4VcaAlTmDhVjM1&amp;t=633697844370156250" type="text/javascript"></script>
        
<div id="csdnblog_midwrap">
    <div id="csdnblog_header">
        
        <h1><a id="Header1_HeaderTitle" href="http://blog.csdn.net/newpiaoyun/">newpiaoyun的专栏</a></h1><h2></h2>
        
        <ul id="personalnav"><li><a href="http://passport.csdn.net/UserLogin.aspx">登录</a></li><li><a href="http://passport.csdn.net/CSDNUserRegister.aspx">注册</a></li></ul>
        
        <ul id="blogsearchsty"><li><input id="inputSearch" type="text" class="bolgsearch" onkeydown="return keyb(event)" /></li><li class="selectsty"><select name="Search:ddlSearchScope" id="Search_ddlSearchScope"><option value="all">全站</option><option value="newpiaoyun">当前博客</option></select></li><li><input type="button" onclick="checkNull()" value="搜索" class="bolggobtn" /></li></ul>
        
        <ul id="menu"><li><a href="http://hi.csdn.net/newpiaoyun">空间</a></li><li><a href="http://blog.csdn.net/newpiaoyun" class="on">博客</a></li><li><a href="http://hi.csdn.net/newpiaoyun/profile/contactlist/1.html">好友</a></li><li><a href="http://album.hi.csdn.net/" target="_blank">相册</a></li><li><a href="http://hi.csdn.net/newpiaoyun/profile/notebook/1.html" class="last">留言</a></li></ul>
    </div>
    <div id="csdnblog_sidebar">
        <div class="gutter">
            <div class="aboutauthor">
                <dl>
                    
                    <dt>用户操作</dt><dd class="middle"><a href="http://passport.csdn.net/UserLogin.aspx?from=http://webim.csdn.net/Messages/newpiaoyun.ashx" target="_blank">[即时聊天]</a> <a href="http://passport.csdn.net/UserLogin.aspx?from=http://hi.csdn.net/Admin/WriteMessage.aspx?Receiver=newpiaoyun" target="_blank">[发私信]</a> <a href="http://passport.csdn.net/UserLogin.aspx?from=http://webim.csdn.net/AddFriends/newpiaoyun.ashx" target="_blank">[加为好友]</a></dd><dt>    飘云<span>ID：newpiaoyun</span></dt><dd class="middle">    <img src="http://avatar.profile.csdn.net/E/F/0/1_newpiaoyun.jpg" alt="" /></dd><dd class="middle">    <a href="http://profile.csdn.net/8/E4/edit.html"></a></dd><dd>    共<em>3281</em>次访问，排名<em>2万外</em>，好友<em>1</em>人，关注者<em>14</em>人。<br/></dd><dd>    </dd><dt>newpiaoyun的文章</dt><dd>原创 5 篇</dd><dd>翻译 0 篇</dd><dd>转载 35 篇</dd><dd>评论 6 篇</dd> 
                    
                    

                    <dt>最近评论</dt><dd>myloveiscomealone：<a href="http://blog.csdn.net/newpiaoyun/archive/2008/09/18/2945681.aspx#956657" Title="点击查看《回复:JavaScript 事件绑定的方法说明》">力挺</a></dd><dd>myloveiscomealone：<a href="http://blog.csdn.net/newpiaoyun/archive/2008/09/18/2945681.aspx#956655" Title="点击查看《回复:JavaScript 事件绑定的方法说明》">力挺</a></dd><dd>oncoding：<a href="http://blog.csdn.net/newpiaoyun/archive/2008/09/11/2914359.aspx#906379" Title="点击查看《回复:史上最牛的面试》">牛！</a></dd><dd>mengxj85：<a href="http://blog.csdn.net/newpiaoyun/archive/2008/09/11/2914238.aspx#905162" Title="点击查看《回复:Javascript对象（一）》">博主，好样的，一下子发表那么多的ＪＳ资料，正是我所需要的，谢谢了</a></dd><dd>bj2008_c：<a href="http://blog.csdn.net/newpiaoyun/archive/2008/09/11/2914359.aspx#901254" Title="点击查看《回复:史上最牛的面试》">精典</a></dd>
                    
                    <dt>文章分类</dt><dd><div class="publiclist_sidebar"><ul><li><a href="http://blog.csdn.net/newpiaoyun/category/460784.aspx">C及类C</a><a href="http://blog.csdn.net/newpiaoyun/category/460784.aspx/rss">(RSS)</a></li><li><a href="http://blog.csdn.net/newpiaoyun/category/460815.aspx">java</a><a href="http://blog.csdn.net/newpiaoyun/category/460815.aspx/rss">(RSS)</a></li><li><a href="http://blog.csdn.net/newpiaoyun/category/461688.aspx">JavaScript</a><a href="http://blog.csdn.net/newpiaoyun/category/461688.aspx/rss">(RSS)</a></li><li><a href="http://blog.csdn.net/newpiaoyun/category/510746.aspx">PHP</a><a href="http://blog.csdn.net/newpiaoyun/category/510746.aspx/rss">(RSS)</a></li><li><a href="http://blog.csdn.net/newpiaoyun/category/460782.aspx">Struts1.x</a><a href="http://blog.csdn.net/newpiaoyun/category/460782.aspx/rss">(RSS)</a></li><li><a href="http://blog.csdn.net/newpiaoyun/category/460783.aspx">Struts2.0</a><a href="http://blog.csdn.net/newpiaoyun/category/460783.aspx/rss">(RSS)</a></li><li><a href="http://blog.csdn.net/newpiaoyun/category/461697.aspx">工作之余</a><a href="http://blog.csdn.net/newpiaoyun/category/461697.aspx/rss">(RSS)</a></li></ul></div></dd><dt>收藏</dt><dd><div class="publiclist_sidebar"><ul></ul></div></dd><dt>相册</dt><dt>存档</dt><dd><div class="publiclist_sidebar"><ul><li><a href="/newpiaoyun/archive/2009/02.aspx">2009年02月(1)</a></li><li><a href="/newpiaoyun/archive/2008/09.aspx">2008年09月(38)</a></li><li><a href="/newpiaoyun/archive/2006/08.aspx">2006年08月(1)</a></li></ul></div></dd>

                    <span id="RecentVisitors"></span>
                    
                    <dt>软件项目交易</dt><dd><iframe style="margin:0;　padding:0; width: 180px; height: 32px;" src="http://prj.csdn.net/CSDN/CsdnBlog/CsdnBlogPage.html" frameborder="0" scrolling="no" ></iframe></dd>
                    
                    <span id="SubscriptionList"><dt>订阅我的博客</dt><dd><a href="http://blog.csdn.net/newpiaoyun/Rss.aspx" ><img border="0" alt="XML聚合" src="/images/xml.gif" /></a>&nbsp;&nbsp;<a href="http://feeds.feedsky.com/csdn.net/newpiaoyun" target="_blank"><img border="0" alt="FeedSky" src="/images/feedsky.gif" /></a></dd><dd><a href="http://www.xianguo.com/subscribe.php?url=http://blog.csdn.net/newpiaoyun/Rss.aspx" target="_blank"><img border="0" alt="订阅到鲜果" src="/images/rss_xianguo.jpg"/></a></dd><dd><a href="http://fusion.google.com/add?feedurl=http://blog.csdn.net/newpiaoyun/Rss.aspx" target="_blank"><img border="0" alt="订阅到Google" src="/images/rss_google.gif"/></a></dd><dd><a href="http://www.zhuaxia.com/add_channel.php?url=http://blog.csdn.net/newpiaoyun/Rss.aspx" target="_blank"><img border="0" alt="订阅到抓虾" src="/images/rss_zhuaxia.gif"/></a></dd><dd><a href="http://www.bloglines.com/sub/http://blog.csdn.net/newpiaoyun/Rss.aspx" target="_blank"><img border="0" alt="订阅到BlogLines" src="/images/rss_bloglines.gif"/></a></dd><dd><a href="http://add.my.yahoo.com/rss?url=http://blog.csdn.net/newpiaoyun/Rss.aspx" target="_blank"><img border="0" alt="订阅到Yahoo" src="/images/rss_yahoo.gif"/></a></dd><dd><a href="http://rss.gougou.com/find_rss.jsp?url=http://blog.csdn.net/newpiaoyun/Rss.aspx" target="_blank"><img border="0" alt="订阅到GouGou" src="/images/rss_gougou.gif"/></a></dd><dd><a href="http://www.pageflakes.com/subscribe.aspx?url=http://blog.csdn.net/newpiaoyun/Rss.aspx" target="_blank"><img border="0" alt="订阅到飞鸽" src="/images/rss_pageflakes.gif"/></a></dd><dd><a href="http://www.rojo.com/add-subscription?resource=http://blog.csdn.net/newpiaoyun/Rss.aspx" target="_blank"><img border="0" alt="订阅到Rojo" src="/images/rss_rojo.gif"/></a></dd><dd><a href="http://www.newsgator.com/ngs/subscriber/subfext.aspx?url=http://blog.csdn.net/newpiaoyun/Rss.aspx" target="_blank"><img border="0" alt="订阅到newsgator" src="/images/rss_newsgator.gif"/></a></dd><dd><a href="http://www.netvibes.com/subscribe.php?url=http://blog.csdn.net/newpiaoyun/Rss.aspx" target="_blank"><img border="0" alt="订阅到netvibes" src="/images/rss_netvibes.gif"/></a></dd></span>
                </dl>
            </div>
        </div>
    </div>
    
    <div id="csdnblog_content">
        <div class="gutter">
            
                    
<div class="default_contents">
    <div class="user_article">
        <script type="text/javascript" src="http://blog.csdn.net/js/LoadFeedbackCount.js"></script>
        <h1><img src="/images/turnship.gif" border="0" width="15" height="14" alt="转载" />&nbsp;<a href="http://blog.csdn.net/newpiaoyun/archive/2008/09/10/2907505.aspx">Struts bean 标签介绍 </a><cite class="fav_csdnstylebykimi"><a href="JavaScript:d=document;t=d.selection?(d.selection.type!='None'?d.selection.createRange().text:''):(d.getSelection?d.getSelection():'');void(saveit=window.open('http://wz.csdn.net/storeit.aspx?t='+escape(d.title)+'&u='+escape(d.location.href)+'&c='+escape(t),'saveit','scrollbars=no,width=590,height=300,left=75,top=20,status=no,resizable=yes'));saveit.focus();" class="fav_csdnstylebykimi" title="收藏到我的网摘中，并分享给我的朋友">收藏</a></cite></h1>
<div class="blogstory">
    <span id="Post.ascx_ViewPost_PreviousAndNextEntriesUp"><h3><a href="http://blog.csdn.net/newpiaoyun/archive/2008/09/10/2907511.aspx">新一篇:&nbsp;Struts Logic 标签介绍 </a>&nbsp;|&nbsp;<a href="http://blog.csdn.net/newpiaoyun/archive/2008/09/10/2907464.aspx">旧一篇:&nbsp;Struts Html 标签介绍 </a></h3></span>
    <script>function StorePage(){d=document;t=d.selection?(d.selection.type!='None'?d.selection.createRange().text:''):(d.getSelection?d.getSelection():'');void(keyit=window.open('http://www.365key.com/storeit.aspx?t='+escape(d.title)+'&u='+escape(d.location.href)+'&c='+escape(t),'keyit','scrollbars=no,width=475,height=575,left=75,top=20,status=no,resizable=yes'));keyit.focus();}</script>&nbsp; 
<H2><A name=d10e77><FONT color=#000000>bean:cookie</FONT></A></H2>
<P>cookie最早是由Netscape公司提出来的，用来存储客户的少量状态信息。如果您对cookie的具体细节感兴趣可以查阅<A href="http://www.solol.org/technologic/java/j-struts/#resource"><FONT color=#800080>参考资料</FONT></A>中的cookie spec。 </P>
<P>bean:cookie标签取回请求中名称为name的cookie的值。如果没有指定multiple属性则依据刚取回的值创建一个Cookie类型的bean。如果指定了multiple属性则依据刚取回的值创建一个Cookie[]类型的数组。然后用id属性值将Cookie或Cookie[]绑定到page作用域中(这种绑定是为了其它标签能够使用该值)，并创建对应的scripting变量(这种变量是为了JSP脚本能够使用该值)。</P>
<P>下面的代码片段示例了如何使用bean:cookie标签读取名为JSESSIONID的cookie的值，并且使用了两种方式进行了输出：</P><PRE>&lt;logic:present cookie="JSESSIONID"&gt;
&nbsp;&nbsp; &lt;bean:cookie id="jSession" name="JSESSIONID"/&gt;
&nbsp;&nbsp; &lt;!-- 其它标签通过绑定到page作用域中的属性使用该值 --&gt;
&nbsp;&nbsp; 这个cookie的名称是&lt;bean:write name="jSession" property="name"/&gt;，
&nbsp;&nbsp; 值为&lt;bean:write name="jSession" property="value"/&gt;。&lt;br/&gt;
&nbsp;&nbsp; &lt;!-- JSP脚本通过scripting变量使用该值 --&gt;
&nbsp;&nbsp; &lt;%
&nbsp;&nbsp;&nbsp;&nbsp; String name = jSession.getName();
&nbsp;&nbsp;&nbsp;&nbsp; String value = jSession.getValue();
&nbsp;&nbsp;&nbsp;&nbsp; out.println("这个cookie的名称是"+name+"，值为"+value+"。
&nbsp;&nbsp;&nbsp;&nbsp; &lt;br/&gt;"); 
&nbsp;&nbsp; %&gt;
&lt;/logic:present&gt;
</PRE>
<DIV><A title=回页首 href="http://www.solol.org/technologic/java/j-struts/#top"><FONT color=#800080>回页首</FONT></A></DIV>
<H2><A name=d10e98><FONT color=#000000>bean:define</FONT></A></H2>
<P>bean:define标签在toScope(如果没有指定值就使用page作用域)指定的作用域中创建一个新属性，同时创建一个scripting变量。我们可以通过id值使用它们。新创建的属性可以由其它标签使用，而新创建的scripting变量可以由JSP脚本使用。</P>
<P>我们可以使用三种方式为新创建的属性和scripting变量赋值： </P>
<UL>
<LI>通过该标签的name、property和scope取回值，并且保持类型的一致性，除非取回的值为Java的原始类型，这时会使用适合的包装器类对这些值进行包装。 
<LI>通过该标签的value指定值，这时新创建的属性和scripting变量的类型为java.lang.String。 
<LI>通过在该标签的体中嵌入值，这时新创建的属性和scripting变量的类型为java.lang.String。 </LI></UL>
<P>&nbsp;</P>
<P>下面的代码片段示例了如何使用bean:define标签创建新属性values和新scripting变量values，它将listForm中persons的值取出来赋给values:</P><PRE>&lt;bean:define id="values" name="listForm" property = "persons" 
 type="java.util.List"/&gt; 
</PRE>
<P>下面给出ListForm的代码片段以帮助您更好的理解，其中Person是一个只有id和name两个属性的简单bean：</P><PRE>public class ListForm extends ActionForm {
&nbsp;&nbsp; private List&lt;Person&gt; persons = null;
&nbsp;&nbsp; public List&lt;Person&gt; getPersons() {
&nbsp;&nbsp;&nbsp;&nbsp; return persons;
&nbsp;&nbsp; }
&nbsp;&nbsp; public void setPersons(List&lt;Person&gt; persons) {
&nbsp;&nbsp;&nbsp;&nbsp; this.persons = persons;
&nbsp;&nbsp; }
&nbsp;&nbsp; public void reset(ActionMapping mapping, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; HttpServletRequest request) {
&nbsp;&nbsp;&nbsp;&nbsp; persons = null;
&nbsp;&nbsp; }
} 
</PRE>
<P>下面的代码片段示例了logic:iterate标签如何使用bean:define标签创建的新属性values:</P><PRE>&lt;logic:iterate id="person" name="values"&gt;
&nbsp;&nbsp; &lt;bean:write name="person" property="id"/&gt;&lt;br/&gt;
&lt;/logic:iterate&gt;
</PRE>
<P>下面的代码片段示例了JSP脚本如何使用bean:define标签创建的新scripting变量values:</P><PRE>&lt;%
&nbsp;&nbsp; Person p = new Person();
&nbsp;&nbsp; for(int i=0;i&lt;values.size();i++){
&nbsp;&nbsp;&nbsp;&nbsp; p = (Person)values.get(i);
&nbsp;&nbsp;&nbsp;&nbsp; out.println(p.getId());
&nbsp;&nbsp;&nbsp;&nbsp; out.println("&lt;br/&gt;");
&nbsp;&nbsp; }  
%&gt;
</PRE>
<DIV><A title=回页首 href="http://www.solol.org/technologic/java/j-struts/#top"><FONT color=#800080>回页首</FONT></A></DIV>
<H2><A name=d10e148><FONT color=#000000>bean:header</FONT></A></H2>
<P>bean:header标签取回请求中名称为name的header的值。如果没有指定multiple属性则依据刚取回的值创建一个String类型的bean。如果指定了multiple属性则依据刚取回的值创建一个String[]类型的数组。然后用id属性值将String或String[]绑定到page作用域中(这种绑定是为了其它标签能够使用该值)，并创建对应的scripting变量(这种变量是为了JSP脚本能够使用该值)。</P>
<P>下面是我的浏览器发送的header的内容，这些内容和浏览器有关，因此您的浏览器发送的内容可能和下面列出的不同。不过这没有关系，因为要理解bean:header标签您只要对这些内容有一个大概的认识就足够了。</P><PRE>accept: */* 
accept-language: zh-cn 
accept-encoding: gzip, deflate 
user-agent: Mozilla/4.0 (compatible; MSIE 6.0; //应该在同一行
&nbsp;&nbsp; Windows NT 5.1; SV1; .NET CLR 1.1.4322) 
host: localhost:8080 
connection: Keep-Alive 
</PRE>
<P>下面的代码片段示例了如何使用bean:header标签读取名为User-Agent的header的值，并且使用了两种方式进行了输出：</P><PRE>&lt;logic:present header="User-Agent"&gt;
&nbsp;&nbsp; &lt;!-- 其它标签通过绑定到page作用域中的属性使用该值 --&gt;
&nbsp;&nbsp; 您的浏览器是&lt;bean:header id="userAgent" name="User-Agent"/&gt;
&nbsp;&nbsp; &lt;bean:write name="userAgent"/&gt;。&lt;br/&gt;
&nbsp;&nbsp; &lt;!-- JSP脚本通过scripting变量使用该值 --&gt;
&nbsp;&nbsp; &lt;%
&nbsp;&nbsp;&nbsp;&nbsp; out.println("您的浏览器是"+userAgent+"。&lt;br/&gt;"); 
&nbsp;&nbsp; %&gt;
&lt;/logic:present&gt;
</PRE>
<DIV><A title=回页首 href="http://www.solol.org/technologic/java/j-struts/#top"><FONT color=#800080>回页首</FONT></A></DIV>
<H2><A name=d10e169><FONT color=#000000>bean:include</FONT></A></H2>
<P>bean:include标签对指定url(由forward、href或page确定)处的资源做一个请求，将响应数据作为一个String类型的bean绑定到page作用域，同时创建一个scripting变量。我们可以通过id值访问它们。</P>
<P>下面的代码片段示例了bean:include标签的用法，其中include.txt文件包含要include的内容，然后将这些内容输出:</P><PRE>&lt;bean:include id="value" page="/include.txt"/&gt;
&lt;!-- 其它标签通过绑定到page作用域中的属性使用该值 --&gt;
&lt;bean:write name="value"/&gt;&lt;br/&gt;
&lt;!-- JSP脚本通过scripting变量使用该值 --&gt;
&lt;%
&nbsp;&nbsp; out.println(value); 
%&gt;
</PRE>
<DIV><A title=回页首 href="http://www.solol.org/technologic/java/j-struts/#top"><FONT color=#800080>回页首</FONT></A></DIV>
<H2><A name=d10e184><FONT color=#000000>bean:message</FONT></A></H2>
<P>bean:message标签用来从指定的locale中取回国际化的消息并输出，在这个过程中我们还可以传递五个以内的参数。message key可以通过key直接指定，也可以通过name和property间接的指定。</P>
<P>bean:message标签有两种指定message key的方式，一是通过key属性直接指定；二是通过name和property属性间接的指定，其中message key是在message resources文件中定义的。</P>
<P>我们可以在struts-config.xml文件中使用&lt;message-resources&gt;来设置message resources文件。</P>
<P>为了介绍该标签我使用了三个message resources文件，三个文件的名字分别为Resources.properties、Resources_en.properties和Resources_zh.properties。在struts-config.xml文件中的设置(这里不用设置三个，struts会依据locale自动找到对应的文件)如下：</P><PRE>&lt;message-resources parameter="Resources" /&gt;
</PRE>
<P>三个message resources文件中定义的message key为：</P><PRE>&lt;!-- Resources.properties --&gt;
resource=Resources.properties.
from=Resources.properties.
&lt;!-- Resources_en.properties --&gt;
from=Resources_en.properties.
&lt;!-- Resources_zh.properties 
&nbsp;&nbsp; 因为文件的编码被限制为ISO8859所以要有汉字必须用jdk的native2ascii提前转换 
--&gt;
from=Resources_zh.properties.
</PRE>
<P>下面的代码片段示例了bean:message标签的用法:</P><PRE>&lt;bean:message key="from"/&gt;&lt;br/&gt;
&lt;bean:message key="resource"/&gt;&lt;br/&gt;
&lt;html:link action="/locale?language=en"&gt;English&lt;/html:link&gt;
&lt;html:link action="/locale?language=zh"&gt;Chinese&lt;/html:link&gt;
</PRE>
<P>上面的代码中含有改变locale的两个html:link标签，要使它们工作您的struts-config.xml文件中必须含有下面定义的form和action:</P><PRE>&lt;form-bean name="localeForm" 
&nbsp;&nbsp;&nbsp;&nbsp; type="org.apache.struts.action.DynaActionForm"&gt;
&nbsp;&nbsp; &lt;form-property name="language" type="java.lang.String" /&gt;
&nbsp;&nbsp; &lt;form-property name="country" type="java.lang.String" /&gt;
&nbsp;&nbsp; &lt;!--action成功后要跳到那里--&gt;
&nbsp;&nbsp; &lt;form-property name="page"&nbsp;&nbsp; type="java.lang.String" 
&nbsp;&nbsp;&nbsp;&nbsp; initial="/message.jsp"/&gt;
&lt;/form-bean&gt;
 
&lt;action path="/locale" type="org.apache.struts.actions.LocaleAction"
&nbsp;&nbsp; name="localeForm" scope="request"&gt;
&lt;/action&gt;
</PRE>
<P>在不同的locale下我们得到了如下的两个结果：</P><PRE>在locale为zh时的结果：
Resources_zh.properties.
Resources.properties.
在locale为en时的结果： 
Resources_en.properties.
Resources.properties.
</PRE>
<P>让我们来看一下在locale为zh时如何得到的是上面的结果。因为locale为zh所以&lt;bean:message key="from"/&gt;&lt;br/&gt;先找Resources_zh.properties这个文件从中得到form键的值。而&lt;bean:message key="resource"/&gt;&lt;br/&gt;也会先找Resources_zh.properties这个文件但这次没有找到resource键，这时Struts会到Resources.properties这个文件中找，很幸运这里找到了。如果还没有找到，或message resource文件不存在就会抛出异常。当locale为en时类似，您可以自己试试。 </P>
<DIV><A title=回页首 href="http://www.solol.org/technologic/java/j-struts/#top"><FONT color=#800080>回页首</FONT></A></DIV>
<H2><A name=d10e235><FONT color=#000000>bean:page</FONT></A></H2>
<P>bean:page标签将页上下文中的application、config、request、response 或 session取出，然后用id属性值将它们绑定到page作用域中(这种绑定是为了其它标签能够使用该值)，并创建对应的scripting变量(这种变量是为了JSP脚本能够使用该值)。</P>
<P>下面的代码片段示例了bean:page标签取出response，然后使用bean:write标签将response的characterEncoding和contentType属性输出：</P><PRE>&lt;bean:page id="res" property="response"/&gt;
&lt;!-- 其它标签通过绑定到page作用域中的属性使用该值 --&gt;
&lt;bean:write name="res" property="characterEncoding"/&gt;&lt;br/&gt;
&lt;bean:write name="res" property="contentType"/&gt;&lt;br/&gt;
&lt;!-- JSP脚本通过scripting变量使用该值 --&gt;
&lt;%
&nbsp;&nbsp; String characterEncoding = res.getCharacterEncoding();
&nbsp;&nbsp; String contentType = res.getContentType();
&nbsp;&nbsp; out.println(characterEncoding+"&lt;br/&gt;"); 
&nbsp;&nbsp; out.println(contentType+"&lt;br/&gt;"); 
%&gt;
</PRE>
<P>您可以用和上面类似的代码访问application、config、request 或 session中的任何一个对象。</P>
<DIV><A title=回页首 href="http://www.solol.org/technologic/java/j-struts/#top"><FONT color=#800080>回页首</FONT></A></DIV>
<H2><A name=d10e253><FONT color=#000000>bean:parameter</FONT></A></H2>
<P>bean:parameter标签取回请求中的参数值。如果没有指定multiple属性则依据刚取回的值创建一个String类型的bean。如果指定了multiple属性则依据刚取回的值创建一个String[]类型的数组。然后用id属性值将String或String[]绑定到page作用域中(这种绑定是为了其它标签能够使用该值)，并创建对应的scripting变量(这种变量是为了JSP脚本能够使用该值)。</P>
<P>下面的两个代码片段使用相同的url传递参数，url的形式为http://127.0.0.1:8080/struts-demo/parameter.jsp?param=1&amp;param=2&amp;param=3。前面的代码片段中没有指定multiple属性，因此p是String类型而且仅仅读取了参数的第一个值。后面的代码片段中指定了multiple属性的值，因此ps是String[]类型的包含所有参数的值。</P><PRE>&lt;bean:parameter id="p" name="param"/&gt;
&lt;bean:write name="p"/&gt;
</PRE><PRE>&lt;bean:parameter id="ps" multiple="true" name="param"/&gt;
&lt;logic:iterate id="p" name="ps"&gt;
&nbsp;&nbsp; &lt;bean:write name="p"/&gt;&lt;br/&gt;
&lt;/logic:iterate&gt;
</PRE>
<DIV><A title=回页首 href="http://www.solol.org/technologic/java/j-struts/#top"><FONT color=#800080>回页首</FONT></A></DIV>
<H2><A name=d10e271><FONT color=#000000>bean:resource</FONT></A></H2>
<P>bean:resource标签取回指定的web应用程序的资源，以InputStream或String的形式保存到page作用域中并且创建scripting变量。采用什么形式取决于标签的input属性，如果指定input则以InputStream的形式保存，如果没有指定input则以String的形式保存。</P>
<P>下面的两个代码片段示例了bean:resource标签，其中resource.txt是要使用的资源文件。前面的代码片段中没有指定input属性，因此以String的形式处理资源文件，bean:write标签输出资源文件的内容。后面的代码片段中指定了input属性的值，因此以InputStream的形式使用资源文件，两个bean:write标签分别输出InputStream对象的实例名(如java.io.ByteArrayInputStream@16dadf9)和类名(如class java.io.ByteArrayInputStream)。 </P><PRE>&lt;bean:resource id="str" name="/resource.txt"/&gt;
&lt;!-- 其它标签通过绑定到page作用域中的属性使用该值 --&gt;
&lt;bean:write name="str"/&gt;&lt;br/&gt;
&lt;!-- JSP脚本通过scripting变量使用该值 --&gt;
&lt;%
&nbsp;&nbsp; out.println(str+"&lt;br/&gt;");
%&gt;
</PRE><PRE>&lt;bean:resource id="is" input="true" name="/resource.txt"/&gt;
&lt;!-- 其它标签通过绑定到page作用域中的属性使用该值 --&gt;
&lt;bean:write name="is"/&gt;&lt;br/&gt;
&lt;bean:write name="is" property="class"/&gt;
&lt;!-- JSP脚本通过scripting变量使用该值 --&gt;
&lt;%
&nbsp;&nbsp; out.println(is+"&lt;br/&gt;");
&nbsp;&nbsp; out.println(is.getClass()+"&lt;br/&gt;");
%&gt;
</PRE>
<DIV><A title=回页首 href="http://www.solol.org/technologic/java/j-struts/#top"><FONT color=#800080>回页首</FONT></A></DIV>
<H2><A name=d10e290><FONT color=#000000>bean:size</FONT></A></H2>
<P>bean:size标签创建一个java.lang.Integer类型的bean，这个bean的值为该标签指定的Collection或Map中所含元素的个数。 这可以和logic:iterate标签配合使用，因为logic:iterate标签不能得到所叠代的集合的元素的个数，这有时候很不方便。 </P>
<P>下面的代码片段示例了bean:size标签取出persons中还有元素的个数，其中listForm和persons的定义参见bean:define标签部分：</P><PRE>&lt;logic:notEmpty name="listForm" property = "persons"&gt;  
&nbsp;&nbsp; &lt;bean:size id="size" name="listForm" property = "persons"/&gt;
&nbsp;&nbsp; &lt;bean:write name="size"/&gt;  
&lt;/logic:notEmpty&gt;&nbsp;&nbsp; 
</PRE>
<DIV><A title=回页首 href="http://www.solol.org/technologic/java/j-struts/#top"><FONT color=#800080>回页首</FONT></A></DIV>
<H2><A name=d10e305><FONT color=#000000>bean:struts</FONT></A></H2>
<P>bean:struts标签取回Struts的内部对象formBean、forward或mapping的值，然后用id绑定到page作用域中(这种绑定是为了其它标签能够使用该值)，并创建对应的scripting变量(这种变量是为了JSP脚本能够使用该值)。</P>
<P>下面的代码片段示例了bean:struts标签取出listForm对象，让我们先来看一下listForm的定义在读代码：</P><PRE>&lt;!-- listForm的定义&lt;form-bean name="listForm" 
&nbsp;&nbsp; type="org.solo.struts.form.ListForm" /&gt; --&gt;
&lt;bean:struts id="listFormBean" formBean="listForm"/&gt;
name:&lt;bean:write name="listFormBean" property="name"/&gt;&lt;br/&gt;
type:&lt;bean:write name="listFormBean" property="type"/&gt;&lt;br/&gt;
dynamic:&lt;bean:write name="listFormBean" property="dynamic"/&gt;&lt;br/&gt;
</PRE>
<P>上面代码运行的结果为：</P><PRE>name:listForm 
type:org.solo.struts.form.ListForm
dynamic:false 
</PRE>
<DIV><A title=回页首 href="http://www.solol.org/technologic/java/j-struts/#top"><FONT color=#800080>回页首</FONT></A></DIV>
<H2><A name=d10e326><FONT color=#000000>bean:write</FONT></A></H2>
<P>bean:write标签将指定的bean的属性值写到当前的JspWriter中，并且可以对输出进行格式化。</P>
<P>下面的代码片段示例了bean:write标签输出User-Agent：</P><PRE>&lt;logic:present header="User-Agent"&gt;
&nbsp;&nbsp; &lt;bean:header id="header" name="User-Agent"/&gt;
&nbsp;&nbsp; &lt;bean:write name="header"/&gt;
&lt;/logic:present&gt;
</PRE>
<P>下面的代码片段示例了bean:write标签格式化输出当前日期，其中now是在DataForm中定义的一个java.util.Date类型的域(值为new Date())，format.date.standard是在资源文件中的一个键(format.date.standard=yyyy-MM-dd)：</P><PRE>&lt;bean:define id="date" name="dataForm" property="now"/&gt;
&lt;br/&gt;&lt;bean:write name="date"/&gt;
&lt;br/&gt;&lt;bean:write name="date" format="MM/dd/yyyy"/&gt;
&lt;br/&gt;&lt;bean:write name="date" formatKey="format.date.standard"/&gt;
</PRE>
<P>上面代码运行的结果为：</P><PRE>Sun Jun 04 17:04:05 CST 2006
06/04/2006
2006-06-04
</PRE><p class="right articalinfo">发表于 @ <a href="http://blog.csdn.net/newpiaoyun/archive/2008/09/10/2907505.aspx" Title = "permalink">2008年09月10日 09:50:00</a>&#124;<a href="http://blog.csdn.net/newpiaoyun/archive/2008/09/10/2907505.aspx#FeedBack" Title = "评论">评论(<span id="FeedbackCount_2907505">loading...</span><script type="text/javascript">AddFeedbackCountStack("2907505")</script>)</a>&#124;<cite class="fav_csdnstylebykimi"><a href="JavaScript:d=document;t=d.selection?(d.selection.type!='None'?d.selection.createRange().text:''):(d.getSelection?d.getSelection():'');void(saveit=window.open('http://wz.csdn.net/storeit.aspx?t='+escape(d.title)+'&u='+escape(d.location.href)+'&c='+escape(t),'saveit','scrollbars=no,width=590,height=300,left=75,top=20,status=no,resizable=yes'));saveit.focus();" class="fav_csdnstylebykimi" title="收藏到我的网摘中，并分享给我的朋友">收藏</a></cite></p>
    <span id="Post.ascx_ViewPost_PreviousAndNextEntriesDown"><h3><a href="http://blog.csdn.net/newpiaoyun/archive/2008/09/10/2907511.aspx">新一篇:&nbsp;Struts Logic 标签介绍 </a>&nbsp;|&nbsp;<a href="http://blog.csdn.net/newpiaoyun/archive/2008/09/10/2907464.aspx">旧一篇:&nbsp;Struts Html 标签介绍 </a></h3></span>
</div>

        
    </div>
    <div class="commentslist">
        <span id="Anthem_Post.ascx_Comments_ltlComments__"><span id="Post.ascx_Comments_ltlComments"><div id="commentslist"><h3>评论：没有评论。</h3></div></span></span>

    </div>
    <div class="spacecommment">
        <div id="Anthem_Post.ascx_PostComment_CommentUpdatePanel__"><div id="Post.ascx_PostComment_CommentUpdatePanel">
	
    <fieldset>
        <legend>发表评论<dfn>只有注册用户才能发表评论！<a href="http://passport.csdn.net/member/UserLogin.aspx?from=http://blog.csdn.net/newpiaoyun/archive/2008/09/10/2907505.aspx">登录</a>&nbsp;<a href="http://passport.csdn.net/CSDNUserRegister.aspx">注册</a></dfn></legend>
        <em><img src="/images/blog_commentnotice.gif" alt="只有已注册用户才能发表评论!请登录或注册" /></em>
        
    </fieldset>

</div></div>

    </div>

    <script type="text/javascript">
    LoadFeedbackCount();//加载评论
    
    </script>

    </div>
<script type="text/javascript">document.write("<img src=http://counter.csdn.net/pv.aspx?id=24 border=0 width=0 height=0>");</script> 
                
        </div>
    </div>
    
    <div id="pubfooter">
        
<dl>
    <dt></dt>
    <dd>
        Csdn Blog version 3.1a</dd>
    <dd>
        Copyright &copy;
        飘云<br />
	CSDN24小时值班电话：13552009689
    </dd>
</dl>

    </div>
</div>

        </form>

        <script type="text/javascript" src="http://www.csdn.net/common/counter.js"></script>
<script type="text/javascript" charset="UTF-8" src="http://s.vdoing.com/u/66/34089.js"></script>
<noscript><a href="http://www.vdoing.com" title="Vdoing StatsX No.34089"><img src="http://simg.vdoing.com/m/34089/x01.gif?noscript" border="0"></a></noscript>

    </div>
</body>
</html>
