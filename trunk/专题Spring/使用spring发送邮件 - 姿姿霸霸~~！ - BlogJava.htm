<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head id="Head"><title>
	使用spring发送邮件 - 姿姿霸霸~~！ - BlogJava
</title><meta http-equiv="Content-Type" content="text/html; charset=utf-8" /><meta id="metaKeywords" name="keywords" content="使用spring发送邮件" /><link id="MainCss" type="text/css" rel="stylesheet" href="http://www.blogjava.net/Skins/clover/style.css" /><link id="RSSLink" title="RSS" type="application/rss+xml" rel="alternate" href="http://www.blogjava.net/KingKong/rss.aspx" /></head>
<body>
    <form name="Form1" method="post" action="235173.html" onsubmit="javascript:return WebForm_OnSubmit();" id="Form1">
<div>
<input type="hidden" name="__EVENTTARGET" id="__EVENTTARGET" value="" />
<input type="hidden" name="__EVENTARGUMENT" id="__EVENTARGUMENT" value="" />
<input type="hidden" name="__VIEWSTATE" id="
__VIEWSTATE" value="" />
</div>

<script type="text/javascript">
//<![CDATA[
var theForm = document.forms['Form1'];
if (!theForm) {
    theForm = document.Form1;
}
function __doPostBack(eventTarget, eventArgument) {
    if (!theForm.onsubmit || (theForm.onsubmit() != false)) {
        theForm.__EVENTTARGET.value = eventTarget;
        theForm.__EVENTARGUMENT.value = eventArgument;
        theForm.submit();
    }
}
//]]>
</script>


<script src="/WebResource.axd?d=PyW-m2hLmppJ9byT1bYEqw2&amp;t=633595624754539605" type="text/javascript"></script>

<script language=JavaScript>
									function ctlent(evt,id)
											{
												if(evt.ctrlKey && evt.keyCode == 13)
												{	
													try
													{
														TempSave(id);
													}
													catch(ex)
													{
													}
													finally
													{
													    __doPostBack('AjaxHolder$PostComment$btnSubmit','')
													}
												}
		
												}</script>
												<script language=JavaScript>function SetReplyAuhor(author){document.getElementById('AjaxHolder_PostComment_tbComment').value+="@"+author+"\n";document.getElementById('AjaxHolder_PostComment_tbComment').focus();return false}</script>
<script src="/ScriptResource.axd?d=keXr1l0ODizNGwpG5umihnLbiZlZFmnBNv9PADikeydJNFn_nnzWP6nCtj5LEvCjoGqazIbHl5iuU6pakvSNXw2&amp;t=633595624754539605" type="text/javascript"></script>
<script src="/ScriptResource.axd?d=keXr1l0ODiwWLTaLPM0Wf405seaw-kJY_J94dRUexb3hftiy5dT0X5GxWLiqANj30&amp;t=633065726440000000" type="text/javascript"></script>
<script src="/ScriptResource.axd?d=keXr1l0ODiwWLTaLPM0Wf405seaw-kJY_J94dRUexb1YLr7RQriMsNXsDWOxc8wQub8O_qeSuZ41&amp;t=633065726440000000" type="text/javascript"></script>
<script type="text/javascript">
//<![CDATA[
function WebForm_OnSubmit() {
if (typeof(ValidatorOnSubmit) == "function" && ValidatorOnSubmit() == false) return false;
return true;
}
//]]>
</script>

        
<!--done-->
<TABLE cellpadding="0" cellspacing="0" border="0" align="center" width="100%">
<TR>
	<TD width=299 background="/skins/clover/images/banner1.jpg"></TD>
	<TD background="/skins/clover/images/banner.jpg">
<!--done-->
<div class="header">
	<div class="headerText">
		<a id="Header1_HeaderTitle" class="headermaintitle" href="http://www.blogjava.net/KingKong/">姿姿霸霸~~！</a><br>
		贵在坚持!
	</div>
</div>
</TD>
	<TD width=296 background="/skins/clover/images/banner2.jpg"></TD>
</TR>
</TABLE>
<div id="mylinks">
<!--done-->
<a id="MyLinks1_HomeLink" class="menu" href="http://www.blogjava.net/">BlogJava</a>&nbsp;&nbsp;&nbsp;
<a id="MyLinks1_MyHomeLink" class="menu" href="http://www.blogjava.net/KingKong/">首页</a>&nbsp;&nbsp;&nbsp;
<a id="MyLinks1_NewArticleLink" class="menu" href="/EnterMyBlog.aspx?NewArticle=1">新文章</a>&nbsp;&nbsp;&nbsp;
<a id="MyLinks1_NewPostLink" class="menu" href="http://www.blogjava.net/KingKong/admin/EditPosts.aspx?opt=1">新随笔</a>&nbsp;&nbsp;&nbsp;
<a id="MyLinks1_Syndication" class="menu" href="http://www.blogjava.net/KingKong/rss">聚合</a><a id="MyLinks1_XMLLink" href="http://www.blogjava.net/KingKong/rss"><img src="http://www.blogjava.net/images/xml.gif" style="border-width:0px;" /></a>&nbsp;&nbsp;&nbsp;
<a id="MyLinks1_Admin" class="menu" href="http://www.blogjava.net/KingKong/admin/EditPosts.aspx">管理</a>
<!-- <a id="MyLinks1_ContactLink" accesskey="9" class="menu" href="http://www.blogjava.net/KingKong/contact.aspx?id=1">联系</a>&nbsp;&nbsp;&nbsp; -->
</div>
<div id="mytopmenu">
	
		<DIV id="mystats">
			
<!--done-->
<div class="blogStats">
posts - 47,&nbsp;
comments - 35,&nbsp;
trackbacks - 0

</div></DIV>
	
</div>
<div id="centercontent">
	
					
<!--done-->
<div class = "post">
	<div class = "postTitle">
		<a id="viewpost1_TitleUrl" class="postTitle2" href="http://www.blogjava.net/KingKong/archive/2008/10/18/235173.html">使用spring发送邮件</a>
	</div>
	<p><font style="background-color: #c7edcc">1.用spring的mail发邮件需要将j2ee包里的mail.jar和activation.jar引入<br />
2.遇见的异常可能会有<br />
&nbsp;&nbsp; (1)java.lang.NoClassDefFoundError: com/sun/mail/util/LineInputStream<br />
&nbsp;&nbsp;&nbsp;(2)java.lang.NoClassDefFoundError: com/sun/activation/registries/LogSupport<br />
这2个异常都是由于JavaEE版本和JavaMail的版本不一致所造成的.如javaMail1.3以下的如果在javaEE5上就会出现上面的错误,因为javaEE5中包含有javaMail的类但是却不全面,所以造成与本身的JavaMail包冲突。而activation1.0.2与1.1版本也不同，LogSupport在1.0.2中没有。<br />
3.各个邮件服务器的验证可能不一定都能通过，多换几个试试。<br />
4.发送简单邮件可以使用<font style="background-color: #c7edcc">SimpleMailMessage</font>类<br />
5.发送带附件的邮件可以使用<font style="background-color: #c7edcc">MimeMessage</font>+<font style="background-color: #c7edcc">MimeMessageHelper</font>。<br />
6.如果要发送html格式的内容，<font style="background-color: #c7edcc">MimeMessageHelper</font>中的方法<font style="background-color: #c7edcc">setText("需要发送的html格式的内容",true)<br />
7.如果在容器中使用spring发送邮件的话,在读取配置文件的时候,因为容器的特殊性,不需要使用<font style="background-color: #c7edcc">&nbsp;ApplicationContext ctx = new FileSystemXmlApplicationContext( "src/mail-config.xml") ，可以使用<font style="background-color: #c7edcc">ApplicationContext ctx = WebApplicationContextUtils&nbsp;.getWebApplicationContext(this.getServletContext())来获取ctx。在容器初始化的时候将这个ctx获取之后存在某个静态变量中去。在使用的时候再根据这个ctx去获取相应的bean。<br />
<br />
代码如下：<br />
1.SendMail类<br />
</p>
<div style="border-right: #cccccc 1px solid; padding-right: 5px; border-top: #cccccc 1px solid; padding-left: 4px; font-size: 13px; padding-bottom: 4px; border-left: #cccccc 1px solid; width: 98%; word-break: break-all; padding-top: 4px; border-bottom: #cccccc 1px solid; background-color: #eeeeee"><img alt="" src="/Images/OutliningIndicators/None.gif" align="top" /><span style="color: #0000ff">import</span><span style="color: #000000">&nbsp;java.io.File;<br />
<img alt="" src="/Images/OutliningIndicators/None.gif" align="top" /></span><span style="color: #0000ff">import</span><span style="color: #000000">&nbsp;java.io.IOException;<br />
<img alt="" src="/Images/OutliningIndicators/None.gif" align="top" /></span><span style="color: #0000ff">import</span><span style="color: #000000">&nbsp;java.util.HashMap;<br />
<img alt="" src="/Images/OutliningIndicators/None.gif" align="top" /></span><span style="color: #0000ff">import</span><span style="color: #000000">&nbsp;java.util.Iterator;<br />
<img alt="" src="/Images/OutliningIndicators/None.gif" align="top" /></span><span style="color: #0000ff">import</span><span style="color: #000000">&nbsp;java.util.List;<br />
<img alt="" src="/Images/OutliningIndicators/None.gif" align="top" /></span><span style="color: #0000ff">import</span><span style="color: #000000">&nbsp;java.util.Map;<br />
<img alt="" src="/Images/OutliningIndicators/None.gif" align="top" /><br />
<img alt="" src="/Images/OutliningIndicators/None.gif" align="top" /></span><span style="color: #0000ff">import</span><span style="color: #000000">&nbsp;javax.mail.internet.MimeMessage;<br />
<img alt="" src="/Images/OutliningIndicators/None.gif" align="top" /></span><span style="color: #0000ff">import</span><span style="color: #000000">&nbsp;javax.servlet.ServletException;<br />
<img alt="" src="/Images/OutliningIndicators/None.gif" align="top" /></span><span style="color: #0000ff">import</span><span style="color: #000000">&nbsp;javax.servlet.http.HttpServletRequest;<br />
<img alt="" src="/Images/OutliningIndicators/None.gif" align="top" /></span><span style="color: #0000ff">import</span><span style="color: #000000">&nbsp;javax.servlet.http.HttpServletResponse;<br />
<img alt="" src="/Images/OutliningIndicators/None.gif" align="top" /><br />
<img alt="" src="/Images/OutliningIndicators/None.gif" align="top" /></span><span style="color: #0000ff">import</span><span style="color: #000000">&nbsp;org.apache.commons.fileupload.FileItem;<br />
<img alt="" src="/Images/OutliningIndicators/None.gif" align="top" /></span><span style="color: #0000ff">import</span><span style="color: #000000">&nbsp;org.apache.commons.fileupload.disk.DiskFileItemFactory;<br />
<img alt="" src="/Images/OutliningIndicators/None.gif" align="top" /></span><span style="color: #0000ff">import</span><span style="color: #000000">&nbsp;org.apache.commons.fileupload.servlet.ServletFileUpload;<br />
<img alt="" src="/Images/OutliningIndicators/None.gif" align="top" /><br />
<img alt="" src="/Images/OutliningIndicators/None.gif" align="top" /></span><span style="color: #0000ff">import</span><span style="color: #000000">&nbsp;org.springframework.core.io.FileSystemResource;<br />
<img alt="" src="/Images/OutliningIndicators/None.gif" align="top" /></span><span style="color: #0000ff">import</span><span style="color: #000000">&nbsp;org.springframework.mail.SimpleMailMessage;<br />
<img alt="" src="/Images/OutliningIndicators/None.gif" align="top" /></span><span style="color: #0000ff">import</span><span style="color: #000000">&nbsp;org.springframework.mail.javamail.JavaMailSender;<br />
<img alt="" src="/Images/OutliningIndicators/None.gif" align="top" /></span><span style="color: #0000ff">import</span><span style="color: #000000">&nbsp;org.springframework.mail.javamail.MimeMessageHelper;<br />
<img alt="" src="/Images/OutliningIndicators/None.gif" align="top" /><br />
<img alt="" src="/Images/OutliningIndicators/None.gif" align="top" /></span><span style="color: #0000ff">import</span><span style="color: #000000">&nbsp;com.sureframe.BeanManager;<br />
<img alt="" src="/Images/OutliningIndicators/None.gif" align="top" /><br />
<img id="Codehighlighter1_755_812_Open_Image" onclick="this.style.display='none'; Codehighlighter1_755_812_Open_Text.style.display='none'; Codehighlighter1_755_812_Closed_Image.style.display='inline'; Codehighlighter1_755_812_Closed_Text.style.display='inline';" alt="" src="/Images/OutliningIndicators/ExpandedBlockStart.gif" align="top" /><img id="Codehighlighter1_755_812_Closed_Image" style="display: none; width: 11px; height: 16px" onclick="this.style.display='none'; Codehighlighter1_755_812_Closed_Text.style.display='none'; Codehighlighter1_755_812_Open_Image.style.display='inline'; Codehighlighter1_755_812_Open_Text.style.display='inline';" height="16" alt="" src="/Images/OutliningIndicators/ContractedBlock.gif" width="11" align="top" /></span><span id="Codehighlighter1_755_812_Open_Text"><span style="color: #008000">/**</span><span style="color: #008000"><br />
<img alt="" src="/Images/OutliningIndicators/InBlock.gif" align="top" />&nbsp;*&nbsp;</span><span style="color: #808080">&#64;author</span><span style="color: #008000">&nbsp;zpruan<br />
<img alt="" src="/Images/OutliningIndicators/InBlock.gif" align="top" />&nbsp;*&nbsp;&#64;mail&nbsp;&nbsp;&lt;xrzp_dh&#64;yahoo.com.cn&gt;<br />
<img alt="" src="/Images/OutliningIndicators/ExpandedBlockEnd.gif" align="top" />&nbsp;</span><span style="color: #008000">*/</span></span><span style="color: #000000"><br />
<img id="Codehighlighter1_836_4034_Open_Image" onclick="this.style.display='none'; Codehighlighter1_836_4034_Open_Text.style.display='none'; Codehighlighter1_836_4034_Closed_Image.style.display='inline'; Codehighlighter1_836_4034_Closed_Text.style.display='inline';" alt="" src="/Images/OutliningIndicators/ExpandedBlockStart.gif" align="top" /><img id="Codehighlighter1_836_4034_Closed_Image" style="display: none" onclick="this.style.display='none'; Codehighlighter1_836_4034_Closed_Text.style.display='none'; Codehighlighter1_836_4034_Open_Image.style.display='inline'; Codehighlighter1_836_4034_Open_Text.style.display='inline';" alt="" src="/Images/OutliningIndicators/ContractedBlock.gif" align="top" /></span><span style="color: #0000ff">public</span><span style="color: #000000">&nbsp;</span><span style="color: #0000ff">class</span><span style="color: #000000">&nbsp;SendMail&nbsp;</span><span id="Codehighlighter1_836_4034_Open_Text"><span style="color: #000000">{<br />
<img alt="" src="/Images/OutliningIndicators/InBlock.gif" align="top" /><br />
<img alt="" src="/Images/OutliningIndicators/InBlock.gif" align="top" />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #008000">//</span><span style="color: #008000">&nbsp;将邮件页面的参数按照map的形式放入</span><span style="color: #008000"><br />
<img alt="" src="/Images/OutliningIndicators/InBlock.gif" align="top" /></span><span style="color: #000000">&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000ff">private</span><span style="color: #000000">&nbsp;Map</span><span style="color: #000000">&lt;</span><span style="color: #000000">String,&nbsp;String</span><span style="color: #000000">&gt;</span><span style="color: #000000">&nbsp;parameters&nbsp;</span><span style="color: #000000">=</span><span style="color: #000000">&nbsp;</span><span style="color: #0000ff">new</span><span style="color: #000000">&nbsp;HashMap</span><span style="color: #000000">&lt;</span><span style="color: #000000">String,&nbsp;String</span><span style="color: #000000">&gt;</span><span style="color: #000000">();<br />
<img alt="" src="/Images/OutliningIndicators/InBlock.gif" align="top" /><br />
<img alt="" src="/Images/OutliningIndicators/InBlock.gif" align="top" />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #008000">//</span><span style="color: #008000">&nbsp;分隔符</span><span style="color: #008000"><br />
<img alt="" src="/Images/OutliningIndicators/InBlock.gif" align="top" /></span><span style="color: #000000">&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000ff">private</span><span style="color: #000000">&nbsp;</span><span style="color: #0000ff">final</span><span style="color: #000000">&nbsp;</span><span style="color: #0000ff">static</span><span style="color: #000000">&nbsp;String&nbsp;fileSeparator&nbsp;</span><span style="color: #000000">=</span><span style="color: #000000">&nbsp;System<br />
<img alt="" src="/Images/OutliningIndicators/InBlock.gif" align="top" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.getProperty(</span><span style="color: #000000">"</span><span style="color: #000000">file.separator</span><span style="color: #000000">"</span><span style="color: #000000">);<br />
<img alt="" src="/Images/OutliningIndicators/InBlock.gif" align="top" /><br />
<img id="Codehighlighter1_1050_1180_Open_Image" onclick="this.style.display='none'; Codehighlighter1_1050_1180_Open_Text.style.display='none'; Codehighlighter1_1050_1180_Closed_Image.style.display='inline'; Codehighlighter1_1050_1180_Closed_Text.style.display='inline';" alt="" src="/Images/OutliningIndicators/ExpandedSubBlockStart.gif" align="top" /><img id="Codehighlighter1_1050_1180_Closed_Image" style="display: none" onclick="this.style.display='none'; Codehighlighter1_1050_1180_Closed_Text.style.display='none'; Codehighlighter1_1050_1180_Open_Image.style.display='inline'; Codehighlighter1_1050_1180_Open_Text.style.display='inline';" alt="" src="/Images/OutliningIndicators/ContractedSubBlock.gif" align="top" />&nbsp;&nbsp;</span><span id="Codehighlighter1_1050_1180_Open_Text"><span style="color: #008000">/**</span><span style="color: #008000"><br />
<img alt="" src="/Images/OutliningIndicators/InBlock.gif" align="top" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;发送带附件的邮件<br />
<img alt="" src="/Images/OutliningIndicators/InBlock.gif" align="top" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;</span><span style="color: #808080">&#64;param</span><span style="color: #008000">&nbsp;request<br />
<img alt="" src="/Images/OutliningIndicators/InBlock.gif" align="top" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;</span><span style="color: #808080">&#64;param</span><span style="color: #008000">&nbsp;response<br />
<img alt="" src="/Images/OutliningIndicators/InBlock.gif" align="top" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;</span><span style="color: #808080">&#64;throws</span><span style="color: #008000">&nbsp;ServletException<br />
<img alt="" src="/Images/OutliningIndicators/InBlock.gif" align="top" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;</span><span style="color: #808080">&#64;throws</span><span style="color: #008000">&nbsp;IOException<br />
<img alt="" src="/Images/OutliningIndicators/ExpandedSubBlockEnd.gif" align="top" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #008000">*/</span></span><span style="color: #000000"><br />
<img alt="" src="/Images/OutliningIndicators/InBlock.gif" align="top" />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000ff">public</span><span style="color: #000000">&nbsp;</span><span style="color: #0000ff">void</span><span style="color: #000000">&nbsp;sendMail(HttpServletRequest&nbsp;request,<br />
<img id="Codehighlighter1_1307_2167_Open_Image" onclick="this.style.display='none'; Codehighlighter1_1307_2167_Open_Text.style.display='none'; Codehighlighter1_1307_2167_Closed_Image.style.display='inline'; Codehighlighter1_1307_2167_Closed_Text.style.display='inline';" alt="" src="/Images/OutliningIndicators/ExpandedSubBlockStart.gif" align="top" /><img id="Codehighlighter1_1307_2167_Closed_Image" style="display: none" onclick="this.style.display='none'; Codehighlighter1_1307_2167_Closed_Text.style.display='none'; Codehighlighter1_1307_2167_Open_Image.style.display='inline'; Codehighlighter1_1307_2167_Open_Text.style.display='inline';" alt="" src="/Images/OutliningIndicators/ContractedSubBlock.gif" align="top" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;HttpServletResponse&nbsp;response)&nbsp;</span><span style="color: #0000ff">throws</span><span style="color: #000000">&nbsp;ServletException,&nbsp;IOException&nbsp;</span><span id="Codehighlighter1_1307_2167_Open_Text"><span style="color: #000000">{<br />
<img alt="" src="/Images/OutliningIndicators/InBlock.gif" align="top" />&nbsp;&nbsp;&nbsp;&nbsp;<br />
<img alt="" src="/Images/OutliningIndicators/InBlock.gif" align="top" />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #008000">//</span><span style="color: #008000">因为直接是在容器中.故使用BeanManager将相应的bean获取,再造型成JavaMailSender</span><span style="color: #008000"><br />
<img alt="" src="/Images/OutliningIndicators/InBlock.gif" align="top" /></span><span style="color: #000000">&nbsp;&nbsp;&nbsp;&nbsp;JavaMailSender&nbsp;sender&nbsp;</span><span style="color: #000000">=</span><span style="color: #000000">&nbsp;(JavaMailSender)&nbsp;BeanManager<br />
<img alt="" src="/Images/OutliningIndicators/InBlock.gif" align="top" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.getBean(</span><span style="color: #000000">"</span><span style="color: #000000">mailSender</span><span style="color: #000000">"</span><span style="color: #000000">);<br />
<img alt="" src="/Images/OutliningIndicators/InBlock.gif" align="top" /><br />
<img alt="" src="/Images/OutliningIndicators/InBlock.gif" align="top" />&nbsp;&nbsp;&nbsp;&nbsp;request.setCharacterEncoding(</span><span style="color: #000000">"</span><span style="color: #000000">UTF-8</span><span style="color: #000000">"</span><span style="color: #000000">);<br />
<img alt="" src="/Images/OutliningIndicators/InBlock.gif" align="top" />&nbsp;&nbsp;&nbsp;&nbsp;<br />
<img alt="" src="/Images/OutliningIndicators/InBlock.gif" align="top" />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #008000">//</span><span style="color: #008000">添加附件到服务器</span><span style="color: #008000"><br />
<img alt="" src="/Images/OutliningIndicators/InBlock.gif" align="top" /></span><span style="color: #000000">&nbsp;&nbsp;&nbsp;&nbsp;File&nbsp;file&nbsp;</span><span style="color: #000000">=</span><span style="color: #000000">&nbsp;</span><span style="color: #0000ff">this</span><span style="color: #000000">.doAttachment(request);<br />
<img alt="" src="/Images/OutliningIndicators/InBlock.gif" align="top" /><br />
<img alt="" src="/Images/OutliningIndicators/InBlock.gif" align="top" />&nbsp;&nbsp;&nbsp;&nbsp;MimeMessage&nbsp;msg&nbsp;</span><span style="color: #000000">=</span><span style="color: #000000">&nbsp;sender.createMimeMessage();<br />
<img id="Codehighlighter1_1597_2109_Open_Image" onclick="this.style.display='none'; Codehighlighter1_1597_2109_Open_Text.style.display='none'; Codehighlighter1_1597_2109_Closed_Image.style.display='inline'; Codehighlighter1_1597_2109_Closed_Text.style.display='inline';" alt="" src="/Images/OutliningIndicators/ExpandedSubBlockStart.gif" align="top" /><img id="Codehighlighter1_1597_2109_Closed_Image" style="display: none" onclick="this.style.display='none'; Codehighlighter1_1597_2109_Closed_Text.style.display='none'; Codehighlighter1_1597_2109_Open_Image.style.display='inline'; Codehighlighter1_1597_2109_Open_Text.style.display='inline';" alt="" src="/Images/OutliningIndicators/ContractedSubBlock.gif" align="top" />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000ff">try</span><span style="color: #000000">&nbsp;</span><span id="Codehighlighter1_1597_2109_Open_Text"><span style="color: #000000">{<br />
<img alt="" src="/Images/OutliningIndicators/InBlock.gif" align="top" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;MimeMessageHelper&nbsp;helper&nbsp;</span><span style="color: #000000">=</span><span style="color: #000000">&nbsp;</span><span style="color: #0000ff">new</span><span style="color: #000000">&nbsp;MimeMessageHelper(msg,&nbsp;</span><span style="color: #0000ff">true</span><span style="color: #000000">,<br />
<img alt="" src="/Images/OutliningIndicators/InBlock.gif" align="top" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #000000">"</span><span style="color: #000000">GB2312</span><span style="color: #000000">"</span><span style="color: #000000">);<br />
<img alt="" src="/Images/OutliningIndicators/InBlock.gif" align="top" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #008000">//</span><span style="color: #008000">发送到哪儿</span><span style="color: #008000"><br />
<img alt="" src="/Images/OutliningIndicators/InBlock.gif" align="top" /></span><span style="color: #000000">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;helper.setTo(parameters.get(</span><span style="color: #000000">"</span><span style="color: #000000">to</span><span style="color: #000000">"</span><span style="color: #000000">));<br />
<img alt="" src="/Images/OutliningIndicators/InBlock.gif" align="top" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #008000">//</span><span style="color: #008000">谁发送的</span><span style="color: #008000"><br />
<img alt="" src="/Images/OutliningIndicators/InBlock.gif" align="top" /></span><span style="color: #000000">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;helper.setFrom(parameters.get(</span><span style="color: #000000">"</span><span style="color: #000000">from</span><span style="color: #000000">"</span><span style="color: #000000">));<br />
<img alt="" src="/Images/OutliningIndicators/InBlock.gif" align="top" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #008000">//</span><span style="color: #008000">发送的主题</span><span style="color: #008000"><br />
<img alt="" src="/Images/OutliningIndicators/InBlock.gif" align="top" /></span><span style="color: #000000">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;helper.setSubject(parameters.get(</span><span style="color: #000000">"</span><span style="color: #000000">subject</span><span style="color: #000000">"</span><span style="color: #000000">));<br />
<img alt="" src="/Images/OutliningIndicators/InBlock.gif" align="top" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #008000">//</span><span style="color: #008000">发送的内容</span><span style="color: #008000"><br />
<img alt="" src="/Images/OutliningIndicators/InBlock.gif" align="top" /></span><span style="color: #000000">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;helper.setText(parameters.get(</span><span style="color: #000000">"</span><span style="color: #000000">content</span><span style="color: #000000">"</span><span style="color: #000000">),</span><span style="color: #0000ff">true</span><span style="color: #000000">);<br />
<img id="Codehighlighter1_1945_2082_Open_Image" onclick="this.style.display='none'; Codehighlighter1_1945_2082_Open_Text.style.display='none'; Codehighlighter1_1945_2082_Closed_Image.style.display='inline'; Codehighlighter1_1945_2082_Closed_Text.style.display='inline';" alt="" src="/Images/OutliningIndicators/ExpandedSubBlockStart.gif" align="top" /><img id="Codehighlighter1_1945_2082_Closed_Image" style="display: none" onclick="this.style.display='none'; Codehighlighter1_1945_2082_Closed_Text.style.display='none'; Codehighlighter1_1945_2082_Open_Image.style.display='inline'; Codehighlighter1_1945_2082_Open_Text.style.display='inline';" alt="" src="/Images/OutliningIndicators/ContractedSubBlock.gif" align="top" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000ff">if</span><span style="color: #000000">&nbsp;(file&nbsp;</span><span style="color: #000000">!=</span><span style="color: #000000">&nbsp;</span><span style="color: #0000ff">null</span><span style="color: #000000">)&nbsp;</span><span id="Codehighlighter1_1945_2082_Open_Text"><span style="color: #000000">{<br />
<img alt="" src="/Images/OutliningIndicators/InBlock.gif" align="top" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;FileSystemResource&nbsp;fileSource&nbsp;</span><span style="color: #000000">=</span><span style="color: #000000">&nbsp;</span><span style="color: #0000ff">new</span><span style="color: #000000">&nbsp;FileSystemResource(file<br />
<img alt="" src="/Images/OutliningIndicators/InBlock.gif" align="top" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.getPath());<br />
<img alt="" src="/Images/OutliningIndicators/InBlock.gif" align="top" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;helper.addAttachment(file.getName(),&nbsp;fileSource);<br />
<img alt="" src="/Images/OutliningIndicators/ExpandedSubBlockEnd.gif" align="top" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</span></span><span style="color: #000000"><br />
<img alt="" src="/Images/OutliningIndicators/InBlock.gif" align="top" /><br />
<img alt="" src="/Images/OutliningIndicators/InBlock.gif" align="top" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sender.send(msg);<br />
<img id="Codehighlighter1_2131_2160_Open_Image" onclick="this.style.display='none'; Codehighlighter1_2131_2160_Open_Text.style.display='none'; Codehighlighter1_2131_2160_Closed_Image.style.display='inline'; Codehighlighter1_2131_2160_Closed_Text.style.display='inline';" alt="" src="/Images/OutliningIndicators/ExpandedSubBlockStart.gif" align="top" /><img id="Codehighlighter1_2131_2160_Closed_Image" style="display: none" onclick="this.style.display='none'; Codehighlighter1_2131_2160_Closed_Text.style.display='none'; Codehighlighter1_2131_2160_Open_Image.style.display='inline'; Codehighlighter1_2131_2160_Open_Text.style.display='inline';" alt="" src="/Images/OutliningIndicators/ContractedSubBlock.gif" align="top" />&nbsp;&nbsp;&nbsp;&nbsp;}</span></span><span style="color: #000000">&nbsp;</span><span style="color: #0000ff">catch</span><span style="color: #000000">&nbsp;(Exception&nbsp;e)&nbsp;</span><span id="Codehighlighter1_2131_2160_Open_Text"><span style="color: #000000">{<br />
<img alt="" src="/Images/OutliningIndicators/InBlock.gif" align="top" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;e.printStackTrace();<br />
<img alt="" src="/Images/OutliningIndicators/ExpandedSubBlockEnd.gif" align="top" />&nbsp;&nbsp;&nbsp;&nbsp;}</span></span><span style="color: #000000"><br />
<img alt="" src="/Images/OutliningIndicators/InBlock.gif" align="top" /><br />
<img alt="" src="/Images/OutliningIndicators/ExpandedSubBlockEnd.gif" align="top" />&nbsp;&nbsp;&nbsp;&nbsp;}</span></span><span style="color: #000000"><br />
<img alt="" src="/Images/OutliningIndicators/InBlock.gif" align="top" /><br />
<img id="Codehighlighter1_2174_2302_Open_Image" onclick="this.style.display='none'; Codehighlighter1_2174_2302_Open_Text.style.display='none'; Codehighlighter1_2174_2302_Closed_Image.style.display='inline'; Codehighlighter1_2174_2302_Closed_Text.style.display='inline';" alt="" src="/Images/OutliningIndicators/ExpandedSubBlockStart.gif" align="top" /><img id="Codehighlighter1_2174_2302_Closed_Image" style="display: none" onclick="this.style.display='none'; Codehighlighter1_2174_2302_Closed_Text.style.display='none'; Codehighlighter1_2174_2302_Open_Image.style.display='inline'; Codehighlighter1_2174_2302_Open_Text.style.display='inline';" alt="" src="/Images/OutliningIndicators/ContractedSubBlock.gif" align="top" />&nbsp;&nbsp;</span><span id="Codehighlighter1_2174_2302_Open_Text"><span style="color: #008000">/**</span><span style="color: #008000"><br />
<img alt="" src="/Images/OutliningIndicators/InBlock.gif" align="top" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;发送简单邮件<br />
<img alt="" src="/Images/OutliningIndicators/InBlock.gif" align="top" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;</span><span style="color: #808080">&#64;param</span><span style="color: #008000">&nbsp;request<br />
<img alt="" src="/Images/OutliningIndicators/InBlock.gif" align="top" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;</span><span style="color: #808080">&#64;param</span><span style="color: #008000">&nbsp;response<br />
<img alt="" src="/Images/OutliningIndicators/InBlock.gif" align="top" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;</span><span style="color: #808080">&#64;throws</span><span style="color: #008000">&nbsp;ServletException<br />
<img alt="" src="/Images/OutliningIndicators/InBlock.gif" align="top" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;</span><span style="color: #808080">&#64;throws</span><span style="color: #008000">&nbsp;IOException<br />
<img alt="" src="/Images/OutliningIndicators/ExpandedSubBlockEnd.gif" align="top" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #008000">*/</span></span><span style="color: #000000"><br />
<img alt="" src="/Images/OutliningIndicators/InBlock.gif" align="top" />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000ff">public</span><span style="color: #000000">&nbsp;</span><span style="color: #0000ff">void</span><span style="color: #000000">&nbsp;sendMail1(HttpServletRequest&nbsp;request,<br />
<img id="Codehighlighter1_2430_2799_Open_Image" onclick="this.style.display='none'; Codehighlighter1_2430_2799_Open_Text.style.display='none'; Codehighlighter1_2430_2799_Closed_Image.style.display='inline'; Codehighlighter1_2430_2799_Closed_Text.style.display='inline';" alt="" src="/Images/OutliningIndicators/ExpandedSubBlockStart.gif" align="top" /><img id="Codehighlighter1_2430_2799_Closed_Image" style="display: none" onclick="this.style.display='none'; Codehighlighter1_2430_2799_Closed_Text.style.display='none'; Codehighlighter1_2430_2799_Open_Image.style.display='inline'; Codehighlighter1_2430_2799_Open_Text.style.display='inline';" alt="" src="/Images/OutliningIndicators/ContractedSubBlock.gif" align="top" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;HttpServletResponse&nbsp;response)&nbsp;</span><span style="color: #0000ff">throws</span><span style="color: #000000">&nbsp;ServletException,&nbsp;IOException&nbsp;</span><span id="Codehighlighter1_2430_2799_Open_Text"><span style="color: #000000">{<br />
<img alt="" src="/Images/OutliningIndicators/InBlock.gif" align="top" /><br />
<img alt="" src="/Images/OutliningIndicators/InBlock.gif" align="top" />&nbsp;&nbsp;&nbsp;&nbsp;JavaMailSender&nbsp;sender&nbsp;</span><span style="color: #000000">=</span><span style="color: #000000">&nbsp;(JavaMailSender)&nbsp;BeanManager<br />
<img alt="" src="/Images/OutliningIndicators/InBlock.gif" align="top" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.getBean(</span><span style="color: #000000">"</span><span style="color: #000000">mailSender</span><span style="color: #000000">"</span><span style="color: #000000">);<br />
<img alt="" src="/Images/OutliningIndicators/InBlock.gif" align="top" /><br />
<img alt="" src="/Images/OutliningIndicators/InBlock.gif" align="top" />&nbsp;&nbsp;&nbsp;&nbsp;SimpleMailMessage&nbsp;mail&nbsp;</span><span style="color: #000000">=</span><span style="color: #000000">&nbsp;</span><span style="color: #0000ff">new</span><span style="color: #000000">&nbsp;SimpleMailMessage();<br />
<img id="Codehighlighter1_2570_2742_Open_Image" onclick="this.style.display='none'; Codehighlighter1_2570_2742_Open_Text.style.display='none'; Codehighlighter1_2570_2742_Closed_Image.style.display='inline'; Codehighlighter1_2570_2742_Closed_Text.style.display='inline';" alt="" src="/Images/OutliningIndicators/ExpandedSubBlockStart.gif" align="top" /><img id="Codehighlighter1_2570_2742_Closed_Image" style="display: none" onclick="this.style.display='none'; Codehighlighter1_2570_2742_Closed_Text.style.display='none'; Codehighlighter1_2570_2742_Open_Image.style.display='inline'; Codehighlighter1_2570_2742_Open_Text.style.display='inline';" alt="" src="/Images/OutliningIndicators/ContractedSubBlock.gif" align="top" />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000ff">try</span><span style="color: #000000">&nbsp;</span><span id="Codehighlighter1_2570_2742_Open_Text"><span style="color: #000000">{<br />
<img alt="" src="/Images/OutliningIndicators/InBlock.gif" align="top" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mail.setTo(</span><span style="color: #000000">"</span><span style="color: #000000">xxxx&#64;qq.com</span><span style="color: #000000">"</span><span style="color: #000000">);<br />
<img alt="" src="/Images/OutliningIndicators/InBlock.gif" align="top" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mail.setFrom(</span><span style="color: #000000">"</span><span style="color: #000000">xxxx&#64;163.com</span><span style="color: #000000">"</span><span style="color: #000000">);<br />
<img alt="" src="/Images/OutliningIndicators/InBlock.gif" align="top" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mail.setSubject(</span><span style="color: #000000">"</span><span style="color: #000000">dosth&nbsp;by&nbsp;xxx</span><span style="color: #000000">"</span><span style="color: #000000">);<br />
<img alt="" src="/Images/OutliningIndicators/InBlock.gif" align="top" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mail.setText(</span><span style="color: #000000">"</span><span style="color: #000000">springMail的简单发送测试</span><span style="color: #000000">"</span><span style="color: #000000">);<br />
<img alt="" src="/Images/OutliningIndicators/InBlock.gif" align="top" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sender.send(mail);<br />
<img id="Codehighlighter1_2764_2793_Open_Image" onclick="this.style.display='none'; Codehighlighter1_2764_2793_Open_Text.style.display='none'; Codehighlighter1_2764_2793_Closed_Image.style.display='inline'; Codehighlighter1_2764_2793_Closed_Text.style.display='inline';" alt="" src="/Images/OutliningIndicators/ExpandedSubBlockStart.gif" align="top" /><img id="Codehighlighter1_2764_2793_Closed_Image" style="display: none" onclick="this.style.display='none'; Codehighlighter1_2764_2793_Closed_Text.style.display='none'; Codehighlighter1_2764_2793_Open_Image.style.display='inline'; Codehighlighter1_2764_2793_Open_Text.style.display='inline';" alt="" src="/Images/OutliningIndicators/ContractedSubBlock.gif" align="top" />&nbsp;&nbsp;&nbsp;&nbsp;}</span></span><span style="color: #000000">&nbsp;</span><span style="color: #0000ff">catch</span><span style="color: #000000">&nbsp;(Exception&nbsp;e)&nbsp;</span><span id="Codehighlighter1_2764_2793_Open_Text"><span style="color: #000000">{<br />
<img alt="" src="/Images/OutliningIndicators/InBlock.gif" align="top" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;e.printStackTrace();<br />
<img alt="" src="/Images/OutliningIndicators/ExpandedSubBlockEnd.gif" align="top" />&nbsp;&nbsp;&nbsp;&nbsp;}</span></span><span style="color: #000000"><br />
<img alt="" src="/Images/OutliningIndicators/ExpandedSubBlockEnd.gif" align="top" />&nbsp;&nbsp;&nbsp;&nbsp;}</span></span><span style="color: #000000"><br />
<img alt="" src="/Images/OutliningIndicators/InBlock.gif" align="top" /><br />
<img id="Codehighlighter1_2806_3002_Open_Image" onclick="this.style.display='none'; Codehighlighter1_2806_3002_Open_Text.style.display='none'; Codehighlighter1_2806_3002_Closed_Image.style.display='inline'; Codehighlighter1_2806_3002_Closed_Text.style.display='inline';" alt="" src="/Images/OutliningIndicators/ExpandedSubBlockStart.gif" align="top" /><img id="Codehighlighter1_2806_3002_Closed_Image" style="display: none" onclick="this.style.display='none'; Codehighlighter1_2806_3002_Closed_Text.style.display='none'; Codehighlighter1_2806_3002_Open_Image.style.display='inline'; Codehighlighter1_2806_3002_Open_Text.style.display='inline';" alt="" src="/Images/OutliningIndicators/ContractedSubBlock.gif" align="top" />&nbsp;&nbsp;</span><span id="Codehighlighter1_2806_3002_Open_Text"><span style="color: #008000">/**</span><span style="color: #008000"><br />
<img alt="" src="/Images/OutliningIndicators/InBlock.gif" align="top" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;添加附件<br />
<img alt="" src="/Images/OutliningIndicators/InBlock.gif" align="top" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;在添加附件的时候,可以将表格想对应的参数放到一个map中去<br />
<img alt="" src="/Images/OutliningIndicators/InBlock.gif" align="top" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;在此使用了Jakarta&nbsp;commons的fileupload组件<br />
<img alt="" src="/Images/OutliningIndicators/InBlock.gif" align="top" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;</span><span style="color: #808080">&#64;param</span><span style="color: #008000">&nbsp;request<br />
<img alt="" src="/Images/OutliningIndicators/InBlock.gif" align="top" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;</span><span style="color: #808080">&#64;return</span><span style="color: #008000"><br />
<img alt="" src="/Images/OutliningIndicators/InBlock.gif" align="top" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;</span><span style="color: #808080">&#64;throws</span><span style="color: #008000">&nbsp;ServletException<br />
<img alt="" src="/Images/OutliningIndicators/InBlock.gif" align="top" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;</span><span style="color: #808080">&#64;throws</span><span style="color: #008000">&nbsp;IOException<br />
<img alt="" src="/Images/OutliningIndicators/ExpandedSubBlockEnd.gif" align="top" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #008000">*/</span></span><span style="color: #000000"><br />
<img id="Codehighlighter1_3026_3055_Open_Image" onclick="this.style.display='none'; Codehighlighter1_3026_3055_Open_Text.style.display='none'; Codehighlighter1_3026_3055_Closed_Image.style.display='inline'; Codehighlighter1_3026_3055_Closed_Text.style.display='inline';" alt="" src="/Images/OutliningIndicators/ExpandedSubBlockStart.gif" align="top" /><img id="Codehighlighter1_3026_3055_Closed_Image" style="display: none" onclick="this.style.display='none'; Codehighlighter1_3026_3055_Closed_Text.style.display='none'; Codehighlighter1_3026_3055_Open_Image.style.display='inline'; Codehighlighter1_3026_3055_Open_Text.style.display='inline';" alt="" src="/Images/OutliningIndicators/ContractedSubBlock.gif" align="top" />&nbsp;&nbsp;&nbsp;&nbsp;&#64;SuppressWarnings(</span><span id="Codehighlighter1_3026_3055_Open_Text"><span style="color: #000000">{&nbsp;</span><span style="color: #000000">"</span><span style="color: #000000">unchecked</span><span style="color: #000000">"</span><span style="color: #000000">,&nbsp;</span><span style="color: #000000">"</span><span style="color: #000000">deprecation</span><span style="color: #000000">"</span><span style="color: #000000">&nbsp;}</span></span><span style="color: #000000">)<br />
<img alt="" src="/Images/OutliningIndicators/InBlock.gif" align="top" />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000ff">public</span><span style="color: #000000">&nbsp;File&nbsp;doAttachment(HttpServletRequest&nbsp;request)<br />
<img id="Codehighlighter1_3157_4027_Open_Image" onclick="this.style.display='none'; Codehighlighter1_3157_4027_Open_Text.style.display='none'; Codehighlighter1_3157_4027_Closed_Image.style.display='inline'; Codehighlighter1_3157_4027_Closed_Text.style.display='inline';" alt="" src="/Images/OutliningIndicators/ExpandedSubBlockStart.gif" align="top" /><img id="Codehighlighter1_3157_4027_Closed_Image" style="display: none" onclick="this.style.display='none'; Codehighlighter1_3157_4027_Closed_Text.style.display='none'; Codehighlighter1_3157_4027_Open_Image.style.display='inline'; Codehighlighter1_3157_4027_Open_Text.style.display='inline';" alt="" src="/Images/OutliningIndicators/ContractedSubBlock.gif" align="top" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000ff">throws</span><span style="color: #000000">&nbsp;ServletException,&nbsp;IOException&nbsp;</span><span id="Codehighlighter1_3157_4027_Open_Text"><span style="color: #000000">{<br />
<img alt="" src="/Images/OutliningIndicators/InBlock.gif" align="top" />&nbsp;&nbsp;&nbsp;&nbsp;File&nbsp;file&nbsp;</span><span style="color: #000000">=</span><span style="color: #000000">&nbsp;</span><span style="color: #0000ff">null</span><span style="color: #000000">;<br />
<img alt="" src="/Images/OutliningIndicators/InBlock.gif" align="top" />&nbsp;&nbsp;&nbsp;&nbsp;DiskFileItemFactory&nbsp;factory&nbsp;</span><span style="color: #000000">=</span><span style="color: #000000">&nbsp;</span><span style="color: #0000ff">new</span><span style="color: #000000">&nbsp;DiskFileItemFactory();<br />
<img alt="" src="/Images/OutliningIndicators/InBlock.gif" align="top" />&nbsp;&nbsp;&nbsp;&nbsp;ServletFileUpload&nbsp;upload&nbsp;</span><span style="color: #000000">=</span><span style="color: #000000">&nbsp;</span><span style="color: #0000ff">new</span><span style="color: #000000">&nbsp;ServletFileUpload(factory);<br />
<img alt="" src="/Images/OutliningIndicators/InBlock.gif" align="top" /><br />
<img id="Codehighlighter1_3302_3956_Open_Image" onclick="this.style.display='none'; Codehighlighter1_3302_3956_Open_Text.style.display='none'; Codehighlighter1_3302_3956_Closed_Image.style.display='inline'; Codehighlighter1_3302_3956_Closed_Text.style.display='inline';" alt="" src="/Images/OutliningIndicators/ExpandedSubBlockStart.gif" align="top" /><img id="Codehighlighter1_3302_3956_Closed_Image" style="display: none" onclick="this.style.display='none'; Codehighlighter1_3302_3956_Closed_Text.style.display='none'; Codehighlighter1_3302_3956_Open_Image.style.display='inline'; Codehighlighter1_3302_3956_Open_Text.style.display='inline';" alt="" src="/Images/OutliningIndicators/ContractedSubBlock.gif" align="top" />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000ff">try</span><span style="color: #000000">&nbsp;</span><span id="Codehighlighter1_3302_3956_Open_Text"><span style="color: #000000">{<br />
<img alt="" src="/Images/OutliningIndicators/InBlock.gif" align="top" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;List&nbsp;items&nbsp;</span><span style="color: #000000">=</span><span style="color: #000000">&nbsp;upload.parseRequest(request);<br />
<img alt="" src="/Images/OutliningIndicators/InBlock.gif" align="top" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Iterator&nbsp;it&nbsp;</span><span style="color: #000000">=</span><span style="color: #000000">&nbsp;items.iterator();<br />
<img id="Codehighlighter1_3415_3953_Open_Image" onclick="this.style.display='none'; Codehighlighter1_3415_3953_Open_Text.style.display='none'; Codehighlighter1_3415_3953_Closed_Image.style.display='inline'; Codehighlighter1_3415_3953_Closed_Text.style.display='inline';" alt="" src="/Images/OutliningIndicators/ExpandedSubBlockStart.gif" align="top" /><img id="Codehighlighter1_3415_3953_Closed_Image" style="display: none" onclick="this.style.display='none'; Codehighlighter1_3415_3953_Closed_Text.style.display='none'; Codehighlighter1_3415_3953_Open_Image.style.display='inline'; Codehighlighter1_3415_3953_Open_Text.style.display='inline';" alt="" src="/Images/OutliningIndicators/ContractedSubBlock.gif" align="top" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000ff">while</span><span style="color: #000000">&nbsp;(it.hasNext())&nbsp;</span><span id="Codehighlighter1_3415_3953_Open_Text"><span style="color: #000000">{<br />
<img alt="" src="/Images/OutliningIndicators/InBlock.gif" align="top" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;FileItem&nbsp;item&nbsp;</span><span style="color: #000000">=</span><span style="color: #000000">&nbsp;(FileItem)&nbsp;it.next();<br />
<img id="Codehighlighter1_3483_3555_Open_Image" onclick="this.style.display='none'; Codehighlighter1_3483_3555_Open_Text.style.display='none'; Codehighlighter1_3483_3555_Closed_Image.style.display='inline'; Codehighlighter1_3483_3555_Closed_Text.style.display='inline';" alt="" src="/Images/OutliningIndicators/ExpandedSubBlockStart.gif" align="top" /><img id="Codehighlighter1_3483_3555_Closed_Image" style="display: none" onclick="this.style.display='none'; Codehighlighter1_3483_3555_Closed_Text.style.display='none'; Codehighlighter1_3483_3555_Open_Image.style.display='inline'; Codehighlighter1_3483_3555_Open_Text.style.display='inline';" alt="" src="/Images/OutliningIndicators/ContractedSubBlock.gif" align="top" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000ff">if</span><span style="color: #000000">&nbsp;(item.isFormField())&nbsp;</span><span id="Codehighlighter1_3483_3555_Open_Text"><span style="color: #000000">{<br />
<img alt="" src="/Images/OutliningIndicators/InBlock.gif" align="top" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;parameters.put(item.getFieldName(),&nbsp;item.getString(</span><span style="color: #000000">"</span><span style="color: #000000">UTF-8</span><span style="color: #000000">"</span><span style="color: #000000">));<br />
<img id="Codehighlighter1_3562_3946_Open_Image" onclick="this.style.display='none'; Codehighlighter1_3562_3946_Open_Text.style.display='none'; Codehighlighter1_3562_3946_Closed_Image.style.display='inline'; Codehighlighter1_3562_3946_Closed_Text.style.display='inline';" alt="" src="/Images/OutliningIndicators/ExpandedSubBlockStart.gif" align="top" /><img id="Codehighlighter1_3562_3946_Closed_Image" style="display: none" onclick="this.style.display='none'; Codehighlighter1_3562_3946_Closed_Text.style.display='none'; Codehighlighter1_3562_3946_Open_Image.style.display='inline'; Codehighlighter1_3562_3946_Open_Text.style.display='inline';" alt="" src="/Images/OutliningIndicators/ContractedSubBlock.gif" align="top" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</span></span><span style="color: #000000">&nbsp;</span><span style="color: #0000ff">else</span><span style="color: #000000">&nbsp;</span><span id="Codehighlighter1_3562_3946_Open_Text"><span style="color: #000000">{<br />
<img id="Codehighlighter1_3628_3942_Open_Image" onclick="this.style.display='none'; Codehighlighter1_3628_3942_Open_Text.style.display='none'; Codehighlighter1_3628_3942_Closed_Image.style.display='inline'; Codehighlighter1_3628_3942_Closed_Text.style.display='inline';" alt="" src="/Images/OutliningIndicators/ExpandedSubBlockStart.gif" align="top" /><img id="Codehighlighter1_3628_3942_Closed_Image" style="display: none" onclick="this.style.display='none'; Codehighlighter1_3628_3942_Closed_Text.style.display='none'; Codehighlighter1_3628_3942_Open_Image.style.display='inline'; Codehighlighter1_3628_3942_Open_Text.style.display='inline';" alt="" src="/Images/OutliningIndicators/ContractedSubBlock.gif" align="top" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000ff">if</span><span style="color: #000000">&nbsp;(item.getName()&nbsp;</span><span style="color: #000000">!=</span><span style="color: #000000">&nbsp;</span><span style="color: #0000ff">null</span><span style="color: #000000">&nbsp;</span><span style="color: #000000">&amp;&amp;</span><span style="color: #000000">&nbsp;</span><span style="color: #000000">!</span><span style="color: #000000">item.getName().equals(</span><span style="color: #000000">""</span><span style="color: #000000">))&nbsp;</span><span id="Codehighlighter1_3628_3942_Open_Text"><span style="color: #000000">{<br />
<img alt="" src="/Images/OutliningIndicators/InBlock.gif" align="top" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;File&nbsp;tempFile&nbsp;</span><span style="color: #000000">=</span><span style="color: #000000">&nbsp;</span><span style="color: #0000ff">new</span><span style="color: #000000">&nbsp;File(item.getName());<br />
<img alt="" src="/Images/OutliningIndicators/InBlock.gif" align="top" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;String&nbsp;path&nbsp;</span><span style="color: #000000">=</span><span style="color: #000000">&nbsp;request.getRealPath(fileSeparator)<br />
<img alt="" src="/Images/OutliningIndicators/InBlock.gif" align="top" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #000000">+</span><span style="color: #000000">&nbsp;</span><span style="color: #000000">"</span><span style="color: #000000">uploads</span><span style="color: #000000">"</span><span style="color: #000000">&nbsp;</span><span style="color: #000000">+</span><span style="color: #000000">&nbsp;fileSeparator;<br />
<img alt="" src="/Images/OutliningIndicators/InBlock.gif" align="top" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file&nbsp;</span><span style="color: #000000">=</span><span style="color: #000000">&nbsp;</span><span style="color: #0000ff">new</span><span style="color: #000000">&nbsp;File(path);<br />
<img alt="" src="/Images/OutliningIndicators/InBlock.gif" align="top" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #008000">//</span><span style="color: #008000">建立个文件夹</span><span style="color: #008000"><br />
<img id="Codehighlighter1_3819_3852_Open_Image" onclick="this.style.display='none'; Codehighlighter1_3819_3852_Open_Text.style.display='none'; Codehighlighter1_3819_3852_Closed_Image.style.display='inline'; Codehighlighter1_3819_3852_Closed_Text.style.display='inline';" alt="" src="/Images/OutliningIndicators/ExpandedSubBlockStart.gif" align="top" /><img id="Codehighlighter1_3819_3852_Closed_Image" style="display: none" onclick="this.style.display='none'; Codehighlighter1_3819_3852_Closed_Text.style.display='none'; Codehighlighter1_3819_3852_Open_Image.style.display='inline'; Codehighlighter1_3819_3852_Open_Text.style.display='inline';" alt="" src="/Images/OutliningIndicators/ContractedSubBlock.gif" align="top" /></span><span style="color: #000000">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000ff">if</span><span style="color: #000000">(</span><span style="color: #000000">!</span><span style="color: #000000">file.exists())</span><span id="Codehighlighter1_3819_3852_Open_Text"><span style="color: #000000">{<br />
<img alt="" src="/Images/OutliningIndicators/InBlock.gif" align="top" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file.mkdir();&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br />
<img alt="" src="/Images/OutliningIndicators/ExpandedSubBlockEnd.gif" align="top" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</span></span><span style="color: #000000"><br />
<img alt="" src="/Images/OutliningIndicators/InBlock.gif" align="top" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file&nbsp;</span><span style="color: #000000">=</span><span style="color: #000000">&nbsp;</span><span style="color: #0000ff">new</span><span style="color: #000000">&nbsp;File(path,&nbsp;tempFile.getName());<br />
<img alt="" src="/Images/OutliningIndicators/InBlock.gif" align="top" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #008000">//</span><span style="color: #008000">将附件上传到服务器</span><span style="color: #008000"><br />
<img alt="" src="/Images/OutliningIndicators/InBlock.gif" align="top" /></span><span style="color: #000000">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;item.write(file);<br />
<img alt="" src="/Images/OutliningIndicators/ExpandedSubBlockEnd.gif" align="top" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</span></span><span style="color: #000000"><br />
<img alt="" src="/Images/OutliningIndicators/ExpandedSubBlockEnd.gif" align="top" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</span></span><span style="color: #000000"><br />
<img alt="" src="/Images/OutliningIndicators/ExpandedSubBlockEnd.gif" align="top" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</span></span><span style="color: #000000"><br />
<img id="Codehighlighter1_3978_4007_Open_Image" onclick="this.style.display='none'; Codehighlighter1_3978_4007_Open_Text.style.display='none'; Codehighlighter1_3978_4007_Closed_Image.style.display='inline'; Codehighlighter1_3978_4007_Closed_Text.style.display='inline';" alt="" src="/Images/OutliningIndicators/ExpandedSubBlockStart.gif" align="top" /><img id="Codehighlighter1_3978_4007_Closed_Image" style="display: none" onclick="this.style.display='none'; Codehighlighter1_3978_4007_Closed_Text.style.display='none'; Codehighlighter1_3978_4007_Open_Image.style.display='inline'; Codehighlighter1_3978_4007_Open_Text.style.display='inline';" alt="" src="/Images/OutliningIndicators/ContractedSubBlock.gif" align="top" />&nbsp;&nbsp;&nbsp;&nbsp;}</span></span><span style="color: #000000">&nbsp;</span><span style="color: #0000ff">catch</span><span style="color: #000000">&nbsp;(Exception&nbsp;e)&nbsp;</span><span id="Codehighlighter1_3978_4007_Open_Text"><span style="color: #000000">{<br />
<img alt="" src="/Images/OutliningIndicators/InBlock.gif" align="top" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;e.printStackTrace();<br />
<img alt="" src="/Images/OutliningIndicators/ExpandedSubBlockEnd.gif" align="top" />&nbsp;&nbsp;&nbsp;&nbsp;}</span></span><span style="color: #000000"><br />
<img alt="" src="/Images/OutliningIndicators/InBlock.gif" align="top" />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000ff">return</span><span style="color: #000000">&nbsp;file;<br />
<img alt="" src="/Images/OutliningIndicators/ExpandedSubBlockEnd.gif" align="top" />&nbsp;&nbsp;&nbsp;&nbsp;}</span></span><span style="color: #000000"><br />
<img alt="" src="/Images/OutliningIndicators/InBlock.gif" align="top" />&nbsp;&nbsp;&nbsp;&nbsp;<br />
<img alt="" src="/Images/OutliningIndicators/ExpandedBlockEnd.gif" align="top" />}</span></span><span style="color: #000000"><br />
<img alt="" src="/Images/OutliningIndicators/None.gif" align="top" /></span></div>
<p><br />
2.BeanManager类<br />
</p>
<div style="border-right: #cccccc 1px solid; padding-right: 5px; border-top: #cccccc 1px solid; padding-left: 4px; font-size: 13px; padding-bottom: 4px; border-left: #cccccc 1px solid; width: 98%; word-break: break-all; padding-top: 4px; border-bottom: #cccccc 1px solid; background-color: #eeeeee"><img alt="" src="/Images/OutliningIndicators/None.gif" align="top" /><span style="color: #0000ff">import</span><span style="color: #000000">&nbsp;org.springframework.context.ApplicationContext;<br />
<img alt="" src="/Images/OutliningIndicators/None.gif" align="top" /><br />
<img id="Codehighlighter1_56_113_Open_Image" onclick="this.style.display='none'; Codehighlighter1_56_113_Open_Text.style.display='none'; Codehighlighter1_56_113_Closed_Image.style.display='inline'; Codehighlighter1_56_113_Closed_Text.style.display='inline';" alt="" src="/Images/OutliningIndicators/ExpandedBlockStart.gif" align="top" /></span><span id="Codehighlighter1_56_113_Open_Text"><span style="color: #008000">/**</span><span style="color: #008000"><br />
<img alt="" src="/Images/OutliningIndicators/InBlock.gif" align="top" />&nbsp;*&nbsp;</span><span style="color: #808080">&#64;author</span><span style="color: #008000">&nbsp;zpruan<br />
<img alt="" src="/Images/OutliningIndicators/InBlock.gif" align="top" />&nbsp;*&nbsp;&#64;mail&nbsp;&nbsp;&lt;xrzp_dh&#64;yahoo.com.cn&gt;<br />
<img alt="" src="/Images/OutliningIndicators/ExpandedBlockEnd.gif" align="top" />&nbsp;</span><span style="color: #008000">*/</span></span><span style="color: #000000"><br />
<img id="Codehighlighter1_140_677_Open_Image" onclick="this.style.display='none'; Codehighlighter1_140_677_Open_Text.style.display='none'; Codehighlighter1_140_677_Closed_Image.style.display='inline'; Codehighlighter1_140_677_Closed_Text.style.display='inline';" alt="" src="/Images/OutliningIndicators/ExpandedBlockStart.gif" align="top" /><img id="Codehighlighter1_140_677_Closed_Image" style="display: none" onclick="this.style.display='none'; Codehighlighter1_140_677_Closed_Text.style.display='none'; Codehighlighter1_140_677_Open_Image.style.display='inline'; Codehighlighter1_140_677_Open_Text.style.display='inline';" alt="" src="/Images/OutliningIndicators/ContractedBlock.gif" align="top" /></span><span style="color: #0000ff">public</span><span style="color: #000000">&nbsp;</span><span style="color: #0000ff">class</span><span style="color: #000000">&nbsp;BeanManager&nbsp;</span><span id="Codehighlighter1_140_677_Open_Text"><span style="color: #000000">{<br />
<img alt="" src="/Images/OutliningIndicators/InBlock.gif" align="top" /><br />
<img alt="" src="/Images/OutliningIndicators/InBlock.gif" align="top" />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #008000">//</span><span style="color: #008000">&nbsp;应用上下文环境对象</span><span style="color: #008000"><br />
<img alt="" src="/Images/OutliningIndicators/InBlock.gif" align="top" /></span><span style="color: #000000">&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000ff">private</span><span style="color: #000000">&nbsp;</span><span style="color: #0000ff">static</span><span style="color: #000000">&nbsp;ApplicationContext&nbsp;ac&nbsp;</span><span style="color: #000000">=</span><span style="color: #000000">&nbsp;</span><span style="color: #0000ff">null</span><span style="color: #000000">;<br />
<img alt="" src="/Images/OutliningIndicators/InBlock.gif" align="top" /><br />
<img id="Codehighlighter1_214_262_Open_Image" onclick="this.style.display='none'; Codehighlighter1_214_262_Open_Text.style.display='none'; Codehighlighter1_214_262_Closed_Image.style.display='inline'; Codehighlighter1_214_262_Closed_Text.style.display='inline';" alt="" src="/Images/OutliningIndicators/ExpandedSubBlockStart.gif" align="top" />&nbsp;&nbsp;&nbsp; </span><span id="Codehighlighter1_214_262_Open_Text"><span style="color: #008000">/**</span><span style="color: #008000"><br />
<img alt="" src="/Images/OutliningIndicators/InBlock.gif" align="top" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;利用Spring实现声明式依赖注入，便于直接获取bean对象<br />
<img alt="" src="/Images/OutliningIndicators/ExpandedSubBlockEnd.gif" align="top" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #008000">*/</span></span><span style="color: #000000"><br />
<img id="Codehighlighter1_325_343_Open_Image" onclick="this.style.display='none'; Codehighlighter1_325_343_Open_Text.style.display='none'; Codehighlighter1_325_343_Closed_Image.style.display='inline'; Codehighlighter1_325_343_Closed_Text.style.display='inline';" alt="" src="/Images/OutliningIndicators/ExpandedSubBlockStart.gif" align="top" /><img id="Codehighlighter1_325_343_Closed_Image" style="display: none" onclick="this.style.display='none'; Codehighlighter1_325_343_Closed_Text.style.display='none'; Codehighlighter1_325_343_Open_Image.style.display='inline'; Codehighlighter1_325_343_Open_Text.style.display='inline';" alt="" src="/Images/OutliningIndicators/ContractedSubBlock.gif" align="top" />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000ff">public</span><span style="color: #000000">&nbsp;</span><span style="color: #0000ff">static</span><span style="color: #000000">&nbsp;ApplicationContext&nbsp;getApplicationContext()&nbsp;</span><span id="Codehighlighter1_325_343_Open_Text"><span style="color: #000000">{<br />
<img alt="" src="/Images/OutliningIndicators/InBlock.gif" align="top" />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000ff">return</span><span style="color: #000000">&nbsp;ac;<br />
<img alt="" src="/Images/OutliningIndicators/ExpandedSubBlockEnd.gif" align="top" />&nbsp;&nbsp;&nbsp;&nbsp;}</span></span><span style="color: #000000"><br />
<img alt="" src="/Images/OutliningIndicators/InBlock.gif" align="top" /><br />
<img id="Codehighlighter1_350_420_Open_Image" onclick="this.style.display='none'; Codehighlighter1_350_420_Open_Text.style.display='none'; Codehighlighter1_350_420_Closed_Image.style.display='inline'; Codehighlighter1_350_420_Closed_Text.style.display='inline';" alt="" src="/Images/OutliningIndicators/ExpandedSubBlockStart.gif" align="top" /><img id="Codehighlighter1_350_420_Closed_Image" style="display: none" onclick="this.style.display='none'; Codehighlighter1_350_420_Closed_Text.style.display='none'; Codehighlighter1_350_420_Open_Image.style.display='inline'; Codehighlighter1_350_420_Open_Text.style.display='inline';" alt="" src="/Images/OutliningIndicators/ContractedSubBlock.gif" align="top" />&nbsp;&nbsp;</span><span id="Codehighlighter1_350_420_Open_Text"><span style="color: #008000">/**</span><span style="color: #008000"><br />
<img alt="" src="/Images/OutliningIndicators/InBlock.gif" align="top" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;返回Spring的ApplicationContext对象<br />
<img alt="" src="/Images/OutliningIndicators/InBlock.gif" align="top" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;<br />
<img alt="" src="/Images/OutliningIndicators/InBlock.gif" align="top" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;</span><span style="color: #808080">&#64;return</span><span style="color: #008000"><br />
<img alt="" src="/Images/OutliningIndicators/ExpandedSubBlockEnd.gif" align="top" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #008000">*/</span></span><span style="color: #000000"><br />
<img id="Codehighlighter1_493_512_Open_Image" onclick="this.style.display='none'; Codehighlighter1_493_512_Open_Text.style.display='none'; Codehighlighter1_493_512_Closed_Image.style.display='inline'; Codehighlighter1_493_512_Closed_Text.style.display='inline';" alt="" src="/Images/OutliningIndicators/ExpandedSubBlockStart.gif" align="top" /><img id="Codehighlighter1_493_512_Closed_Image" style="display: none" onclick="this.style.display='none'; Codehighlighter1_493_512_Closed_Text.style.display='none'; Codehighlighter1_493_512_Open_Image.style.display='inline'; Codehighlighter1_493_512_Open_Text.style.display='inline';" alt="" src="/Images/OutliningIndicators/ContractedSubBlock.gif" align="top" />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000ff">public</span><span style="color: #000000">&nbsp;</span><span style="color: #0000ff">static</span><span style="color: #000000">&nbsp;</span><span style="color: #0000ff">void</span><span style="color: #000000">&nbsp;setApplicationContext(ApplicationContext&nbsp;acObj)&nbsp;</span><span id="Codehighlighter1_493_512_Open_Text"><span style="color: #000000">{<br />
<img alt="" src="/Images/OutliningIndicators/InBlock.gif" align="top" />&nbsp;&nbsp;&nbsp;&nbsp;ac&nbsp;</span><span style="color: #000000">=</span><span style="color: #000000">&nbsp;acObj;<br />
<img alt="" src="/Images/OutliningIndicators/ExpandedSubBlockEnd.gif" align="top" />&nbsp;&nbsp;&nbsp;&nbsp;}</span></span><span style="color: #000000"><br />
<img alt="" src="/Images/OutliningIndicators/InBlock.gif" align="top" /><br />
<img id="Codehighlighter1_519_596_Open_Image" onclick="this.style.display='none'; Codehighlighter1_519_596_Open_Text.style.display='none'; Codehighlighter1_519_596_Closed_Image.style.display='inline'; Codehighlighter1_519_596_Closed_Text.style.display='inline';" alt="" src="/Images/OutliningIndicators/ExpandedSubBlockStart.gif" align="top" /><img id="Codehighlighter1_519_596_Closed_Image" style="display: none" onclick="this.style.display='none'; Codehighlighter1_519_596_Closed_Text.style.display='none'; Codehighlighter1_519_596_Open_Image.style.display='inline'; Codehighlighter1_519_596_Open_Text.style.display='inline';" alt="" src="/Images/OutliningIndicators/ContractedSubBlock.gif" align="top" />&nbsp;&nbsp;</span><span id="Codehighlighter1_519_596_Open_Text"><span style="color: #008000">/**</span><span style="color: #008000"><br />
<img alt="" src="/Images/OutliningIndicators/InBlock.gif" align="top" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;根据指定的bean名字来获取bean<br />
<img alt="" src="/Images/OutliningIndicators/InBlock.gif" align="top" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;<br />
<img alt="" src="/Images/OutliningIndicators/InBlock.gif" align="top" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;</span><span style="color: #808080">&#64;param</span><span style="color: #008000">&nbsp;key<br />
<img alt="" src="/Images/OutliningIndicators/InBlock.gif" align="top" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;</span><span style="color: #808080">&#64;return</span><span style="color: #008000"><br />
<img alt="" src="/Images/OutliningIndicators/ExpandedSubBlockEnd.gif" align="top" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #008000">*/</span></span><span style="color: #000000"><br />
<img id="Codehighlighter1_643_674_Open_Image" onclick="this.style.display='none'; Codehighlighter1_643_674_Open_Text.style.display='none'; Codehighlighter1_643_674_Closed_Image.style.display='inline'; Codehighlighter1_643_674_Closed_Text.style.display='inline';" alt="" src="/Images/OutliningIndicators/ExpandedSubBlockStart.gif" align="top" /><img id="Codehighlighter1_643_674_Closed_Image" style="display: none" onclick="this.style.display='none'; Codehighlighter1_643_674_Closed_Text.style.display='none'; Codehighlighter1_643_674_Open_Image.style.display='inline'; Codehighlighter1_643_674_Open_Text.style.display='inline';" alt="" src="/Images/OutliningIndicators/ContractedSubBlock.gif" align="top" />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000ff">public</span><span style="color: #000000">&nbsp;</span><span style="color: #0000ff">static</span><span style="color: #000000">&nbsp;Object&nbsp;getBean(String&nbsp;key)&nbsp;</span><span id="Codehighlighter1_643_674_Open_Text"><span style="color: #000000">{<br />
<img alt="" src="/Images/OutliningIndicators/InBlock.gif" align="top" />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000ff">return</span><span style="color: #000000">&nbsp;ac.getBean(key);<br />
<img alt="" src="/Images/OutliningIndicators/ExpandedSubBlockEnd.gif" align="top" />&nbsp;&nbsp;&nbsp;&nbsp;}</span></span><span style="color: #000000"><br />
<img alt="" src="/Images/OutliningIndicators/InBlock.gif" align="top" /><br />
<img alt="" src="/Images/OutliningIndicators/ExpandedBlockEnd.gif" align="top" />}</span></span></div>
<p><br />
</font></font></font></font>&nbsp;3.xml配置<br />
</p>
<div style="border-right: #cccccc 1px solid; padding-right: 5px; border-top: #cccccc 1px solid; padding-left: 4px; font-size: 13px; padding-bottom: 4px; border-left: #cccccc 1px solid; width: 98%; word-break: break-all; padding-top: 4px; border-bottom: #cccccc 1px solid; background-color: #eeeeee"><img alt="" src="/Images/OutliningIndicators/None.gif" align="top" /><span style="color: #0000ff">&lt;?</span><span style="color: #ff00ff">xml&nbsp;version="1.0"&nbsp;encoding="UTF-8"</span><span style="color: #0000ff">?&gt;</span><span style="color: #000000"><br />
<img alt="" src="/Images/OutliningIndicators/None.gif" align="top" /></span><span style="color: #0000ff">&lt;</span><span style="color: #800000">beans&nbsp;</span><span style="color: #ff0000">xmlns</span><span style="color: #0000ff">="http://www.springframework.org/schema/beans"</span><span style="color: #ff0000"><br />
<img alt="" src="/Images/OutliningIndicators/None.gif" align="top" />&nbsp;&nbsp;&nbsp;&nbsp;xmlns:xsi</span><span style="color: #0000ff">="http://www.w3.org/2001/XMLSchema-instance"</span><span style="color: #ff0000"><br />
<img alt="" src="/Images/OutliningIndicators/None.gif" align="top" />&nbsp;&nbsp;&nbsp;&nbsp;xmlns:aop</span><span style="color: #0000ff">="http://www.springframework.org/schema/aop"</span><span style="color: #ff0000"><br />
<img alt="" src="/Images/OutliningIndicators/None.gif" align="top" />&nbsp;&nbsp;&nbsp;&nbsp;xmlns:tx</span><span style="color: #0000ff">="http://www.springframework.org/schema/tx"</span><span style="color: #ff0000"><br />
<img alt="" src="/Images/OutliningIndicators/None.gif" align="top" />&nbsp;&nbsp;&nbsp;&nbsp;xsi:schemaLocation</span><span style="color: #0000ff">="http://www.springframework.org/schema/beans&nbsp;http://www.springframework.org/schema/beans/spring-beans-2.0.xsd<br />
<img alt="" src="/Images/OutliningIndicators/None.gif" align="top" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;http://www.springframework.org/schema/aop&nbsp;http://www.springframework.org/schema/aop/spring-aop-2.0.xsd<br />
<img alt="" src="/Images/OutliningIndicators/None.gif" align="top" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;http://www.springframework.org/schema/tx&nbsp;http://www.springframework.org/schema/tx/spring-tx-2.0.xsd"</span><span style="color: #0000ff">&gt;</span><span style="color: #000000"><br />
<img alt="" src="/Images/OutliningIndicators/None.gif" align="top" /><br />
<img alt="" src="/Images/OutliningIndicators/None.gif" align="top" />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000ff">&lt;</span><span style="color: #800000">bean&nbsp;</span><span style="color: #ff0000">id</span><span style="color: #0000ff">="mailSender"</span><span style="color: #ff0000"><br />
<img alt="" src="/Images/OutliningIndicators/None.gif" align="top" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;class</span><span style="color: #0000ff">="org.springframework.mail.javamail.JavaMailSenderImpl"</span><span style="color: #0000ff">&gt;</span><span style="color: #000000"><br />
<img alt="" src="/Images/OutliningIndicators/None.gif" align="top" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000ff">&lt;</span><span style="color: #800000">property&nbsp;</span><span style="color: #ff0000">name</span><span style="color: #0000ff">="host"</span><span style="color: #0000ff">&gt;</span><span style="color: #000000"><br />
<img alt="" src="/Images/OutliningIndicators/None.gif" align="top" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000ff">&lt;</span><span style="color: #800000">value</span><span style="color: #0000ff">&gt;</span><span style="color: #000000">smtp.163.com</span><span style="color: #0000ff">&lt;/</span><span style="color: #800000">value</span><span style="color: #0000ff">&gt;</span><span style="color: #000000"><br />
<img alt="" src="/Images/OutliningIndicators/None.gif" align="top" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000ff">&lt;/</span><span style="color: #800000">property</span><span style="color: #0000ff">&gt;</span><span style="color: #000000"><br />
<img alt="" src="/Images/OutliningIndicators/None.gif" align="top" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000ff">&lt;</span><span style="color: #800000">property&nbsp;</span><span style="color: #ff0000">name</span><span style="color: #0000ff">="javaMailProperties"</span><span style="color: #0000ff">&gt;</span><span style="color: #000000"><br />
<img alt="" src="/Images/OutliningIndicators/None.gif" align="top" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000ff">&lt;</span><span style="color: #800000">props</span><span style="color: #0000ff">&gt;</span><span style="color: #000000"><br />
<img alt="" src="/Images/OutliningIndicators/None.gif" align="top" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000ff">&lt;</span><span style="color: #800000">prop&nbsp;</span><span style="color: #ff0000">key</span><span style="color: #0000ff">="mail.smtp.auth"</span><span style="color: #0000ff">&gt;</span><span style="color: #000000">true</span><span style="color: #0000ff">&lt;/</span><span style="color: #800000">prop</span><span style="color: #0000ff">&gt;</span><span style="color: #000000"><br />
<img alt="" src="/Images/OutliningIndicators/None.gif" align="top" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000ff">&lt;</span><span style="color: #800000">prop&nbsp;</span><span style="color: #ff0000">key</span><span style="color: #0000ff">="mail.smtp.timeout"</span><span style="color: #0000ff">&gt;</span><span style="color: #000000">25000</span><span style="color: #0000ff">&lt;/</span><span style="color: #800000">prop</span><span style="color: #0000ff">&gt;</span><span style="color: #000000"><br />
<img alt="" src="/Images/OutliningIndicators/None.gif" align="top" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000ff">&lt;/</span><span style="color: #800000">props</span><span style="color: #0000ff">&gt;</span><span style="color: #000000"><br />
<img alt="" src="/Images/OutliningIndicators/None.gif" align="top" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000ff">&lt;/</span><span style="color: #800000">property</span><span style="color: #0000ff">&gt;</span><span style="color: #000000"><br />
<img alt="" src="/Images/OutliningIndicators/None.gif" align="top" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000ff">&lt;</span><span style="color: #800000">property&nbsp;</span><span style="color: #ff0000">name</span><span style="color: #0000ff">="username"</span><span style="color: #0000ff">&gt;</span><span style="color: #000000"><br />
<img alt="" src="/Images/OutliningIndicators/None.gif" align="top" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000ff">&lt;</span><span style="color: #800000">value</span><span style="color: #0000ff">&gt;</span><span style="color: #008000">&lt;!--</span><span style="color: #008000">&nbsp;用户名&nbsp;</span><span style="color: #008000">--&gt;</span><span style="color: #0000ff">&lt;/</span><span style="color: #800000">value</span><span style="color: #0000ff">&gt;</span><span style="color: #000000"><br />
<img alt="" src="/Images/OutliningIndicators/None.gif" align="top" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000ff">&lt;/</span><span style="color: #800000">property</span><span style="color: #0000ff">&gt;</span><span style="color: #000000"><br />
<img alt="" src="/Images/OutliningIndicators/None.gif" align="top" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000ff">&lt;</span><span style="color: #800000">property&nbsp;</span><span style="color: #ff0000">name</span><span style="color: #0000ff">="password"</span><span style="color: #0000ff">&gt;</span><span style="color: #000000"><br />
<img alt="" src="/Images/OutliningIndicators/None.gif" align="top" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000ff">&lt;</span><span style="color: #800000">value</span><span style="color: #0000ff">&gt;</span><span style="color: #008000">&lt;!--</span><span style="color: #008000">&nbsp;密码&nbsp;</span><span style="color: #008000">--&gt;</span><span style="color: #0000ff">&lt;/</span><span style="color: #800000">value</span><span style="color: #0000ff">&gt;</span><span style="color: #000000"><br />
<img alt="" src="/Images/OutliningIndicators/None.gif" align="top" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000ff">&lt;/</span><span style="color: #800000">property</span><span style="color: #0000ff">&gt;</span><span style="color: #000000"><br />
<img alt="" src="/Images/OutliningIndicators/None.gif" align="top" />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000ff">&lt;/</span><span style="color: #800000">bean</span><span style="color: #0000ff">&gt;</span><span style="color: #000000"><br />
<img alt="" src="/Images/OutliningIndicators/None.gif" align="top" /></span><span style="color: #0000ff">&lt;/</span><span style="color: #800000">beans</span><span style="color: #0000ff">&gt;</span></div>

	<div class = "postDesc">posted on 2008-10-18 16:18 <a href='http://www.blogjava.net/KingKong/'>sure_xx</a> 阅读(1305) <a href='#Post'>评论(4)</a> &nbsp;<a href="http://www.blogjava.net/KingKong/admin/EditPosts.aspx?postid=235173">编辑</a> &nbsp;<a href="http://www.blogjava.net/KingKong/AddToFavorite.aspx?id=235173">收藏</a>  所属分类: <a href='http://www.blogjava.net/KingKong/category/19758.html'>JAVA心得</a> 、<a href='http://www.blogjava.net/KingKong/category/33453.html'>路漫漫</a> </div>
</div>
<img src ="http://www.blogjava.net/KingKong/aggbug/235173.html?webview=1" width = "1" height = "1" />

<!--
<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"
xmlns:dc="http://purl.org/dc/elements/1.1/"
xmlns:trackback="http://madskills.com/public/xml/rss/module/trackback/">
<rdf:Description
rdf:about="http://www.blogjava.net/KingKong/archive/2008/10/18/235173.html"
dc:identifier="http://www.blogjava.net/KingKong/archive/2008/10/18/235173.html"
dc:title="使用spring发送邮件"
trackback:ping="http://www.blogjava.net/KingKong/services/trackbacks/235173.aspx" />
</rdf:RDF>
-->

<script type="text/javascript">
//<![CDATA[
Sys.WebForms.PageRequestManager._initialize('AjaxHolder$scriptmanager1', document.getElementById('Form1'));
Sys.WebForms.PageRequestManager.getInstance()._updateControls(['tAjaxHolder$UpdatePanel1'], [], [], 90);
//]]>
</script>

<div id="AjaxHolder_UpdatePanel1">
	    
    <a name="pagedcomment"></a>
<!--done-->
<br>
<b>FeedBack:</b>
<div class="feedbackNoItems"></div>
	

		<div class="feedbackItem">
			<div class = "feedbackListTitle"><a title="permalink: re: 使用spring发送邮件" href="/KingKong/archive/2008/10/18/235173.html#235360">#</a>&nbsp;<a name="235360"></a>re: 使用spring发送邮件</div>
			<div class = "feedbackListSubtitle">
				2008-10-19 23:36 | <a id="AjaxHolder_Comments_CommentList_ctl00_NameLink" href="http://www.blogjava.net/yangaiyou/" target="_blank">杨爱友</a><br>
				<div align=left>用你的办法我没有得到ApplicationContext对象，我改用new ClassPathXmlApplicationContext(&quot;applicationContext.xml&quot;)获取。&nbsp;&nbsp;<a onclick="return SetReplyAuhor(&quot;杨爱友&quot;)" href="/KingKong/archive/2008/10/18/235173.html#post">回复</a>&nbsp;&nbsp;<a title="查看该作者发表过的评论" href="http://www.blogjava.net/comment?author=%e6%9d%a8%e7%88%b1%e5%8f%8b" target="_blank">更多评论</a><br><a id="AjaxHolder_Comments_CommentList_ctl00_DeleteLink" href="javascript:__doPostBack('AjaxHolder$Comments$CommentList$ctl00$DeleteLink','')"></a>&nbsp;&nbsp;<a id="AjaxHolder_Comments_CommentList_ctl00_EditLink"></a></div>
			</div>
			
			
		</div>
	
		<div class="feedbackItem">
			<div class = "feedbackListTitle"><a title="permalink: re: 使用spring发送邮件" href="/KingKong/archive/2008/10/18/235173.html#235363">#</a>&nbsp;<a name="235363"></a>re: 使用spring发送邮件</div>
			<div class = "feedbackListSubtitle">
				2008-10-19 23:58 | <a id="AjaxHolder_Comments_CommentList_ctl01_NameLink" href="http://www.blogjava.net/yangaiyou/" target="_blank">杨爱友</a><br>
				<div align=left>你xml文件里的用户名和密码指的是发送者邮箱，可当一个系统投入使用时，这个发送者肯定是当前用户，所以我觉得发送者的用户名和密码不应该设置在xml文件，应该是从前台获取，然后再设置到JavaMailSender 对象。&nbsp;&nbsp;<a onclick="return SetReplyAuhor(&quot;杨爱友&quot;)" href="/KingKong/archive/2008/10/18/235173.html#post">回复</a>&nbsp;&nbsp;<a title="查看该作者发表过的评论" href="http://www.blogjava.net/comment?author=%e6%9d%a8%e7%88%b1%e5%8f%8b" target="_blank">更多评论</a><br><a id="AjaxHolder_Comments_CommentList_ctl01_DeleteLink" href="javascript:__doPostBack('AjaxHolder$Comments$CommentList$ctl01$DeleteLink','')"></a>&nbsp;&nbsp;<a id="AjaxHolder_Comments_CommentList_ctl01_EditLink"></a></div>
			</div>
			
			
		</div>
	
		<div class="feedbackItem">
			<div class = "feedbackListTitle"><a title="permalink: re: 使用spring发送邮件" href="/KingKong/archive/2008/10/18/235173.html#235560">#</a>&nbsp;<a name="235560"></a>re: 使用spring发送邮件</div>
			<div class = "feedbackListSubtitle">
				2008-10-20 23:37 | <a id="AjaxHolder_Comments_CommentList_ctl02_NameLink" href="http://www.blogjava.net/KingKong/" target="_blank">sure_xx</a><br>
				<div align=left>&#64;杨爱友<br>ApplicationContext ctx = WebApplicationContextUtils .getWebApplicationContext(this.getServletContext()) 是对容器的上下文环境的获取.我是重写了DispatcherServlet类,放到init方法中去获取,然后再set到beanManager中去的.&nbsp;&nbsp;<a onclick="return SetReplyAuhor(&quot;sure_xx&quot;)" href="/KingKong/archive/2008/10/18/235173.html#post">回复</a>&nbsp;&nbsp;<a title="查看该作者发表过的评论" href="http://www.blogjava.net/comment?author=sure_xx" target="_blank">更多评论</a><br><a id="AjaxHolder_Comments_CommentList_ctl02_DeleteLink" href="javascript:__doPostBack('AjaxHolder$Comments$CommentList$ctl02$DeleteLink','')"></a>&nbsp;&nbsp;<a id="AjaxHolder_Comments_CommentList_ctl02_EditLink"></a></div>
			</div>
			
			
		</div>
	
		<div class="feedbackItem">
			<div class = "feedbackListTitle"><a title="permalink: re: 使用spring发送邮件" href="/KingKong/archive/2008/10/18/235173.html#235561">#</a>&nbsp;<a name="235561"></a>re: 使用spring发送邮件<a name="Post"></a></div>
			<div class = "feedbackListSubtitle">
				2008-10-20 23:40 | <a id="AjaxHolder_Comments_CommentList_ctl03_NameLink" href="http://www.blogjava.net/KingKong/" target="_blank">sure_xx</a><br>
				<div align=left>&#64;杨爱友<br>你说的很对哈.如果是个系统的话,登陆之后就有自己的用户名和密码.可以将JavaMailSender sender = (JavaMailSender) BeanManager.getBean(&quot;mailSender&quot;);改为JavaMailSenderImpl sender = (JavaMailSenderImpl)BeanManager.getBean(&quot;mailSender&quot;);再通过sender的setUsername和setPassword来将用户名和密码搞进去.<br>&nbsp;&nbsp;<a onclick="return SetReplyAuhor(&quot;sure_xx&quot;)" href="/KingKong/archive/2008/10/18/235173.html#post">回复</a>&nbsp;&nbsp;<a title="查看该作者发表过的评论" href="http://www.blogjava.net/comment?author=sure_xx" target="_blank">更多评论</a><br><a id="AjaxHolder_Comments_CommentList_ctl03_DeleteLink" href="javascript:__doPostBack('AjaxHolder$Comments$CommentList$ctl03$DeleteLink','')"></a>&nbsp;&nbsp;<a id="AjaxHolder_Comments_CommentList_ctl03_EditLink"></a></div>
			</div>
			
			
		</div>
	




<style>
td { font-size: 12px }
.commentTextBox 
{ 
    font-family : Verdana; 
    font-size: 13px;
 }
</style>
<!--Beging Temp Save-->
<STYLE>.userData { BEHAVIOR: url(#default#userdata) }
	</STYLE>
<DIV class="userData" id="CommentsPersistDiv"></DIV>

<script type="text/javascript">
function pageLoad()
{
    Sys.WebForms.PageRequestManager.getInstance().add_initializeRequest(handleInitializeRequest);
    //Sys.WebForms.PageRequestManager.getInstance().add_endRequest(handleEndRequest);
}

function handleInitializeRequest(sender, args)
{
    var prm = Sys.WebForms.PageRequestManager.getInstance();
    var eid = args.get_postBackElement().id;
    if (eid.indexOf("DeleteLink")>0) 
    {
       args.get_postBackElement().innerHTML = "<font color='red'>正在删除...</font>";         
    }    
    else if (eid.indexOf("btnSubmit")>0) 
    {
       document.getElementById("AjaxHolder_PostComment_ltSubmitMsg").innerHTML="正在提交...";
       document.getElementById("AjaxHolder_PostComment_btnSubmit").disabled = true;       
    }   
    else if(eid.indexOf("refreshList")>0)
    {
        document.getElementById("AjaxHolder_PostComment_refreshList").innerHTML="<font color='red'>正在刷新...</font>";
    }
   
}	

function TempSave(ElementID)
{
	try
	{
	CommentsPersistDiv.setAttribute("CommentContent",document.getElementById(ElementID).value);
	CommentsPersistDiv.save("CommentXMLStore");
	}
	catch(ex)
	{
	}
	
}
function Restore(ElementID)
{
	CommentsPersistDiv.load("CommentXMLStore");
	document.getElementById(ElementID).value=CommentsPersistDiv.getAttribute("CommentContent");
}	
			
			
</script>
<!--Ene TempSave-->
<div id="divRefreshComments" style="text-align:right;margin-right:10px;margin-bottom:5px;font-size:12px"><a href="http://news.cnblogs.com/">IT新闻</a>&nbsp;&nbsp;<a href="/RequireRegister.aspx">新用户注册</a>&nbsp;&nbsp;<a id="AjaxHolder_PostComment_refreshList" href="javascript:__doPostBack('AjaxHolder$PostComment$refreshList','')">刷新评论列表</a>&nbsp;&nbsp;</div>
<div class="commentform">
<span id="AjaxHolder_PostComment_ltSubmitMsg" style="color:Red;"></span>
<br />
<a name="Feedback"></a>
	<TABLE cellSpacing="1" cellPadding="1" border="0">
		<TR>
			<TD colSpan="3" height="5"></TD>
		</TR>
		<TR>
			<TD width="75"></TD>
			<TD></TD>
			<TD></TD>
		</TR>
		<TR>
			<TD width="55">标题</TD>
			<TD><input name="AjaxHolder$PostComment$tbTitle" type="text" value="re: 使用spring发送邮件" id="AjaxHolder_PostComment_tbTitle" class="commenttb" style="width:320" /></TD>
			<TD><span id="AjaxHolder_PostComment_RequiredFieldValidator1" style="color:Red;visibility:hidden;">请输入标题</span></TD>
		</TR>
		<TR>
			<TD>姓名</TD>
			<TD><input name="AjaxHolder$PostComment$tbName" type="text" id="AjaxHolder_PostComment_tbName" class="commenttb" style="width:320" /></TD>
			<TD><span id="AjaxHolder_PostComment_RequiredFieldValidator2" style="color:Red;visibility:hidden;">请输入你的姓名</span></TD>
		</TR>
		<TR>
			<TD>主页</TD>
			<TD><input name="AjaxHolder$PostComment$tbUrl" type="text" id="AjaxHolder_PostComment_tbUrl" class="commenttb" style="width:320" /></TD>
			<TD><FONT face="宋体"></FONT></TD>
		</TR>
		<tr>
			<td align="left" colSpan="3">
				<table id="AjaxHolder_PostComment_tbCaptchaImage" class="CommentForm" cellspacing="0" cellpadding="0" border="0">
		<tr>
			<td colspan="3">
							<span id="AjaxHolder_PostComment_Requiredfieldvalidator4" style="color:Red;display:none;">请输入验证码</span>
							<span id="AjaxHolder_PostComment_lblImage" style="color:Red;font-weight:bold;"></span>
						</td>
		</tr>
		<tr>
			<td width="78">验证码</td>
			<td><input name="AjaxHolder$PostComment$CodeNumberTextBox" type="text" id="AjaxHolder_PostComment_CodeNumberTextBox" />*&nbsp;&nbsp;<img src="http://www.blogjava.net/Modules/CaptchaImage/JpegImage.aspx?cacheid=20090525130542"/></td>
			<td align="left"></td>
		</tr>
	</table>
	
			</td>
		</tr>
		<TR>
			<TD colSpan="3">内容(请不要发表任何与政治相关的内容)
				<span id="AjaxHolder_PostComment_RequiredFieldValidator3" style="color:Red;visibility:hidden;">请输入评论内容</span><BR>
				<textarea name="AjaxHolder$PostComment$tbComment" rows="10" cols="50" id="AjaxHolder_PostComment_tbComment" class="commentTextBox" onkeydown="ctlent(event,'AjaxHolder_PostComment_tbComment')" style="Width:480;Height:220"></textarea></TD>
		</TR>
		<TR>
			<TD colSpan="3">
		<span id="AjaxHolder_PostComment_Message" style="color:Red;"></span>
		</td>
		<TR>
			<TD colSpan="3"><input id="AjaxHolder_PostComment_chkRemember" type="checkbox" name="AjaxHolder$PostComment$chkRemember" checked="checked" tabindex="-1" /><label for="AjaxHolder_PostComment_chkRemember">Remember Me?</label></TD>
		</TR>
		<TR>
			<TD height="23"><input type="submit" name="AjaxHolder$PostComment$btnSubmit" value="提交" onclick="TempSave('AjaxHolder_PostComment_tbComment');WebForm_DoPostBackWithOptions(new WebForm_PostBackOptions(&quot;AjaxHolder$PostComment$btnSubmit&quot;, &quot;&quot;, true, &quot;&quot;, &quot;&quot;, false, false))" id="AjaxHolder_PostComment_btnSubmit" class="commentButton" />
				</TD>
			<td colSpan="2" height="23">&nbsp;
				<a id="AjaxHolder_PostComment_lnkLogin" href="http://www.blogjava.net/login.aspx?ReturnURL=http://www.blogjava.net/KingKong/archive/2008/10/18/235173.html&amp;SourceURL=/KingKong/archive/2008/10/18/235173.html">登录</a>&nbsp;&nbsp;<a id="AjaxHolder_PostComment_linkLoginComment" OnClick="if(document.getElementById('AjaxHolder_PostComment_tbComment').value != '') return confirm('未提交的评论内容将会丢失, 你真的要进入高级评论吗?');" href="http://www.blogjava.net/KingKong/archive/2008/10/18/235173.html?login=1#Post">使用高级评论</a>&nbsp;&nbsp;<a href="http://www.blogjava.net/RequireRegister.aspx">新用户注册</a>&nbsp;&nbsp;<A href="#Top">返回页首</A>&nbsp;&nbsp;<a id="AjaxHolder_PostComment_lbRestore" OnClick="Restore('AjaxHolder_PostComment_tbComment'); return false;" href="/KingKong/archive/2008/10/18/235173.html#Post">恢复上次提交</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
				</td>
		</TR>
		<TR>
			<TD colSpan="3"><label class="CtrlEnter">[使用Ctrl+Enter键可以直接提交]</label></TD>
		</TR>
		<TR>
			<TD colSpan="3">该文被作者在 2008-10-18 16:25 编辑过</TD>
		</TR>
		<TR>
			<TD colSpan="3" height="5">
			<a href="http://www.cnblogs.com/cmt/archive/2009/05/21/1486347.html" target="_blank"><img src="http://images.cnblogs.com/ad/nanti_468.gif" style="border:0px"/></a><br/><br/>
			<script type="text/javascript" src="http://a4.yeshj.com/page/148/" ></script>
			<script type="text/JavaScript">show_a4_zone("S1");</script><br/>
			<script type="text/JavaScript">show_a4_zone("Z1");</script></TD>
		</TR>
		<TR>
			<TD colSpan="3" height="5"></TD>
		</TR>
		<TR>
			<TD colSpan="3">
			<a href="http://dotnet.cnblogs.com/">.NET频道</a>&nbsp;&nbsp;<a href="http://space.cnblogs.com/">博客园社区</a>&nbsp;&nbsp;<a href="http://space.cnblogs.com/ing/">闪存</a>
			<br/>
			</TD>
		</TR>
		<TR>
			<TD colSpan="3">
<script type="text/javascript" src="http://partner.googleadservices.com/gampad/google_service.js">
</script>
<script type="text/javascript">
  GS_googleAddAdSenseService("ca-pub-4210569241504288");
  GS_googleEnableAllServices();
</script>
<script type="text/javascript">
  GA_googleAddSlot("ca-pub-4210569241504288", "blogjava_blogpost_bottom");
</script>
<script type="text/javascript">
  GA_googleFetchAds();
</script>
<script type="text/javascript">
  GA_googleFillSlot("blogjava_blogpost_bottom");
</script></TD>
		</TR>
		<TR>
			<TD colSpan="3" height="5">
<div id="divRelativePosts">
相关文章:
	
			<ul style="margin-top:0px;padding-left:0px;">
		
			<li style='list-style:none;'>
				<a id="AjaxHolder_PostComment_ctl06_RelativePostsList_ctl01_Hyperlink1" href="http://www.blogjava.net/KingKong/archive/2009/04/20/266579.html">同时使用struts2和springMVC需要注意的事项</a>
			</li>
		
			<li style='list-style:none;'>
				<a id="AjaxHolder_PostComment_ctl06_RelativePostsList_ctl02_Hyperlink1" href="http://www.blogjava.net/KingKong/archive/2009/04/18/266324.html">获取有路径的文件的文件名</a>
			</li>
		
			<li style='list-style:none;'>
				<a id="AjaxHolder_PostComment_ctl06_RelativePostsList_ctl03_Hyperlink1" href="http://www.blogjava.net/KingKong/archive/2009/04/08/264436.html">小数点后面保留几位的格式</a>
			</li>
		
			<li style='list-style:none;display:none'>
				<a id="AjaxHolder_PostComment_ctl06_RelativePostsList_ctl04_Hyperlink1" href="http://www.blogjava.net/KingKong/archive/2008/10/18/235173.html">使用spring发送邮件</a>
			</li>
		
			<li style='list-style:none;'>
				<a id="AjaxHolder_PostComment_ctl06_RelativePostsList_ctl05_Hyperlink1" href="http://www.blogjava.net/KingKong/archive/2008/10/15/234541.html">spring配置事务</a>
			</li>
		
			<li style='list-style:none;'>
				<a id="AjaxHolder_PostComment_ctl06_RelativePostsList_ctl06_Hyperlink1" href="http://www.blogjava.net/KingKong/archive/2008/09/22/230524.html">aop拦截springmvc的action不成功!(已解决)</a>
			</li>
		
			<li style='list-style:none;'>
				<a id="AjaxHolder_PostComment_ctl06_RelativePostsList_ctl07_Hyperlink1" href="http://www.blogjava.net/KingKong/archive/2008/08/20/223360.html">dom4j写文件并设置encoding</a>
			</li>
		
			<li style='list-style:none;'>
				<a id="AjaxHolder_PostComment_ctl06_RelativePostsList_ctl08_Hyperlink1" href="http://www.blogjava.net/KingKong/archive/2008/08/19/222897.html">部署应用到jboss的一些问题</a>
			</li>
		
			<li style='list-style:none;'>
				<a id="AjaxHolder_PostComment_ctl06_RelativePostsList_ctl09_Hyperlink1" href="http://www.blogjava.net/KingKong/archive/2008/07/31/219169.html">尝试下数据连接池</a>
			</li>
		
			<li style='list-style:none;'>
				<a id="AjaxHolder_PostComment_ctl06_RelativePostsList_ctl10_Hyperlink1" href="http://www.blogjava.net/KingKong/archive/2008/04/28/196768.html">部署的时候遇到的一些问题及解决</a>
			</li>
		
			</ul>
		
</div>
</TD>
		</TR>
	
		<TR>
			<TD colSpan="3"></TD>
		</TR>	

		<TR>
			<TD colSpan="3" height="5">网站导航:<div id="blogsite">
			<a href="http://www.cnblogs.com">博客园</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
			<a href="http://www.blogjava.net">BlogJava</a>&nbsp;&nbsp;
			<a href="http://www.cnweblog.com">博客生活</a>&nbsp;&nbsp;
			<a href="http://www.cnitblog.com">IT博客网</a>&nbsp;&nbsp;
			<a href="http://www.cppblog.com">C++博客</a>&nbsp;&nbsp;
			<a href="http://www.phpweblog.net">PHP博客</a>&nbsp;&nbsp;
			<a href="http://space.cnblogs.com">博客园社区</a>
			<br/>
			<a href="http://www.manageblog.net">管理博客</a>&nbsp;&nbsp;
			<a href="http://www.teachblog.net">教师博客</a>&nbsp;&nbsp;&nbsp;&nbsp;
			<a href="http://www.astroblog.cn/">天文博客</a>&nbsp;&nbsp;
			<a href="http://www.cnautoblog.com/">汽车博客</a>&nbsp;&nbsp;
			<a href="http://www.zuqiublog.com/">足球博客</a>&nbsp;&nbsp;
			<a href="http://www.gupiaoblog.com/">股票博客</a>&nbsp;&nbsp;
			<a href="http://www.etronblog.com/">电子博客</a>&nbsp;&nbsp;<a href="/KingKong/archive/2008/10/18/235173.html?opt=admin">管理</a>
			</div></TD>
		</TR>
		<TR>
			<TD colSpan="3">
				</TD>
		</TR>		
	</TABLE>	
</div>
<div id="AjaxHolder_PostComment_ValidationSummary1" style="color:Red;display:none;">

	</div>

</div>

				
</div>
<div id="leftcontent">
	
		<DIV id="leftcontentcontainer" >
			<br>			
			<table id="Calendar1_entryCal" class="Cal" cellspacing="0" cellpadding="0" title="Calendar" border="0" style="border-width:1px;border-style:solid;border-collapse:collapse;border:0px">
	<tr><td colspan="7" style="background-color:Transparent;"><table class="CalTitle" cellspacing="0" border="0" style="width:100%;border-collapse:collapse;">
		<tr><td class="CalNextPrev" style="width:15%;"><a href="javascript:__doPostBack('Calendar1$entryCal','V3166')" style="color:Black" title="Go to the previous month">&lt;</a></td><td align="center" style="width:70%;">2008年10月</td><td class="CalNextPrev" align="right" style="width:15%;"><a href="javascript:__doPostBack('Calendar1$entryCal','V3227')" style="color:Black" title="Go to the next month">&gt;</a></td></tr>
	</table></td></tr><tr><th class="CalDayHeader" align="center" abbr="日" scope="col">日</th><th class="CalDayHeader" align="center" abbr="一" scope="col">一</th><th class="CalDayHeader" align="center" abbr="二" scope="col">二</th><th class="CalDayHeader" align="center" abbr="三" scope="col">三</th><th class="CalDayHeader" align="center" abbr="四" scope="col">四</th><th class="CalDayHeader" align="center" abbr="五" scope="col">五</th><th class="CalDayHeader" align="center" abbr="六" scope="col">六</th></tr><tr><td class="CalOtherMonthDay" align="center" style="width:14%;">28</td><td class="CalOtherMonthDay" align="center" style="width:14%;">29</td><td class="CalOtherMonthDay" align="center" style="width:14%;">30</td><td align="center" style="width:14%;">1</td><td align="center" style="width:14%;">2</td><td align="center" style="width:14%;">3</td><td class="CalWeekendDay" align="center" style="width:14%;">4</td></tr><tr><td class="CalWeekendDay" align="center" style="width:14%;">5</td><td align="center" style="width:14%;">6</td><td align="center" style="width:14%;">7</td><td align="center" style="width:14%;">8</td><td align="center" style="width:14%;">9</td><td align="center" style="width:14%;">10</td><td class="CalWeekendDay" align="center" style="width:14%;">11</td></tr><tr><td class="CalWeekendDay" align="center" style="width:14%;">12</td><td align="center" style="width:14%;">13</td><td align="center" style="width:14%;">14</td><td align="center" style="width:14%;"><a href="http://www.blogjava.net/KingKong/archive/2008/10/15.html"><u>15</u></a></td><td align="center" style="width:14%;">16</td><td align="center" style="width:14%;">17</td><td class="CalWeekendDay" align="center" style="width:14%;"><a href="http://www.blogjava.net/KingKong/archive/2008/10/18.html"><u>18</u></a></td></tr><tr><td class="CalWeekendDay" align="center" style="width:14%;">19</td><td align="center" style="width:14%;">20</td><td align="center" style="width:14%;">21</td><td align="center" style="width:14%;">22</td><td align="center" style="width:14%;">23</td><td align="center" style="width:14%;">24</td><td class="CalWeekendDay" align="center" style="width:14%;">25</td></tr><tr><td class="CalWeekendDay" align="center" style="width:14%;">26</td><td align="center" style="width:14%;">27</td><td align="center" style="width:14%;">28</td><td align="center" style="width:14%;">29</td><td align="center" style="width:14%;">30</td><td align="center" style="width:14%;">31</td><td class="CalOtherMonthDay" align="center" style="width:14%;">1</td></tr><tr><td class="CalOtherMonthDay" align="center" style="width:14%;">2</td><td class="CalOtherMonthDay" align="center" style="width:14%;">3</td><td class="CalOtherMonthDay" align="center" style="width:14%;">4</td><td class="CalOtherMonthDay" align="center" style="width:14%;">5</td><td class="CalOtherMonthDay" align="center" style="width:14%;">6</td><td class="CalOtherMonthDay" align="center" style="width:14%;">7</td><td class="CalOtherMonthDay" align="center" style="width:14%;">8</td></tr>
</table>

			
<h3>常用链接</h3>
<ul>
		<li><a id="SingleColumn1_ctl00_repeaterLinks_ctl01_lnkLinkItem" href="http://www.blogjava.net/KingKong/MyPosts.html">我的随笔</a></li>
	
		<li><a id="SingleColumn1_ctl00_repeaterLinks_ctl02_lnkLinkItem" href="http://www.blogjava.net/KingKong/MyComments.html">我的评论</a></li>
	
		<li><a id="SingleColumn1_ctl00_repeaterLinks_ctl03_lnkLinkItem" href="http://www.blogjava.net/KingKong/OtherPosts.html">我的参与</a></li>
	
		<li><a id="SingleColumn1_ctl00_repeaterLinks_ctl04_lnkLinkItem" href="http://www.blogjava.net/KingKong/RecentComments.html">最新评论</a></li>
	</ul>
<H3>留言簿<span style="font-size:11px;font-weight:normal;">(2)</span></H3>
<ul>
	<li>
		<a id="SingleColumn1_ctl01_lnkMessages" href="http://www.blogjava.net/KingKong/Contact.aspx?id=1">给我留言</a>
	<li>
		<a id="SingleColumn1_ctl01_lnkPublicMsgView" href="http://www.blogjava.net/KingKong/default.aspx?opt=msg">查看公开留言</a>
	<li>
		<a id="SingleColumn1_ctl01_lnkPrivateMsgView" href="http://www.blogjava.net/KingKong/admin/MyMessages.aspx">查看私人留言</a>
	</li>
</ul>

<!--done-->

		<h1 class = "catListTitle">随笔分类</h1>
		
				<ul class = "catList">
			
				<li class = "catListItem"> <a id="SingleColumn1_Categories_CatList_ctl00_LinkList_ctl01_Link" class="listitem" href="http://www.blogjava.net/KingKong/category/19758.html">JAVA心得(26)</a><a id="SingleColumn1_Categories_CatList_ctl00_LinkList_ctl01_RssLink" title="Subscribe to JAVA心得(26)" class="listitem" href="http://www.blogjava.net/KingKong/category/19758.html/rss"><img title="Subscribe to JAVA心得(26)" src="/Images/xml.gif" style="border-width:0px;" /></a></li>
			
				<li class = "catListItem"> <a id="SingleColumn1_Categories_CatList_ctl00_LinkList_ctl02_Link" class="listitem" href="http://www.blogjava.net/KingKong/category/22802.html">js(9)</a><a id="SingleColumn1_Categories_CatList_ctl00_LinkList_ctl02_RssLink" title="Subscribe to js(9)" class="listitem" href="http://www.blogjava.net/KingKong/category/22802.html/rss"><img title="Subscribe to js(9)" src="/Images/xml.gif" style="border-width:0px;" /></a></li>
			
				<li class = "catListItem"> <a id="SingleColumn1_Categories_CatList_ctl00_LinkList_ctl03_Link" class="listitem" href="http://www.blogjava.net/KingKong/category/19760.html">其他(4)</a><a id="SingleColumn1_Categories_CatList_ctl00_LinkList_ctl03_RssLink" title="Subscribe to 其他(4)" class="listitem" href="http://www.blogjava.net/KingKong/category/19760.html/rss"><img title="Subscribe to 其他(4)" src="/Images/xml.gif" style="border-width:0px;" /></a></li>
			
				<li class = "catListItem"> <a id="SingleColumn1_Categories_CatList_ctl00_LinkList_ctl04_Link" class="listitem" href="http://www.blogjava.net/KingKong/category/19759.html">数据库(7)</a><a id="SingleColumn1_Categories_CatList_ctl00_LinkList_ctl04_RssLink" title="Subscribe to 数据库(7)" class="listitem" href="http://www.blogjava.net/KingKong/category/19759.html/rss"><img title="Subscribe to 数据库(7)" src="/Images/xml.gif" style="border-width:0px;" /></a></li>
			
				<li class = "catListItem"> <a id="SingleColumn1_Categories_CatList_ctl00_LinkList_ctl05_Link" class="listitem" href="http://www.blogjava.net/KingKong/category/33453.html">路漫漫(9)</a><a id="SingleColumn1_Categories_CatList_ctl00_LinkList_ctl05_RssLink" title="Subscribe to 路漫漫(9)" class="listitem" href="http://www.blogjava.net/KingKong/category/33453.html/rss"><img title="Subscribe to 路漫漫(9)" src="/Images/xml.gif" style="border-width:0px;" /></a></li>
			
				</ul>
			
	
		<h1 class = "catListTitle">随笔档案</h1>
		
				<ul class = "catList">
			
				<li class = "catListItem"> <a id="SingleColumn1_Categories_CatList_ctl01_LinkList_ctl01_Link" class="listitem" href="http://www.blogjava.net/KingKong/archive/2009/04.html">2009年4月 (3)</a></li>
			
				<li class = "catListItem"> <a id="SingleColumn1_Categories_CatList_ctl01_LinkList_ctl02_Link" class="listitem" href="http://www.blogjava.net/KingKong/archive/2009/03.html">2009年3月 (1)</a></li>
			
				<li class = "catListItem"> <a id="SingleColumn1_Categories_CatList_ctl01_LinkList_ctl03_Link" class="listitem" href="http://www.blogjava.net/KingKong/archive/2008/10.html">2008年10月 (2)</a></li>
			
				<li class = "catListItem"> <a id="SingleColumn1_Categories_CatList_ctl01_LinkList_ctl04_Link" class="listitem" href="http://www.blogjava.net/KingKong/archive/2008/09.html">2008年9月 (1)</a></li>
			
				<li class = "catListItem"> <a id="SingleColumn1_Categories_CatList_ctl01_LinkList_ctl05_Link" class="listitem" href="http://www.blogjava.net/KingKong/archive/2008/08.html">2008年8月 (4)</a></li>
			
				<li class = "catListItem"> <a id="SingleColumn1_Categories_CatList_ctl01_LinkList_ctl06_Link" class="listitem" href="http://www.blogjava.net/KingKong/archive/2008/07.html">2008年7月 (1)</a></li>
			
				<li class = "catListItem"> <a id="SingleColumn1_Categories_CatList_ctl01_LinkList_ctl07_Link" class="listitem" href="http://www.blogjava.net/KingKong/archive/2008/04.html">2008年4月 (1)</a></li>
			
				<li class = "catListItem"> <a id="SingleColumn1_Categories_CatList_ctl01_LinkList_ctl08_Link" class="listitem" href="http://www.blogjava.net/KingKong/archive/2008/03.html">2008年3月 (1)</a></li>
			
				<li class = "catListItem"> <a id="SingleColumn1_Categories_CatList_ctl01_LinkList_ctl09_Link" class="listitem" href="http://www.blogjava.net/KingKong/archive/2008/02.html">2008年2月 (1)</a></li>
			
				<li class = "catListItem"> <a id="SingleColumn1_Categories_CatList_ctl01_LinkList_ctl10_Link" class="listitem" href="http://www.blogjava.net/KingKong/archive/2007/07.html">2007年7月 (2)</a></li>
			
				<li class = "catListItem"> <a id="SingleColumn1_Categories_CatList_ctl01_LinkList_ctl11_Link" class="listitem" href="http://www.blogjava.net/KingKong/archive/2007/06.html">2007年6月 (2)</a></li>
			
				<li class = "catListItem"> <a id="SingleColumn1_Categories_CatList_ctl01_LinkList_ctl12_Link" class="listitem" href="http://www.blogjava.net/KingKong/archive/2007/05.html">2007年5月 (7)</a></li>
			
				<li class = "catListItem"> <a id="SingleColumn1_Categories_CatList_ctl01_LinkList_ctl13_Link" class="listitem" href="http://www.blogjava.net/KingKong/archive/2007/04.html">2007年4月 (1)</a></li>
			
				<li class = "catListItem"> <a id="SingleColumn1_Categories_CatList_ctl01_LinkList_ctl14_Link" class="listitem" href="http://www.blogjava.net/KingKong/archive/2007/03.html">2007年3月 (2)</a></li>
			
				<li class = "catListItem"> <a id="SingleColumn1_Categories_CatList_ctl01_LinkList_ctl15_Link" class="listitem" href="http://www.blogjava.net/KingKong/archive/2007/01.html">2007年1月 (12)</a></li>
			
				<li class = "catListItem"> <a id="SingleColumn1_Categories_CatList_ctl01_LinkList_ctl16_Link" class="listitem" href="http://www.blogjava.net/KingKong/archive/2006/12.html">2006年12月 (1)</a></li>
			
				<li class = "catListItem"> <a id="SingleColumn1_Categories_CatList_ctl01_LinkList_ctl17_Link" class="listitem" href="http://www.blogjava.net/KingKong/archive/2006/11.html">2006年11月 (1)</a></li>
			
				<li class = "catListItem"> <a id="SingleColumn1_Categories_CatList_ctl01_LinkList_ctl18_Link" class="listitem" href="http://www.blogjava.net/KingKong/archive/2006/10.html">2006年10月 (4)</a></li>
			
				</ul>
			
	
		<h1 class = "catListTitle">好友的blog</h1>
		
				<ul class = "catList">
			
				<li class = "catListItem"> <a id="SingleColumn1_Categories_CatList_ctl02_LinkList_ctl01_Link" class="listitem" href="http://www.blogjava.net/jcat">霸霸的blog</a></li>
			
				<li class = "catListItem"> <a id="SingleColumn1_Categories_CatList_ctl02_LinkList_ctl02_Link" class="listitem" href="http://gaofeng830128.spaces.live.com">风风的BLOG</a></li>
			
				</ul>
			
	


<script language="JavaScript">
function SearchGoogle(key,evt,site)
		{
			if(evt.keyCode==13 || evt.keyCode==0 || evt.type =='click')
			{
				key.focus();
				var keystr = encodeURIComponent(key.value);
				url = "http://www.google.com/search?q=";
				url = url+keystr;
				url += "&ie=UTF-8&oe=GB2312&hl=zh-CN&domains="+site+"&sitesearch="+site;
				window.location=url;
				return false;
			}
		}
</script>
<H3>搜索</H3>
<ul>
	<li>
		<li><input style="WIDTH: 130px" type="text" name="q" id="q" onkeydown="return SearchGoogle(document.getElementById('q'),event,'www.blogjava.net/KingKong')">&nbsp;<input onclick="SearchGoogle(document.getElementById('q'),event,'www.blogjava.net/KingKong')" type="button" value="搜索" name="sa">
	</li>
</ul>

<H3>积分与排名</H3>
<ul>
	<li>
		积分 -
		15992
	<li>
		排名 -
		668
	</li>
</ul>

<h3>最新评论
	<a id="SingleColumn1__c7976e_RSSHyperlink1" href="http://www.blogjava.net/KingKong/CommentsRSS.aspx"><img src="/images/xml.gif" style="border-width:0px;" /></a></h3>
<div class="RecentComment">
	
			<ul>
		
			<li style="word-break:break-all">
				<a id="SingleColumn1__c7976e_CommentList_ctl01_Hyperlink1" href="http://www.blogjava.net/KingKong/archive/2008/12/02/230524.html#243882">1. re: aop拦截springmvc的action不成功!(已解决)</a>
			</li>
			<li style="word-break:break-all">
				你成功的代码能否发下出来啊？
			</li>
			<li style="text-align:right;margin-right:4px">
				--娃娃</li>
		
			<li style="word-break:break-all">
				<a id="SingleColumn1__c7976e_CommentList_ctl02_Hyperlink1" href="http://www.blogjava.net/KingKong/archive/2008/10/20/235173.html#235561">2. re: 使用spring发送邮件</a>
			</li>
			<li style="word-break:break-all">
				评论内容较长,点击标题查看
			</li>
			<li style="text-align:right;margin-right:4px">
				--sure_xx</li>
		
			<li style="word-break:break-all">
				<a id="SingleColumn1__c7976e_CommentList_ctl03_Hyperlink1" href="http://www.blogjava.net/KingKong/archive/2008/10/20/235173.html#235560">3. re: 使用spring发送邮件</a>
			</li>
			<li style="word-break:break-all">
				评论内容较长,点击标题查看
			</li>
			<li style="text-align:right;margin-right:4px">
				--sure_xx</li>
		
			<li style="word-break:break-all">
				<a id="SingleColumn1__c7976e_CommentList_ctl04_Hyperlink1" href="http://www.blogjava.net/KingKong/archive/2008/10/19/235173.html#235363">4. re: 使用spring发送邮件</a>
			</li>
			<li style="word-break:break-all">
				评论内容较长,点击标题查看
			</li>
			<li style="text-align:right;margin-right:4px">
				--杨爱友</li>
		
			<li style="word-break:break-all">
				<a id="SingleColumn1__c7976e_CommentList_ctl05_Hyperlink1" href="http://www.blogjava.net/KingKong/archive/2008/10/19/235173.html#235360">5. re: 使用spring发送邮件</a>
			</li>
			<li style="word-break:break-all">
				评论内容较长,点击标题查看
			</li>
			<li style="text-align:right;margin-right:4px">
				--杨爱友</li>
		
			</ul>
		
</div>

<h3>阅读排行榜</h3>
<div class="RecentComment">
	
			<ul style="word-break:break-all">
		
			<li>
				<a id="SingleColumn1__334303a_TopList_ctl01_Hyperlink1" href="http://www.blogjava.net/KingKong/archive/2007/07/13/130021.html">1. 判断一个JS对象是否为空(1497)</a>
			</li>
		
			<li>
				<a id="SingleColumn1__334303a_TopList_ctl02_Hyperlink1" href="http://www.blogjava.net/KingKong/archive/2008/09/22/230524.html">2. aop拦截springmvc的action不成功!(已解决)(1331)</a>
			</li>
		
			<li>
				<a id="SingleColumn1__334303a_TopList_ctl03_Hyperlink1" href="http://www.blogjava.net/KingKong/archive/2008/10/18/235173.html">3. 使用spring发送邮件(1305)</a>
			</li>
		
			<li>
				<a id="SingleColumn1__334303a_TopList_ctl04_Hyperlink1" href="http://www.blogjava.net/KingKong/archive/2008/04/28/196768.html">4. 部署的时候遇到的一些问题及解决(842)</a>
			</li>
		
			<li>
				<a id="SingleColumn1__334303a_TopList_ctl05_Hyperlink1" href="http://www.blogjava.net/KingKong/archive/2007/01/16/94321.html">5. 计算任何一天是星期几的算法（拿来主义）(784)</a>
			</li>
		
			</ul>
		
</div>

<h3>评论排行榜</h3>
<div class="RecentComment">
	
			<ul style="word-break:break-all">
		
			<li>
				<a id="SingleColumn1__2089f3c_TopList_ctl01_Hyperlink1" href="http://www.blogjava.net/KingKong/archive/2008/09/22/230524.html">1. aop拦截springmvc的action不成功!(已解决)(10)</a>
			</li>
		
			<li>
				<a id="SingleColumn1__2089f3c_TopList_ctl02_Hyperlink1" href="http://www.blogjava.net/KingKong/archive/2008/10/18/235173.html">2. 使用spring发送邮件(4)</a>
			</li>
		
			<li>
				<a id="SingleColumn1__2089f3c_TopList_ctl03_Hyperlink1" href="http://www.blogjava.net/KingKong/archive/2007/01/16/94321.html">3. 计算任何一天是星期几的算法（拿来主义）(3)</a>
			</li>
		
			<li>
				<a id="SingleColumn1__2089f3c_TopList_ctl04_Hyperlink1" href="http://www.blogjava.net/KingKong/archive/2007/01/05/91872.html">4. JAVA中日期的问题(3)</a>
			</li>
		
			<li>
				<a id="SingleColumn1__2089f3c_TopList_ctl05_Hyperlink1" href="http://www.blogjava.net/KingKong/archive/2007/01/04/91859.html">5. j2EE中的过滤器的用法(过滤乱码)(2)</a>
			</li>
		
			</ul>
		
</div>
</DIV>
	
</div>


<!--done-->
<div class="footer">
	
	Copyright &copy;2009 sure_xx Powered By<a href="/">博客园</a> 模板提供：<a href="http://blog.hjenglish.com">沪江博客</a>
</div>
    
<script type="text/javascript">
//<![CDATA[
var Page_ValidationSummaries =  new Array(document.getElementById("AjaxHolder_PostComment_ValidationSummary1"));
var Page_Validators =  new Array(document.getElementById("AjaxHolder_PostComment_RequiredFieldValidator1"), document.getElementById("AjaxHolder_PostComment_RequiredFieldValidator2"), document.getElementById("AjaxHolder_PostComment_Requiredfieldvalidator4"), document.getElementById("AjaxHolder_PostComment_RequiredFieldValidator3"));
//]]>
</script>

<script type="text/javascript">
//<![CDATA[
var AjaxHolder_PostComment_RequiredFieldValidator1 = document.all ? document.all["AjaxHolder_PostComment_RequiredFieldValidator1"] : document.getElementById("AjaxHolder_PostComment_RequiredFieldValidator1");
AjaxHolder_PostComment_RequiredFieldValidator1.controltovalidate = "AjaxHolder_PostComment_tbTitle";
AjaxHolder_PostComment_RequiredFieldValidator1.errormessage = "请输入标题";
AjaxHolder_PostComment_RequiredFieldValidator1.evaluationfunction = "RequiredFieldValidatorEvaluateIsValid";
AjaxHolder_PostComment_RequiredFieldValidator1.initialvalue = "";
var AjaxHolder_PostComment_RequiredFieldValidator2 = document.all ? document.all["AjaxHolder_PostComment_RequiredFieldValidator2"] : document.getElementById("AjaxHolder_PostComment_RequiredFieldValidator2");
AjaxHolder_PostComment_RequiredFieldValidator2.controltovalidate = "AjaxHolder_PostComment_tbName";
AjaxHolder_PostComment_RequiredFieldValidator2.errormessage = "请输入你的姓名";
AjaxHolder_PostComment_RequiredFieldValidator2.evaluationfunction = "RequiredFieldValidatorEvaluateIsValid";
AjaxHolder_PostComment_RequiredFieldValidator2.initialvalue = "";
var AjaxHolder_PostComment_Requiredfieldvalidator4 = document.all ? document.all["AjaxHolder_PostComment_Requiredfieldvalidator4"] : document.getElementById("AjaxHolder_PostComment_Requiredfieldvalidator4");
AjaxHolder_PostComment_Requiredfieldvalidator4.controltovalidate = "AjaxHolder_PostComment_CodeNumberTextBox";
AjaxHolder_PostComment_Requiredfieldvalidator4.errormessage = "请输入验证码";
AjaxHolder_PostComment_Requiredfieldvalidator4.display = "Dynamic";
AjaxHolder_PostComment_Requiredfieldvalidator4.evaluationfunction = "RequiredFieldValidatorEvaluateIsValid";
AjaxHolder_PostComment_Requiredfieldvalidator4.initialvalue = "";
var AjaxHolder_PostComment_RequiredFieldValidator3 = document.all ? document.all["AjaxHolder_PostComment_RequiredFieldValidator3"] : document.getElementById("AjaxHolder_PostComment_RequiredFieldValidator3");
AjaxHolder_PostComment_RequiredFieldValidator3.controltovalidate = "AjaxHolder_PostComment_tbComment";
AjaxHolder_PostComment_RequiredFieldValidator3.errormessage = "请输入评论内容";
AjaxHolder_PostComment_RequiredFieldValidator3.evaluationfunction = "RequiredFieldValidatorEvaluateIsValid";
AjaxHolder_PostComment_RequiredFieldValidator3.initialvalue = "";
var AjaxHolder_PostComment_ValidationSummary1 = document.all ? document.all["AjaxHolder_PostComment_ValidationSummary1"] : document.getElementById("AjaxHolder_PostComment_ValidationSummary1");
AjaxHolder_PostComment_ValidationSummary1.showmessagebox = "True";
AjaxHolder_PostComment_ValidationSummary1.showsummary = "False";
//]]>
</script>


<script type="text/javascript">
//<![CDATA[

var Page_ValidationActive = false;
if (typeof(ValidatorOnLoad) == "function") {
    ValidatorOnLoad();
}

function ValidatorOnSubmit() {
    if (Page_ValidationActive) {
        return ValidatorCommonOnSubmit();
    }
    else {
        return true;
    }
}
        
document.getElementById('AjaxHolder_PostComment_ValidationSummary1').dispose = function() {
    Array.remove(Page_ValidationSummaries, document.getElementById('AjaxHolder_PostComment_ValidationSummary1'));
}
Sys.Application.initialize();

document.getElementById('AjaxHolder_PostComment_RequiredFieldValidator1').dispose = function() {
    Array.remove(Page_Validators, document.getElementById('AjaxHolder_PostComment_RequiredFieldValidator1'));
}

document.getElementById('AjaxHolder_PostComment_RequiredFieldValidator2').dispose = function() {
    Array.remove(Page_Validators, document.getElementById('AjaxHolder_PostComment_RequiredFieldValidator2'));
}

document.getElementById('AjaxHolder_PostComment_Requiredfieldvalidator4').dispose = function() {
    Array.remove(Page_Validators, document.getElementById('AjaxHolder_PostComment_Requiredfieldvalidator4'));
}

document.getElementById('AjaxHolder_PostComment_RequiredFieldValidator3').dispose = function() {
    Array.remove(Page_Validators, document.getElementById('AjaxHolder_PostComment_RequiredFieldValidator3'));
}
//]]>
</script>
</form>
    <script type="text/javascript" src="/script/ShowHidden.js"></script>
	<script type="text/javascript">
	var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
	document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
	</script>
	<script type="text/javascript">
	try {
	var pageTracker = _gat._getTracker("UA-476124-3");
	pageTracker._trackPageview();
	} catch(err) {}</script>
</body>
</html>
