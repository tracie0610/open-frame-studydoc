<html>
<head>

<meta http-equiv="Content-Language" content="zh-cn">
<meta http-equiv="Content-Type" content="text/html; charset=GB2312">
<title>JScud Develop -- 查看文章: WebWork中if等条件标签中String和Char的一个小陷阱 </title>

<link href="/public/css/jscud.css" rel="stylesheet" type="text/css">
<script language="javascript" src="/public/js/xmlhttprequest.js"></script>
<script language="javascript">
function openwin(url,myname)
{
	window.open(url,myname,'resizable=1,scrollbars=0,status=no,toolbar=no,location=no,menu=no,left=0,top=0,width=400,height=300');
}
</script>

<script src="http://www.google-analytics.com/urchin.js" type="text/javascript">
</script>
<script type="text/javascript">
_uacct = "UA-199758-1";
urchinTracker();
</script>

</head>

<body>

<table border="2" width="778"   cellspacing="0" bgcolor="#f0f0f0" bordercolorlight="#f0f0f0" bordercolordark="#f0f0f0" align="center">
    <tr>
      <td width="100%" height="5"></td>
	  </tr>
    <tr>
      <td width="100%">

        <table border="0" cellpadding="0" cellspacing="0" width="100%">
        <tr > 
          <td width="100%" >

  	<table width="100%" border="0" cellpadding="0" cellspacing="0">            
  	<tr><td bgcolor="#003366">
	    <table border="0" width="100%" cellpadding="0" cellspacing="0">
          <tr> 
            <td width="33%"><img border="0" src="/public/images/logo.gif" width="140" height="80" alt="飞云开发小组"></td>
            <td width="65%" align="right">
            <script type="text/javascript" src="http://www.javascud.org/ad/468_60.js"></script>
            </td>
            <td width="2%" align="right">
              </td>
          </tr>
        </table>
    </td></tr>
  	<tr><td  bgColor="#3c78b5">
			<table width="100%" border="0">
			<tr valign="middle">
          	<td width="12%" height="20" align="center" class="wizItem"  onmouseover="this.className='wizItemOver'" 
          onmouseout="this.className='wizItem'"> 
            <a href="/">首页</a>
            </td>
          <td width="11%" align="center" class="wizItem" onmouseover="this.className='wizItemOver'" 
          onmouseout="this.className='wizItem'"><a href="/news/">文章中心</a>
            </td>
          <td width="11%" align="center" class="wizItem" onmouseover="this.className='wizItemOver'" 
          onmouseout="this.className='wizItem'"><a href="/service/">服务支持</a>
            </td>
          <td width="13%" align="center" class="wizItem" onmouseover="this.className='wizItemOver'" 
          onmouseout="this.className='wizItem'"><a href="http://webwork.javascud.org" target="_blank">WebWork中文</a>
            </td>
          <td width="13%" align="center" class="wizItem" onmouseover="this.className='wizItemOver'" 
          onmouseout="this.className='wizItem'"><a href="http://www.javascud.org" target=_blank>JavaScud开源</a> 
            </td>
          <td width="11%" align="center" class="wizItem" onmouseover="this.className='wizItemOver'" 
          onmouseout="this.className='wizItem'"><a href="http://forum.javascud.org" target=_blank>综合论坛</a>            
            </td>
          <td width="11%" align="center" class="wizItem" onmouseover="this.className='wizItemOver'" 
          onmouseout="this.className='wizItem'"><a href="http://wiki.javascud.org">知识库</a>            
            </td>            
          <td width="11%" align="center" class="wizItem" onmouseover="this.className='wizItemOver'" 
          onmouseout="this.className='wizItem'"><a href="http://blog.javascud.org">博客服务</a>            
            </td>
          <td width="7%" class="wizItem">　</td>
		</tr>
	  </table>
    </td></tr>    
    </table>
          </td>
        </tr>
        
        <tr> 
          <td >
          
		<!-- view.jsp -->
		<table width="100%" border="0" cellpadding="0" cellspacing="0" bgcolor="#FFFFFF">
		<tr><td>
		<table width="95%" border="0" align="center" cellpadding="2" cellspacing="6" >
			<tr> 
		      <td height="10" align="left" colspan=2 ></td>
		    </tr>
		    <tr>
		     	  <td align="left" width="538" >
		     	  <strong>WebWork中if等条件标签中String和Char的一个小陷阱</strong> ( 2005-01-22 )
		          </td>
		          <td align="right">
					<a href="/news/index.jsp?cid=4">返回 WebWork文章</a>
					&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
		          </td>
		    </tr>
		    <tr>
		         <td align="left" valign=top colspan=2>
		         <hr align="left"  width="95%" size="1" noshade color="#cc0000" >
		         </td>
		    </tr>
		    <tr>
		      <td colspan=2><p><strong>WebWork中if等条件标签中String和Char的一个小陷阱</strong></p>
<p>&nbsp;<font color="#ff0000">本文仅用来提醒在WebWork的条件标签使用时要注意String和Char的区别.一个很简单的问题.</font></p>
&nbsp;假设你的Action中有一个字段,例如叫name,那么对应的方法是:&nbsp;
<p>
<table cellspacing="1" cellpadding="1" width="90%" align="center" border="0">
    <caption>
    <p align="left"><strong>JAVA代码</strong></p>
    </caption>
    <tbody>
        <tr>
            <td class="code">
            <p>public String getName()<br/>
            {<br/>
            &nbsp;&nbsp;return name;<br/>
            )</p>
            </td>
        </tr>
    </tbody>
</table>
</p>
<p>&nbsp;<br/>
&nbsp;通常,你的WebWork的视图文件中,如果用到字段比较时,例如if,else等,写法通常如下:<br/>
&nbsp; </p>
<p>
<table cellspacing="1" cellpadding="3" width="90%" align="center" border="0">
    <tbody>
        <tr>
            <td class="code">&nbsp;<font style="BACKGROUND-COLOR: #fafafa" face="Courier">&lt;ww:if test=&quot;name.equals(&rsquo;a&rsquo;)&quot;&gt;OK&lt;/ww:if&gt;</font></td>
        </tr>
    </tbody>
</table>
</p>
<p><br/>
<br/>
&nbsp;如果你的名字是 a 那么结果会怎么样哪? 结果是没有打印出OK来,这是为什么哪?<br/>
&nbsp;<br/>
&nbsp;但是如果你的name是2个字符或者更多,那么就会出来正确的结果了.<br/>
&nbsp;<br/>
</p>
<p>
<table cellspacing="1" cellpadding="3" width="90%" align="center" border="0">
    <tbody>
        <tr>
            <td class="code">&nbsp;&lt;ww:if test=&quot;name.equals(&rsquo;abc&rsquo;)&quot;&gt;OK&lt;/ww:if&gt; </td>
        </tr>
    </tbody>
</table>
</p>
<p><br/>
&nbsp;<br/>
&nbsp;看一下下面的Action中的部分代码,你应该也就会明白了吧.&nbsp;</p>
<p>
<table cellspacing="1" cellpadding="3" width="90%" align="center" border="0">
    <tbody>
        <tr>
            <td class="code">
            <p><font size="2"><b><font color="#7f0055">public</font></b> <b><font color="#7f0055">char</font></b> getMyChar()<br/>
            {<br/>
            <font color="#7f0055"><b>&nbsp;&nbsp; </b></font><font color="#7f0055"><b>return</b></font> <font color="#2a00ff">&rsquo;a&rsquo;</font>;<br/>
            }</font></p>
            <p><b><font color="#7f0055" size="2">public</font></b><font size="2"> String getHello()<br/>
            {<br/>
            &nbsp;&nbsp; </font><b><font color="#7f0055" size="2">return</font></b><font size="2"> </font><font color="#2a00ff" size="2">&quot;a&quot;</font><font size="2">;<br/>
            }</font>&nbsp;&nbsp;&nbsp; </p>
            </td>
        </tr>
    </tbody>
</table>
</p>
<p><br/>
&nbsp;&nbsp;&nbsp; 在看看jsp中的代码:&nbsp;<font size="2"> </font></p>
<p>
<table cellspacing="1" cellpadding="3" width="90%" align="center" border="0">
    <tbody>
        <tr>
            <td class="code">
            <p><br/>
            hello<font color="#008080" size="2">&lt;</font><font color="#3f7f7f" size="2">br</font><font color="#008080" size="2">&gt;<br/>
            &lt;</font><font color="#3f7f7f" size="2">ww:if </font><font color="#7f007f" size="2">test</font><font size="2">=</font><font color="#2a00ff" size="2">&quot;&rsquo;a&rsquo;.equals(&rsquo;a&rsquo;)&quot;</font><font color="#008080" size="2">&gt;</font><font size="2">World</font><font color="#008080" size="2">&lt;/</font><font color="#3f7f7f" size="2">ww:if</font><font color="#008080" size="2">&gt;<br/>
            &lt;</font><font color="#3f7f7f" size="2">br</font><font color="#008080" size="2">&gt;</font><font size="2"><br/>
            I am </font><font color="#008080" size="2">&lt;</font><font color="#3f7f7f" size="2">ww:property </font><font color="#7f007f" size="2">value</font><font size="2">=</font><font color="#2a00ff" size="2">&quot;hello&quot; </font><font color="#008080" size="2">/&gt;</font><font size="2">,and test </font><font color="#008080" size="2">&lt;</font><font color="#3f7f7f" size="2">ww:if </font><font color="#7f007f" size="2">test</font><font size="2">=</font><font color="#2a00ff" size="2">&quot;hello.equals(\&quot;</font><font color="#7f007f" size="2">a</font><font size="2">\&quot;)&quot;</font><font color="#008080" size="2">&gt;</font><font size="2">OK</font><font color="#008080" size="2">&lt;/</font><font color="#3f7f7f" size="2">ww:if</font><font color="#008080" size="2">&gt;<br/>
            &lt;</font><font color="#3f7f7f" size="2">br</font><font color="#008080" size="2">&gt;</font><font size="2"><br/>
            I am </font><font color="#008080" size="2">&lt;</font><font color="#3f7f7f" size="2">ww:property </font><font color="#7f007f" size="2">value</font><font size="2">=</font><font color="#2a00ff" size="2">&quot;myChar&quot; </font><font color="#008080" size="2">/&gt;</font><font size="2">,and test </font><font color="#008080" size="2">&lt;</font><font color="#3f7f7f" size="2">ww:if </font><font color="#7f007f" size="2">test</font><font size="2">=</font><font color="#2a00ff" size="2">&quot;myChar.equals(&rsquo;a&rsquo;)&quot;</font><font color="#008080" size="2">&gt;</font><font size="2">OK</font><font color="#008080" size="2">&lt;/</font><font color="#3f7f7f" size="2">ww:if</font> <font color="#008080" size="2">&gt; </font></p>
            </td>
        </tr>
    </tbody>
</table>
</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;这个问题是个容易忽略的问题,往往是想不到,所以遇到此问题时还真是很着急.解决后,觉得太简单了.可能还是Java基本功不好吧 :)<br/>
&nbsp;<br/>
&nbsp;如果你的变量肯定是一个字母,那就用char,如果不一定,那就只好用hello.equals(\&quot;a\&quot;)的写法了. <br/>
&nbsp;<br/>
&nbsp;</p>		
		      <br>
		      <p>　
		      <table border="0" cellpadding="0" cellspacing="0" bgcolor="#FFFFC8">
		        <tr>
		          <td width="100"><a href="http://www.creativecommons.cn/licenses/by-nc-sa/1.0/" target="_blank"><img border="0" src="/scud/somerights.gif" alt="创造共用协议:署名,非商业,保持一致" width="88" height="31"></a>&nbsp;&nbsp;</td>
		          <td >除经特别注明外,本文章版权归JScud Develop团队或其作者所有.  
		      	  <br><font color="#FF0000">署名,非商业用途,保持一致.</font>&nbsp;&nbsp;&nbsp;scud(飞云小侠)&nbsp;&nbsp;&nbsp;<a href="http://www.jscud.com" target="_blank">JScud Develop</a>
		          </td>
		        </tr>
		      </table>
		      <p> 
			  </td>
		    </tr>
		    <tr>                      
		      <td colspan=2><br>
		      <script type="text/javascript" src="http://www.javascud.org/ad/728_90.js"></script>
		      <br>
			  </td>
		    </tr>
		    <tr>                      
		      <td colspan=2><br><a href="/news/index.jsp?cid=4">返回 WebWork文章</a>
			  </td>
		    </tr>
		    
		    <tr>                      
		      <td colspan=2>
		      <br>
		      <div id="comment">
		      
				<table cellspacing="0" cellpadding="4" width="95%"   border="0">
				  <tr bgcolor="#c1d5e8">
				    <td >文章评论 </td>
				    <td align="right"><a href="#" class=mysl onclick="openwin('/news/gocomment.jspa?nid=26','scud_news_comment');">
				    <font color="#0000cc" >我要评论</font></a></td>
				  </tr>
				</table>
				
			    <table border="0" cellpadding="2" cellspacing="1" width="95%"  bgcolor="#666666" >
			    </table>
		      
		      </div>		      
			  </td>
		    </tr>
		</table>            
		            
		<br>
		</td></tr>
		</table>
		<!-- end view.jsp -->
		
          </td>
        </tr>
        <tr> 
          <td width="100%" height=5> </td>
        </tr>
      </table>
        
    </td>
    </tr>
  </table>  

<TABLE cellSpacing=0 cellPadding=0 width=778 align=center bgColor=#f0f0f0 border=0>
  <TR><TD class=footurl align=middle bgColor=#666666 height=3></TD></TR>
</TABLE>

  <table width="778" border="0" align="center" cellpadding="4" cellspacing="0" bgcolor="#f0f0f0" >

        <tr><td align="center" bgcolor="#b0b0b0" class="footurl">
        <a href="/home/about.jsp">关于我们</a> &nbsp;&nbsp;        
        <a href="/home/contact.jsp"   >联系我们</a> &nbsp;&nbsp;
        <a href="/sitemap.jsp"   >网站地图</a> &nbsp;&nbsp;
        <a href="/home/ad.jsp"   >广告赞助</a> &nbsp;&nbsp;
        <a href="/home/join.jsp"   >加盟合作</a> &nbsp;&nbsp;
        <a href="/home/copyright.jsp"   >版权声明</a>
        </td></tr>
</table>
<TABLE cellSpacing=0 cellPadding=0 width=778 align=center bgColor=#f0f0f0 border=0>
  <TR>
    <TD class=footurl align=middle  bgcolor=#666666 height=5></TD></TR>
</TABLE>

<TABLE cellSpacing=0 cellPadding=0 width=778 align=center bgColor=#f0f0f0 
border=0 >
  <TR>
    <TD 
      width="100%" align=center bgcolor="#666666"  class="cprtext">
      &copy;版权所有&nbsp;<a href="http://www.jscud.com">JScud Develop Team</a>
      </TD>  
  </TR>
</TABLE>
<TABLE cellSpacing=0 cellPadding=0 width=778 align=center bgColor=#f0f0f0 border=0>
  <TR>
    <TD class=footurl align=middle  bgcolor=#666666 height=5>
            <div id="counter" style="display:none">
<script type="text/javascript" language="javascript">
<!--
_d=document; _n=navigator; _t=new Date(); function t() { _d.write(
"<img src=\"http://cn.2.cqcounter.com/cgi-bin/c?_id=scud&_z=2&_r="+
_r+"&_c="+_c+"&_j="+_j+"&_t="+(_t.getTimezoneOffset())+"&_k="+_k+
"&_l="+escape(_d.referrer)+"\" width=70 height=15 "+
"border=0>");} _c="0"; _r="0"; _j="U"; _k="U"; _d.cookie="_c=y";
_d.cookie.length>0?_k="Y":_k="N";
//-->
</script>
<script type="text/javascript" language="javascript1.2">
<!--
_n.javaEnabled()?_j="Y":_j="N";_b=screen; _r=_b.width;
_n.appName!="Netscape"?_c=_b.colorDepth : _c=_b.pixelDepth;
//-->
</script>
<a title="Free Counter" href="http://cqcounter.com/?_id=scud&_lo=cn2"
target="_blank"><script type="text/javascript" language="javascript">
<!--
t(); 
//-->
</script></a><noscript><img width="70" height="15" border="0"
alt="Counter" src="http://cn.2.cqcounter.com/cgi-bin/c?_id=scud&_z=2"><br>
<a title="Web Counter" href="http://cqcounter.com/">Hit Counter</a></noscript>
<a href="http://www.51.la/?214717" target="_blank"><img alt="&#x6211;&#x8981;&#x5566;&#x514D;&#x8D39;&#x7EDF;&#x8BA1;" src="http://img.users.51.la/214717.asp" style="border:none" /></a></noscript>
</div>
    </TD></TR>
</TABLE>

		
</body>

</html>
