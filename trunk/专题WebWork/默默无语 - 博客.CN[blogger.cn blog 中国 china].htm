
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN" >
<HTML>
	<HEAD>
<meta content="www.blogger.cn/blogger.cn/博客.cn/blog/china/中国/aspx.cn/Chinaaspx.com/chinaspx.com/中国DotNet俱乐部/DotNet同盟/.Net论坛/cncode.com/源码中心" name="description"/>
<meta content="blog,blogger,博客,www.blogger.cn,blogger.cn,博客.cn,blog,china,中国,aspx.cn,Chinaaspx.com,chinaspx.com,中国DotNet俱乐部,DotNet同盟,.Net论坛,cncode.com,源码中心" name="keywords"/>

		<title>
			默默无语 - 博客.CN[blogger.cn/blog/中国/china]</title>
		<meta name="GENERATOR" Content="Microsoft Visual Studio 7.0">
		<meta name="CODE_LANGUAGE" Content="C#">
		<meta name="vs_defaultClientScript" content="JavaScript">
		<meta name="vs_targetSchema" content="http://schemas.microsoft.com/intellisense/ie5">

		<link rel="stylesheet" href="/Skins/marvin2/style.css" type="text/css" >
<link rel="stylesheet" href="/Skins/marvin2/brown.css" type="text/css" >
<link rel="stylesheet" href="http://java.mblogger.cn/wuyu/customcss.aspx" type="text/css" >
<link rel="alternate" href="http://java.mblogger.cn/wuyu/rss.aspx" type="application/rss+xml" title="RSS" >
<link rel="home" title = "Home" href="http://java.mblogger.cn/wuyu/" >

	</HEAD>
	<body>
		<form name="__aspnetForm" method="post" action="12712.aspx" id="__aspnetForm">
<input type="hidden" name="__EVENTTARGET" value="" />
<input type="hidden" name="__EVENTARGUMENT" value="" />
<input type="hidden" name="__VIEWSTATE" value="dDwwOztsPF9jdGwwOkxlZnRDb2x1bW4tNjpSZW1lbWJlck1lO19jdGwwOnBhZ2VCb2R5LTI6Y2hrUmVtZW1iZXI7Pj4=" />

<script language="javascript" type="text/javascript">
<!--
	function __doPostBack(eventTarget, eventArgument) {
		var theform;
		if (window.navigator.appName.toLowerCase().indexOf("microsoft") > -1) {
			theform = document.__aspnetForm;
		}
		else {
			theform = document.forms["__aspnetForm"];
		}
		theform.__EVENTTARGET.value = eventTarget.split("$").join(":");
		theform.__EVENTARGUMENT.value = eventArgument;
		theform.submit();
	}
// -->
</script>


			<div id="top">
			
<h1><a id="_ctl0_Header1_HeaderTitle" class="headermaintitle" href="http://java.mblogger.cn/wuyu/">默默无语</a></h1>
<p id="tagline">搬家－－http://wuyu.someok.com
</p>
<div id="topads"></div>
<script type="text/javascript">
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>
<script type="text/javascript">
var pageTracker = _gat._getTracker("UA-4718448-2");
pageTracker._setDomainName("mblogger.cn"); pageTracker._initData();
pageTracker._trackPageview();
</script>
			</div>
			
			<div id="leftmenu">
				
<h3>导航</h3>
<ul>
			<li><a id="_ctl0_LeftColumn-0_HomeLink2" href="http://www.mblogger.cn" target="_blank">部落阁</a></li>
			<li><a id="_ctl0_LeftColumn-0_HomeLink" href="http://java.mblogger.cn">JAVA博客</a></li>
			<li><a id="_ctl0_LeftColumn-0_MyLink" href="http://java.mblogger.cn/wuyu/">我的首页</a></li>
			<li><a id="_ctl0_LeftColumn-0_ContactLink" accesskey="9" href="http://java.mblogger.cn/wuyu/contact.aspx">联系</a></li>
			<li><a id="_ctl0_LeftColumn-0_Syndication" href="http://java.mblogger.cn/wuyu/Rss.aspx">聚合</a><a id="_ctl0_LeftColumn-0_XMLLink" href="http://java.mblogger.cn/wuyu/Rss.aspx"><img src="../../images/xml.gif" alt="" border="0" /></a>
			<li><a id="_ctl0_LeftColumn-0_SearchLink" href="http://java.mblogger.cn/wuyu/groups.aspx">我的圈圈</a></li>
			<li><a id="_ctl0_LeftColumn-0_Admin" href="http://java.mblogger.cn/wuyu/Admin/default.aspx">登录</a></li>
</ul><table id="Calendar1" class="calendarcss" cellspacing="0" cellpadding="2" align="center" border="0" style="border-width:1px;border-style:solid;border-collapse:collapse;">
	<tr><td colspan="7" style="background-color:;"><table class="calendartitlecss" cellspacing="0" border="0" style="width:100%;border-collapse:collapse;">
		<tr><td class="nextprevcss" style="width:15%;"><a href="javascript:__doPostBack('_ctl0$LeftColumn-1$Calendar1','V3319')" style="color:Black">&lt;</a></td><td align="Center" style="width:70%;">2009年3月</td><td class="nextprevcss" align="Right" style="width:15%;"><a href="javascript:__doPostBack('_ctl0$LeftColumn-1$Calendar1','V3378')" style="color:Black">&gt;</a></td></tr>
	</table></td></tr><tr><td class="daycss" align="Center">日</td><td class="daycss" align="Center">一</td><td class="daycss" align="Center">二</td><td class="daycss" align="Center">三</td><td class="daycss" align="Center">四</td><td class="daycss" align="Center">五</td><td class="daycss" align="Center">六</td></tr><tr><td class="othermonthdaycss" align="Center" style="width:14%;">22</td><td class="othermonthdaycss" align="Center" style="width:14%;">23</td><td class="othermonthdaycss" align="Center" style="width:14%;">24</td><td class="othermonthdaycss" align="Center" style="width:14%;">25</td><td class="othermonthdaycss" align="Center" style="width:14%;">26</td><td class="othermonthdaycss" align="Center" style="width:14%;">27</td><td class="othermonthdaycss" align="Center" style="width:14%;">28</td></tr><tr><td class="weekendcss" align="Center" style="width:14%;">1</td><td align="Center" style="width:14%;">2</td><td align="Center" style="width:14%;">3</td><td align="Center" style="width:14%;">4</td><td align="Center" style="width:14%;">5</td><td align="Center" style="width:14%;">6</td><td class="weekendcss" align="Center" style="width:14%;">7</td></tr><tr><td class="weekendcss" align="Center" style="width:14%;">8</td><td align="Center" style="width:14%;">9</td><td align="Center" style="width:14%;">10</td><td align="Center" style="width:14%;">11</td><td align="Center" style="width:14%;">12</td><td class="todaycss" align="Center" style="width:14%;">13</td><td class="weekendcss" align="Center" style="width:14%;">14</td></tr><tr><td class="weekendcss" align="Center" style="width:14%;">15</td><td align="Center" style="width:14%;">16</td><td align="Center" style="width:14%;">17</td><td align="Center" style="width:14%;">18</td><td align="Center" style="width:14%;">19</td><td align="Center" style="width:14%;">20</td><td class="weekendcss" align="Center" style="width:14%;">21</td></tr><tr><td class="weekendcss" align="Center" style="width:14%;">22</td><td align="Center" style="width:14%;">23</td><td align="Center" style="width:14%;">24</td><td align="Center" style="width:14%;">25</td><td align="Center" style="width:14%;">26</td><td align="Center" style="width:14%;">27</td><td class="weekendcss" align="Center" style="width:14%;">28</td></tr><tr><td class="weekendcss" align="Center" style="width:14%;">29</td><td align="Center" style="width:14%;">30</td><td align="Center" style="width:14%;">31</td><td class="othermonthdaycss" align="Center" style="width:14%;">1</td><td class="othermonthdaycss" align="Center" style="width:14%;">2</td><td class="othermonthdaycss" align="Center" style="width:14%;">3</td><td class="othermonthdaycss" align="Center" style="width:14%;">4</td></tr>
</table><br>
<h3>公告</h3>
	
<br/>
<a href="http://www.51.la/?256054" target="_blank"><img alt="51.la Free Site Stats" src="http://e.s34.51.la/s.asp?siteid=822&amp;amp;t=img" border="0" /></a>


<h3>统计</h3>
	<ul>
		<li>随笔 - 90
		<li>文章 - 11
		<li>评论 - 316
		<li>跟踪 - 3
	</li>
</ul>
		<h3>文章分类</h3>
		
				<ul>
			
				<li><a id="_ctl0_LeftColumn-5_Categories_CatList__ctl0_LinkList__ctl1_Link" href="http://java.mblogger.cn/wuyu/category/273.aspx">收藏</a></li>
			
				</ul>
			
	
		<h3>档案</h3>
		
				<ul>
			
				<li><a id="_ctl0_LeftColumn-5_Categories_CatList__ctl1_LinkList__ctl1_Link" href="http://java.mblogger.cn/wuyu/archive/072005.aspx">2005年7月 (2)</a></li>
			
				<li><a id="_ctl0_LeftColumn-5_Categories_CatList__ctl1_LinkList__ctl2_Link" href="http://java.mblogger.cn/wuyu/archive/062005.aspx">2005年6月 (5)</a></li>
			
				<li><a id="_ctl0_LeftColumn-5_Categories_CatList__ctl1_LinkList__ctl3_Link" href="http://java.mblogger.cn/wuyu/archive/052005.aspx">2005年5月 (1)</a></li>
			
				<li><a id="_ctl0_LeftColumn-5_Categories_CatList__ctl1_LinkList__ctl4_Link" href="http://java.mblogger.cn/wuyu/archive/042005.aspx">2005年4月 (6)</a></li>
			
				<li><a id="_ctl0_LeftColumn-5_Categories_CatList__ctl1_LinkList__ctl5_Link" href="http://java.mblogger.cn/wuyu/archive/032005.aspx">2005年3月 (4)</a></li>
			
				<li><a id="_ctl0_LeftColumn-5_Categories_CatList__ctl1_LinkList__ctl6_Link" href="http://java.mblogger.cn/wuyu/archive/022005.aspx">2005年2月 (5)</a></li>
			
				<li><a id="_ctl0_LeftColumn-5_Categories_CatList__ctl1_LinkList__ctl7_Link" href="http://java.mblogger.cn/wuyu/archive/012005.aspx">2005年1月 (1)</a></li>
			
				<li><a id="_ctl0_LeftColumn-5_Categories_CatList__ctl1_LinkList__ctl8_Link" href="http://java.mblogger.cn/wuyu/archive/112004.aspx">2004年11月 (2)</a></li>
			
				<li><a id="_ctl0_LeftColumn-5_Categories_CatList__ctl1_LinkList__ctl9_Link" href="http://java.mblogger.cn/wuyu/archive/102004.aspx">2004年10月 (8)</a></li>
			
				<li><a id="_ctl0_LeftColumn-5_Categories_CatList__ctl1_LinkList__ctl10_Link" href="http://java.mblogger.cn/wuyu/archive/092004.aspx">2004年9月 (3)</a></li>
			
				<li><a id="_ctl0_LeftColumn-5_Categories_CatList__ctl1_LinkList__ctl11_Link" href="http://java.mblogger.cn/wuyu/archive/062004.aspx">2004年6月 (2)</a></li>
			
				<li><a id="_ctl0_LeftColumn-5_Categories_CatList__ctl1_LinkList__ctl12_Link" href="http://java.mblogger.cn/wuyu/archive/052004.aspx">2004年5月 (3)</a></li>
			
				<li><a id="_ctl0_LeftColumn-5_Categories_CatList__ctl1_LinkList__ctl13_Link" href="http://java.mblogger.cn/wuyu/archive/042004.aspx">2004年4月 (10)</a></li>
			
				<li><a id="_ctl0_LeftColumn-5_Categories_CatList__ctl1_LinkList__ctl14_Link" href="http://java.mblogger.cn/wuyu/archive/032004.aspx">2004年3月 (13)</a></li>
			
				<li><a id="_ctl0_LeftColumn-5_Categories_CatList__ctl1_LinkList__ctl15_Link" href="http://java.mblogger.cn/wuyu/archive/022004.aspx">2004年2月 (5)</a></li>
			
				<li><a id="_ctl0_LeftColumn-5_Categories_CatList__ctl1_LinkList__ctl16_Link" href="http://java.mblogger.cn/wuyu/archive/012004.aspx">2004年1月 (13)</a></li>
			
				<li><a id="_ctl0_LeftColumn-5_Categories_CatList__ctl1_LinkList__ctl17_Link" href="http://java.mblogger.cn/wuyu/archive/122003.aspx">2003年12月 (7)</a></li>
			
				</ul>
			
	
		<h3>随笔分类</h3>
		
				<ul>
			
				<li><a id="_ctl0_LeftColumn-5_Categories_CatList__ctl2_LinkList__ctl1_Link" href="http://java.mblogger.cn/wuyu/category/266.aspx">CVS</a></li>
			
				<li><a id="_ctl0_LeftColumn-5_Categories_CatList__ctl2_LinkList__ctl2_Link" href="http://java.mblogger.cn/wuyu/category/191.aspx">iBATIS Database Layer</a></li>
			
				<li><a id="_ctl0_LeftColumn-5_Categories_CatList__ctl2_LinkList__ctl3_Link" href="http://java.mblogger.cn/wuyu/category/53.aspx">JAVA</a></li>
			
				<li><a id="_ctl0_LeftColumn-5_Categories_CatList__ctl2_LinkList__ctl4_Link" href="http://java.mblogger.cn/wuyu/category/155.aspx">Java Web View</a></li>
			
				<li><a id="_ctl0_LeftColumn-5_Categories_CatList__ctl2_LinkList__ctl5_Link" href="http://java.mblogger.cn/wuyu/category/1709.aspx">SpringFramework</a></li>
			
				<li><a id="_ctl0_LeftColumn-5_Categories_CatList__ctl2_LinkList__ctl6_Link" href="http://java.mblogger.cn/wuyu/category/1770.aspx">数据库</a></li>
			
				<li><a id="_ctl0_LeftColumn-5_Categories_CatList__ctl2_LinkList__ctl7_Link" href="http://java.mblogger.cn/wuyu/category/54.aspx">杂谈</a></li>
			
				<li><a id="_ctl0_LeftColumn-5_Categories_CatList__ctl2_LinkList__ctl8_Link" href="http://java.mblogger.cn/wuyu/category/52.aspx">设计模式</a></li>
			
				</ul>
			
	
		<h3>相册</h3>
		
				<ul>
			
				<li><a id="_ctl0_LeftColumn-5_Categories_CatList__ctl3_LinkList__ctl1_Link" href="http://java.mblogger.cn/wuyu/gallery/59.aspx">相册</a></li>
			
				</ul>
			
	
		<h3>BLOG</h3>
		
				<ul>
			
				<li><a id="_ctl0_LeftColumn-5_Categories_CatList__ctl4_LinkList__ctl1_Link" href="http://www.javayou.com/">Java 自由人</a></li>
			
				<li><a id="_ctl0_LeftColumn-5_Categories_CatList__ctl4_LinkList__ctl2_Link" href="http://www.niufish.com/">Kingfish和蜗牛的家 </a></li>
			
				<li><a id="_ctl0_LeftColumn-5_Categories_CatList__ctl4_LinkList__ctl3_Link" href="http://wuyu.someok.com">wuyu.someok.com</a></li>
			
				<li><a id="_ctl0_LeftColumn-5_Categories_CatList__ctl4_LinkList__ctl4_Link" href="http://www.matrix.org.cn/blog/javen/">一亩三分地</a></li>
			
				<li><a id="_ctl0_LeftColumn-5_Categories_CatList__ctl4_LinkList__ctl5_Link" href="http://www.nona.name/">冰云</a></li>
			
				<li><a id="_ctl0_LeftColumn-5_Categories_CatList__ctl4_LinkList__ctl6_Link" href="http://blog.someok.com">口水集</a></li>
			
				<li><a id="_ctl0_LeftColumn-5_Categories_CatList__ctl4_LinkList__ctl7_Link" href="http://eyeieye.blogdriver.com/index.jsp">爱程序，更爱美人</a></li>
			
				<li><a id="_ctl0_LeftColumn-5_Categories_CatList__ctl4_LinkList__ctl8_Link" href="http://hedong.3322.org/">竹笋炒肉</a></li>
			
				<li><a id="_ctl0_LeftColumn-5_Categories_CatList__ctl4_LinkList__ctl9_Link" href="http://blog.joycode.com/ghj/">蝈蝈俊</a></li>
			
				</ul>
			
	
		<h3>同事</h3>
		
				<ul>
			
				<li><a id="_ctl0_LeftColumn-5_Categories_CatList__ctl5_LinkList__ctl1_Link" href="http://blog.csdn.net/hebookboy/">IT民工的专栏</a></li>
			
				</ul>
			
	

<div class = "listtitle">登录</div>
	<ul class = "list">
		帐号 <input name="_ctl0:LeftColumn-6:tbUserName" type="text" id="_ctl0_LeftColumn-6_tbUserName" /><br>
		密码 <input name="_ctl0:LeftColumn-6:tbPassword" type="password" id="_ctl0_LeftColumn-6_tbPassword" style="width:155px;" /><br>
		记住我: <input id="_ctl0_LeftColumn-6_RememberMe" type="checkbox" name="_ctl0:LeftColumn-6:RememberMe" /><br>
		<input type="submit" name="_ctl0:LeftColumn-6:btnLogin" value="登录" id="_ctl0_LeftColumn-6_btnLogin" />
		&nbsp;
</ul>
			</div>
			
			<div id="main">
				
	<div class="post">
		<h2>
			<a id="_ctl0__ctl2_TitleUrl" href="http://java.mblogger.cn/wuyu/posts/12712.aspx">利用webwork的stream result实现文件下载</a>
		</h2>
		<P class=MsoNormal style="MARGIN: 0cm 0cm 0pt; TEXT-ALIGN: left; mso-layout-grid-align: none" align=left><SPAN lang=EN-US style="FONT-SIZE: 9pt; BACKGROUND: white; COLOR: #7f0055; FONT-FAMILY: 'Courier New'; mso-highlight: white; mso-font-kerning: 0pt"><FONT color=#000000>折腾几天，主要是这东西文档少，google也没google出来（太希望有别人的demo了，呜！），今天看JFreeCharResult的时候发现，嘿嘿，原来如此</FONT></SPAN></P>
<P class=MsoNormal style="MARGIN: 0cm 0cm 0pt; TEXT-ALIGN: left; mso-layout-grid-align: none" align=left><SPAN lang=EN-US style="FONT-SIZE: 9pt; BACKGROUND: white; COLOR: #7f0055; FONT-FAMILY: 'Courier New'; mso-highlight: white; mso-font-kerning: 0pt"><FONT color=#000000></FONT></SPAN>&nbsp;</P>
<P class=MsoNormal style="MARGIN: 0cm 0cm 0pt; TEXT-ALIGN: left; mso-layout-grid-align: none" align=left><SPAN lang=EN-US style="FONT-SIZE: 9pt; BACKGROUND: white; COLOR: #7f0055; FONT-FAMILY: 'Courier New'; mso-highlight: white; mso-font-kerning: 0pt"><FONT color=#000000><A href="http://wiki.opensymphony.com/display/WW/JFreeChartResult">http://wiki.opensymphony.com/display/WW/JFreeChartResult</A></FONT></SPAN></P>
<P class=MsoNormal style="MARGIN: 0cm 0cm 0pt; TEXT-ALIGN: left; mso-layout-grid-align: none" align=left><SPAN lang=EN-US style="FONT-SIZE: 9pt; BACKGROUND: white; COLOR: #7f0055; FONT-FAMILY: 'Courier New'; mso-highlight: white; mso-font-kerning: 0pt"><FONT color=#000000></FONT></SPAN>&nbsp;</P>
<P class=MsoNormal style="MARGIN: 0cm 0cm 0pt; TEXT-ALIGN: left; mso-layout-grid-align: none" align=left><SPAN lang=EN-US style="FONT-SIZE: 9pt; BACKGROUND: white; COLOR: #7f0055; FONT-FAMILY: 'Courier New'; mso-highlight: white; mso-font-kerning: 0pt"><FONT color=#000000>用于测试的Action部分代码：</FONT></SPAN></P><SPAN lang=EN-US style="FONT-SIZE: 9pt; BACKGROUND: white; COLOR: #7f0055; FONT-FAMILY: 'Courier New'; mso-highlight: white; mso-font-kerning: 0pt">
<P class=MsoNormal style="MARGIN: 0cm 0cm 0pt; TEXT-ALIGN: left; mso-layout-grid-align: none" align=left><B><SPAN lang=EN-US style="FONT-SIZE: 9pt; BACKGROUND: white; COLOR: #7f0055; FONT-FAMILY: 'Courier New'; mso-highlight: white; mso-font-kerning: 0pt">public</SPAN></B><SPAN lang=EN-US style="FONT-SIZE: 9pt; BACKGROUND: white; COLOR: black; FONT-FAMILY: 'Courier New'; mso-highlight: white; mso-font-kerning: 0pt"> </SPAN><B><SPAN lang=EN-US style="FONT-SIZE: 9pt; BACKGROUND: white; COLOR: #7f0055; FONT-FAMILY: 'Courier New'; mso-highlight: white; mso-font-kerning: 0pt">class</SPAN></B><SPAN lang=EN-US style="FONT-SIZE: 9pt; BACKGROUND: white; COLOR: black; FONT-FAMILY: 'Courier New'; mso-highlight: white; mso-font-kerning: 0pt"> PhotoIndexAction </SPAN><B><SPAN lang=EN-US style="FONT-SIZE: 9pt; BACKGROUND: white; COLOR: #7f0055; FONT-FAMILY: 'Courier New'; mso-highlight: white; mso-font-kerning: 0pt">extends</SPAN></B><SPAN lang=EN-US style="FONT-SIZE: 9pt; BACKGROUND: white; COLOR: black; FONT-FAMILY: 'Courier New'; mso-highlight: white; mso-font-kerning: 0pt"> BaseAction </SPAN><B><SPAN lang=EN-US style="FONT-SIZE: 9pt; BACKGROUND: white; COLOR: #7f0055; FONT-FAMILY: 'Courier New'; mso-highlight: white; mso-font-kerning: 0pt">implements</SPAN></B><SPAN lang=EN-US style="FONT-SIZE: 9pt; BACKGROUND: white; COLOR: black; FONT-FAMILY: 'Courier New'; mso-highlight: white; mso-font-kerning: 0pt"> ModelDriven {</SPAN><SPAN lang=EN-US style="FONT-SIZE: 9pt; FONT-FAMILY: 'Courier New'; mso-font-kerning: 0pt"><?xml:namespace prefix = o ns = "urn:schemas-microsoft-com:office:office" /><o:p></o:p></SPAN></P>
<P class=MsoNormal style="MARGIN: 0cm 0cm 0pt; TEXT-ALIGN: left; mso-layout-grid-align: none" align=left><SPAN lang=EN-US style="FONT-SIZE: 9pt; BACKGROUND: white; COLOR: black; FONT-FAMILY: 'Courier New'; mso-highlight: white; mso-font-kerning: 0pt"><SPAN style="mso-spacerun: yes">&nbsp; </SPAN></SPAN><B><SPAN lang=EN-US style="FONT-SIZE: 9pt; BACKGROUND: white; COLOR: #7f0055; FONT-FAMILY: 'Courier New'; mso-highlight: white; mso-font-kerning: 0pt">private</SPAN></B><SPAN lang=EN-US style="FONT-SIZE: 9pt; BACKGROUND: white; COLOR: black; FONT-FAMILY: 'Courier New'; mso-highlight: white; mso-font-kerning: 0pt"> String </SPAN><SPAN lang=EN-US style="FONT-SIZE: 9pt; BACKGROUND: white; COLOR: #0000c0; FONT-FAMILY: 'Courier New'; mso-highlight: white; mso-font-kerning: 0pt">contentType</SPAN><SPAN lang=EN-US style="FONT-SIZE: 9pt; BACKGROUND: white; COLOR: black; FONT-FAMILY: 'Courier New'; mso-highlight: white; mso-font-kerning: 0pt">, </SPAN><SPAN lang=EN-US style="FONT-SIZE: 9pt; BACKGROUND: white; COLOR: #0000c0; FONT-FAMILY: 'Courier New'; mso-highlight: white; mso-font-kerning: 0pt">fileName</SPAN><SPAN lang=EN-US style="FONT-SIZE: 9pt; BACKGROUND: white; COLOR: black; FONT-FAMILY: 'Courier New'; mso-highlight: white; mso-font-kerning: 0pt">;</SPAN><SPAN lang=EN-US style="FONT-SIZE: 9pt; FONT-FAMILY: 'Courier New'; mso-font-kerning: 0pt"><o:p></o:p></SPAN></P>
<P class=MsoNormal style="MARGIN: 0cm 0cm 0pt; TEXT-ALIGN: left; mso-layout-grid-align: none" align=left><SPAN lang=EN-US style="FONT-SIZE: 9pt; BACKGROUND: white; COLOR: black; FONT-FAMILY: 'Courier New'; mso-highlight: white; mso-font-kerning: 0pt"><SPAN style="mso-spacerun: yes">&nbsp; </SPAN></SPAN><B><SPAN lang=EN-US style="FONT-SIZE: 9pt; BACKGROUND: white; COLOR: #7f0055; FONT-FAMILY: 'Courier New'; mso-highlight: white; mso-font-kerning: 0pt">private</SPAN></B><SPAN lang=EN-US style="FONT-SIZE: 9pt; BACKGROUND: white; COLOR: black; FONT-FAMILY: 'Courier New'; mso-highlight: white; mso-font-kerning: 0pt"> InputStream </SPAN><SPAN lang=EN-US style="FONT-SIZE: 9pt; BACKGROUND: white; COLOR: #0000c0; FONT-FAMILY: 'Courier New'; mso-highlight: white; mso-font-kerning: 0pt">inputStream</SPAN><SPAN lang=EN-US style="FONT-SIZE: 9pt; BACKGROUND: white; COLOR: black; FONT-FAMILY: 'Courier New'; mso-highlight: white; mso-font-kerning: 0pt"> = getClass().getResourceAsStream(</SPAN><SPAN lang=EN-US style="FONT-SIZE: 9pt; FONT-FAMILY: 'Courier New'; mso-font-kerning: 0pt"><o:p></o:p></SPAN></P>
<P class=MsoNormal style="MARGIN: 0cm 0cm 0pt; TEXT-ALIGN: left; mso-layout-grid-align: none" align=left><SPAN lang=EN-US style="FONT-SIZE: 9pt; BACKGROUND: white; COLOR: black; FONT-FAMILY: 'Courier New'; mso-highlight: white; mso-font-kerning: 0pt"><SPAN style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </SPAN></SPAN><SPAN lang=EN-US style="FONT-SIZE: 9pt; BACKGROUND: white; COLOR: #2a00ff; FONT-FAMILY: 'Courier New'; mso-highlight: white; mso-font-kerning: 0pt">"/xxxxx/DSC02777.JPG"</SPAN><SPAN lang=EN-US style="FONT-SIZE: 9pt; BACKGROUND: white; COLOR: black; FONT-FAMILY: 'Courier New'; mso-highlight: white; mso-font-kerning: 0pt">);</SPAN><SPAN lang=EN-US style="FONT-SIZE: 9pt; FONT-FAMILY: 'Courier New'; mso-font-kerning: 0pt"><o:p></o:p></SPAN></P>
<P class=MsoNormal style="MARGIN: 0cm 0cm 0pt; TEXT-ALIGN: left; mso-layout-grid-align: none" align=left><SPAN lang=EN-US style="FONT-SIZE: 9pt; BACKGROUND: white; COLOR: black; FONT-FAMILY: 'Courier New'; mso-highlight: white; mso-font-kerning: 0pt"><o:p>&nbsp;</o:p></SPAN></P>
<P class=MsoNormal style="MARGIN: 0cm 0cm 0pt; TEXT-ALIGN: left; mso-layout-grid-align: none" align=left><SPAN lang=EN-US style="FONT-SIZE: 9pt; BACKGROUND: white; COLOR: black; FONT-FAMILY: 'Courier New'; mso-highlight: white; mso-font-kerning: 0pt"><SPAN style="mso-spacerun: yes">&nbsp; </SPAN></SPAN><B><SPAN lang=EN-US style="FONT-SIZE: 9pt; BACKGROUND: white; COLOR: #7f0055; FONT-FAMILY: 'Courier New'; mso-highlight: white; mso-font-kerning: 0pt">public</SPAN></B><SPAN lang=EN-US style="FONT-SIZE: 9pt; BACKGROUND: white; COLOR: black; FONT-FAMILY: 'Courier New'; mso-highlight: white; mso-font-kerning: 0pt"> String <B>execute</B>() </SPAN><B><SPAN lang=EN-US style="FONT-SIZE: 9pt; BACKGROUND: white; COLOR: #7f0055; FONT-FAMILY: 'Courier New'; mso-highlight: white; mso-font-kerning: 0pt">throws</SPAN></B><SPAN lang=EN-US style="FONT-SIZE: 9pt; BACKGROUND: white; COLOR: black; FONT-FAMILY: 'Courier New'; mso-highlight: white; mso-font-kerning: 0pt"> Exception {</SPAN><SPAN lang=EN-US style="FONT-SIZE: 9pt; FONT-FAMILY: 'Courier New'; mso-font-kerning: 0pt"><o:p></o:p></SPAN></P>
<P class=MsoNormal style="MARGIN: 0cm 0cm 0pt; TEXT-ALIGN: left; mso-layout-grid-align: none" align=left><SPAN lang=EN-US style="FONT-SIZE: 9pt; BACKGROUND: white; COLOR: black; FONT-FAMILY: 'Courier New'; mso-highlight: white; mso-font-kerning: 0pt"><SPAN style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </SPAN>Photo photo = photoManager.findByPrimaryKey(</SPAN><SPAN lang=EN-US style="FONT-SIZE: 9pt; BACKGROUND: white; COLOR: #0000c0; FONT-FAMILY: 'Courier New'; mso-highlight: white; mso-font-kerning: 0pt">model</SPAN><SPAN lang=EN-US style="FONT-SIZE: 9pt; BACKGROUND: white; COLOR: black; FONT-FAMILY: 'Courier New'; mso-highlight: white; mso-font-kerning: 0pt">.getId());</SPAN><SPAN lang=EN-US style="FONT-SIZE: 9pt; FONT-FAMILY: 'Courier New'; mso-font-kerning: 0pt"><o:p></o:p></SPAN></P>
<P class=MsoNormal style="MARGIN: 0cm 0cm 0pt; TEXT-ALIGN: left; mso-layout-grid-align: none" align=left><SPAN lang=EN-US style="FONT-SIZE: 9pt; BACKGROUND: white; COLOR: black; FONT-FAMILY: 'Courier New'; mso-highlight: white; mso-font-kerning: 0pt"><SPAN style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </SPAN>setContentType(photo.getContentType());</SPAN><SPAN lang=EN-US style="FONT-SIZE: 9pt; FONT-FAMILY: 'Courier New'; mso-font-kerning: 0pt"><o:p></o:p></SPAN></P>
<P class=MsoNormal style="MARGIN: 0cm 0cm 0pt; TEXT-ALIGN: left; mso-layout-grid-align: none" align=left><SPAN lang=EN-US style="FONT-SIZE: 9pt; BACKGROUND: white; COLOR: black; FONT-FAMILY: 'Courier New'; mso-highlight: white; mso-font-kerning: 0pt"><SPAN style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </SPAN>setFileName(photo.getFileName());</SPAN><SPAN lang=EN-US style="FONT-SIZE: 9pt; FONT-FAMILY: 'Courier New'; mso-font-kerning: 0pt"><o:p></o:p></SPAN></P>
<P class=MsoNormal style="MARGIN: 0cm 0cm 0pt; TEXT-ALIGN: left; mso-layout-grid-align: none" align=left><SPAN lang=EN-US style="FONT-SIZE: 9pt; BACKGROUND: white; COLOR: black; FONT-FAMILY: 'Courier New'; mso-highlight: white; mso-font-kerning: 0pt"><SPAN style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </SPAN></SPAN><B><SPAN lang=EN-US style="FONT-SIZE: 9pt; BACKGROUND: white; COLOR: #7f0055; FONT-FAMILY: 'Courier New'; mso-highlight: white; mso-font-kerning: 0pt">return</SPAN></B><SPAN lang=EN-US style="FONT-SIZE: 9pt; BACKGROUND: white; COLOR: black; FONT-FAMILY: 'Courier New'; mso-highlight: white; mso-font-kerning: 0pt"> </SPAN><SPAN lang=EN-US style="FONT-SIZE: 9pt; BACKGROUND: white; COLOR: #0000c0; FONT-FAMILY: 'Courier New'; mso-highlight: white; mso-font-kerning: 0pt">SUCCESS</SPAN><SPAN lang=EN-US style="FONT-SIZE: 9pt; BACKGROUND: white; COLOR: black; FONT-FAMILY: 'Courier New'; mso-highlight: white; mso-font-kerning: 0pt">;</SPAN><SPAN lang=EN-US style="FONT-SIZE: 9pt; FONT-FAMILY: 'Courier New'; mso-font-kerning: 0pt"><o:p></o:p></SPAN></P>
<P class=MsoNormal style="MARGIN: 0cm 0cm 0pt; TEXT-ALIGN: left; mso-layout-grid-align: none" align=left><SPAN lang=EN-US style="FONT-SIZE: 9pt; BACKGROUND: white; COLOR: black; FONT-FAMILY: 'Courier New'; mso-highlight: white; mso-font-kerning: 0pt"><SPAN style="mso-spacerun: yes">&nbsp; </SPAN>}</SPAN></P>
<P class=MsoNormal style="MARGIN: 0cm 0cm 0pt; TEXT-ALIGN: left; mso-layout-grid-align: none" align=left><SPAN lang=EN-US style="FONT-SIZE: 9pt; BACKGROUND: white; COLOR: black; FONT-FAMILY: 'Courier New'; mso-highlight: white; mso-font-kerning: 0pt"></SPAN><SPAN lang=EN-US style="FONT-SIZE: 9pt; FONT-FAMILY: 'Courier New'; mso-font-kerning: 0pt"><o:p></o:p></SPAN>&nbsp;</P>
<P class=MsoNormal style="MARGIN: 0cm 0cm 0pt; TEXT-ALIGN: left; mso-layout-grid-align: none" align=left><FONT color=#000000>xwork.xml 部分配置：</FONT></P>
<P class=MsoNormal style="MARGIN: 0cm 0cm 0pt; TEXT-ALIGN: left; mso-layout-grid-align: none" align=left><SPAN lang=EN-US style="FONT-SIZE: 9pt; BACKGROUND: white; COLOR: black; FONT-FAMILY: 'Courier New'; mso-highlight: white; mso-font-kerning: 0pt"><SPAN style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </SPAN></SPAN><SPAN lang=EN-US style="FONT-SIZE: 9pt; BACKGROUND: white; COLOR: teal; FONT-FAMILY: 'Courier New'; mso-highlight: white; mso-font-kerning: 0pt">&lt;</SPAN><SPAN lang=EN-US style="FONT-SIZE: 9pt; BACKGROUND: white; COLOR: #3f7f7f; FONT-FAMILY: 'Courier New'; mso-highlight: white; mso-font-kerning: 0pt">action </SPAN><SPAN lang=EN-US style="FONT-SIZE: 9pt; BACKGROUND: white; COLOR: #7f007f; FONT-FAMILY: 'Courier New'; mso-highlight: white; mso-font-kerning: 0pt">name</SPAN><SPAN lang=EN-US style="FONT-SIZE: 9pt; BACKGROUND: white; COLOR: black; FONT-FAMILY: 'Courier New'; mso-highlight: white; mso-font-kerning: 0pt">=</SPAN><SPAN lang=EN-US style="FONT-SIZE: 9pt; BACKGROUND: white; COLOR: #2a00ff; FONT-FAMILY: 'Courier New'; mso-highlight: white; mso-font-kerning: 0pt">"PhotoIndex"</SPAN><SPAN lang=EN-US style="FONT-SIZE: 9pt; FONT-FAMILY: 'Courier New'; mso-font-kerning: 0pt"><o:p></o:p></SPAN></P>
<P class=MsoNormal style="MARGIN: 0cm 0cm 0pt; TEXT-ALIGN: left; mso-layout-grid-align: none" align=left><SPAN lang=EN-US style="FONT-SIZE: 9pt; BACKGROUND: white; COLOR: #2a00ff; FONT-FAMILY: 'Courier New'; mso-highlight: white; mso-font-kerning: 0pt"><SPAN style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </SPAN></SPAN><SPAN lang=EN-US style="FONT-SIZE: 9pt; BACKGROUND: white; COLOR: #7f007f; FONT-FAMILY: 'Courier New'; mso-highlight: white; mso-font-kerning: 0pt">class</SPAN><SPAN lang=EN-US style="FONT-SIZE: 9pt; BACKGROUND: white; COLOR: black; FONT-FAMILY: 'Courier New'; mso-highlight: white; mso-font-kerning: 0pt">=</SPAN><SPAN lang=EN-US style="FONT-SIZE: 9pt; BACKGROUND: white; COLOR: #2a00ff; FONT-FAMILY: 'Courier New'; mso-highlight: white; mso-font-kerning: 0pt">"xxxx.PhotoIndexAction"</SPAN><SPAN lang=EN-US style="FONT-SIZE: 9pt; BACKGROUND: white; COLOR: teal; FONT-FAMILY: 'Courier New'; mso-highlight: white; mso-font-kerning: 0pt">&gt;</SPAN><SPAN lang=EN-US style="FONT-SIZE: 9pt; FONT-FAMILY: 'Courier New'; mso-font-kerning: 0pt"><o:p></o:p></SPAN></P>
<P class=MsoNormal style="MARGIN: 0cm 0cm 0pt; TEXT-ALIGN: left; mso-layout-grid-align: none" align=left><SPAN lang=EN-US style="FONT-SIZE: 9pt; BACKGROUND: white; COLOR: black; FONT-FAMILY: 'Courier New'; mso-highlight: white; mso-font-kerning: 0pt"><SPAN style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </SPAN></SPAN><SPAN lang=EN-US style="FONT-SIZE: 9pt; BACKGROUND: white; COLOR: teal; FONT-FAMILY: 'Courier New'; mso-highlight: white; mso-font-kerning: 0pt">&lt;</SPAN><SPAN lang=EN-US style="FONT-SIZE: 9pt; BACKGROUND: white; COLOR: #3f7f7f; FONT-FAMILY: 'Courier New'; mso-highlight: white; mso-font-kerning: 0pt">result </SPAN><SPAN lang=EN-US style="FONT-SIZE: 9pt; BACKGROUND: white; COLOR: #7f007f; FONT-FAMILY: 'Courier New'; mso-highlight: white; mso-font-kerning: 0pt">name</SPAN><SPAN lang=EN-US style="FONT-SIZE: 9pt; BACKGROUND: white; COLOR: black; FONT-FAMILY: 'Courier New'; mso-highlight: white; mso-font-kerning: 0pt">=</SPAN><SPAN lang=EN-US style="FONT-SIZE: 9pt; BACKGROUND: white; COLOR: #2a00ff; FONT-FAMILY: 'Courier New'; mso-highlight: white; mso-font-kerning: 0pt">"success" </SPAN><SPAN lang=EN-US style="FONT-SIZE: 9pt; BACKGROUND: white; COLOR: #7f007f; FONT-FAMILY: 'Courier New'; mso-highlight: white; mso-font-kerning: 0pt">type</SPAN><SPAN lang=EN-US style="FONT-SIZE: 9pt; BACKGROUND: white; COLOR: black; FONT-FAMILY: 'Courier New'; mso-highlight: white; mso-font-kerning: 0pt">=</SPAN><SPAN lang=EN-US style="FONT-SIZE: 9pt; BACKGROUND: white; COLOR: #2a00ff; FONT-FAMILY: 'Courier New'; mso-highlight: white; mso-font-kerning: 0pt">"stream"</SPAN><SPAN lang=EN-US style="FONT-SIZE: 9pt; BACKGROUND: white; COLOR: teal; FONT-FAMILY: 'Courier New'; mso-highlight: white; mso-font-kerning: 0pt">&gt;</SPAN><SPAN lang=EN-US style="FONT-SIZE: 9pt; FONT-FAMILY: 'Courier New'; mso-font-kerning: 0pt"><o:p></o:p></SPAN></P>
<P class=MsoNormal style="MARGIN: 0cm 0cm 0pt; TEXT-ALIGN: left; mso-layout-grid-align: none" align=left><SPAN lang=EN-US style="FONT-SIZE: 9pt; BACKGROUND: white; COLOR: black; FONT-FAMILY: 'Courier New'; mso-highlight: white; mso-font-kerning: 0pt"><SPAN style="mso-tab-count: 3">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </SPAN><SPAN style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </SPAN></SPAN><SPAN lang=EN-US style="FONT-SIZE: 9pt; BACKGROUND: white; COLOR: teal; FONT-FAMILY: 'Courier New'; mso-highlight: white; mso-font-kerning: 0pt">&lt;</SPAN><SPAN lang=EN-US style="FONT-SIZE: 9pt; BACKGROUND: white; COLOR: #3f7f7f; FONT-FAMILY: 'Courier New'; mso-highlight: white; mso-font-kerning: 0pt">param </SPAN><SPAN lang=EN-US style="FONT-SIZE: 9pt; BACKGROUND: white; COLOR: #7f007f; FONT-FAMILY: 'Courier New'; mso-highlight: white; mso-font-kerning: 0pt">name</SPAN><SPAN lang=EN-US style="FONT-SIZE: 9pt; BACKGROUND: white; COLOR: black; FONT-FAMILY: 'Courier New'; mso-highlight: white; mso-font-kerning: 0pt">=</SPAN><SPAN lang=EN-US style="FONT-SIZE: 9pt; BACKGROUND: white; COLOR: #2a00ff; FONT-FAMILY: 'Courier New'; mso-highlight: white; mso-font-kerning: 0pt">"inputName"</SPAN><SPAN lang=EN-US style="FONT-SIZE: 9pt; BACKGROUND: white; COLOR: teal; FONT-FAMILY: 'Courier New'; mso-highlight: white; mso-font-kerning: 0pt">&gt;</SPAN><SPAN lang=EN-US style="FONT-SIZE: 9pt; BACKGROUND: white; COLOR: black; FONT-FAMILY: 'Courier New'; mso-highlight: white; mso-font-kerning: 0pt">inputStream</SPAN><SPAN lang=EN-US style="FONT-SIZE: 9pt; BACKGROUND: white; COLOR: teal; FONT-FAMILY: 'Courier New'; mso-highlight: white; mso-font-kerning: 0pt"></< SPAN><SPAN lang=EN-US style="FONT-SIZE: 9pt; BACKGROUND: white; COLOR: #3f7f7f; FONT-FAMILY: 'Courier New'; mso-highlight: white; mso-font-kerning: 0pt">param</SPAN><SPAN lang=EN-US style="FONT-SIZE: 9pt; BACKGROUND: white; COLOR: teal; FONT-FAMILY: 'Courier New'; mso-highlight: white; mso-font-kerning: 0pt">&gt;</SPAN><SPAN lang=EN-US style="FONT-SIZE: 9pt; FONT-FAMILY: 'Courier New'; mso-font-kerning: 0pt"><o:p></o:p></SPAN></P>
<P class=MsoNormal style="MARGIN: 0cm 0cm 0pt; TEXT-ALIGN: left; mso-layout-grid-align: none" align=left><SPAN lang=EN-US style="FONT-SIZE: 9pt; BACKGROUND: white; COLOR: black; FONT-FAMILY: 'Courier New'; mso-highlight: white; mso-font-kerning: 0pt"><SPAN style="mso-tab-count: 3">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </SPAN><SPAN style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </SPAN></SPAN><SPAN lang=EN-US style="FONT-SIZE: 9pt; BACKGROUND: white; COLOR: teal; FONT-FAMILY: 'Courier New'; mso-highlight: white; mso-font-kerning: 0pt">&lt;</SPAN><SPAN lang=EN-US style="FONT-SIZE: 9pt; BACKGROUND: white; COLOR: #3f7f7f; FONT-FAMILY: 'Courier New'; mso-highlight: white; mso-font-kerning: 0pt">param </SPAN><SPAN lang=EN-US style="FONT-SIZE: 9pt; BACKGROUND: white; COLOR: #7f007f; FONT-FAMILY: 'Courier New'; mso-highlight: white; mso-font-kerning: 0pt">name</SPAN><SPAN lang=EN-US style="FONT-SIZE: 9pt; BACKGROUND: white; COLOR: black; FONT-FAMILY: 'Courier New'; mso-highlight: white; mso-font-kerning: 0pt">=</SPAN><SPAN lang=EN-US style="FONT-SIZE: 9pt; BACKGROUND: white; COLOR: #2a00ff; FONT-FAMILY: 'Courier New'; mso-highlight: white; mso-font-kerning: 0pt">"contentType"</SPAN><SPAN lang=EN-US style="FONT-SIZE: 9pt; BACKGROUND: white; COLOR: teal; FONT-FAMILY: 'Courier New'; mso-highlight: white; mso-font-kerning: 0pt">&gt;</SPAN><SPAN lang=EN-US style="FONT-SIZE: 9pt; BACKGROUND: white; COLOR: black; FONT-FAMILY: 'Courier New'; mso-highlight: white; mso-font-kerning: 0pt">${contentType}</SPAN><SPAN lang=EN-US style="FONT-SIZE: 9pt; BACKGROUND: white; COLOR: teal; FONT-FAMILY: 'Courier New'; mso-highlight: white; mso-font-kerning: 0pt"></< SPAN><SPAN lang=EN-US style="FONT-SIZE: 9pt; BACKGROUND: white; COLOR: #3f7f7f; FONT-FAMILY: 'Courier New'; mso-highlight: white; mso-font-kerning: 0pt">param</SPAN><SPAN lang=EN-US style="FONT-SIZE: 9pt; BACKGROUND: white; COLOR: teal; FONT-FAMILY: 'Courier New'; mso-highlight: white; mso-font-kerning: 0pt">&gt;</SPAN><SPAN lang=EN-US style="FONT-SIZE: 9pt; FONT-FAMILY: 'Courier New'; mso-font-kerning: 0pt"><o:p></o:p></SPAN></P>
<P class=MsoNormal style="MARGIN: 0cm 0cm 0pt; TEXT-ALIGN: left; mso-layout-grid-align: none" align=left><SPAN lang=EN-US style="FONT-SIZE: 9pt; BACKGROUND: white; COLOR: black; FONT-FAMILY: 'Courier New'; mso-highlight: white; mso-font-kerning: 0pt"><SPAN style="mso-tab-count: 3">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </SPAN><SPAN style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </SPAN></SPAN><SPAN lang=EN-US style="FONT-SIZE: 9pt; BACKGROUND: white; COLOR: teal; FONT-FAMILY: 'Courier New'; mso-highlight: white; mso-font-kerning: 0pt">&lt;</SPAN><SPAN lang=EN-US style="FONT-SIZE: 9pt; BACKGROUND: white; COLOR: #3f7f7f; FONT-FAMILY: 'Courier New'; mso-highlight: white; mso-font-kerning: 0pt">param </SPAN><SPAN lang=EN-US style="FONT-SIZE: 9pt; BACKGROUND: white; COLOR: #7f007f; FONT-FAMILY: 'Courier New'; mso-highlight: white; mso-font-kerning: 0pt">name</SPAN><SPAN lang=EN-US style="FONT-SIZE: 9pt; BACKGROUND: white; COLOR: black; FONT-FAMILY: 'Courier New'; mso-highlight: white; mso-font-kerning: 0pt">=</SPAN><SPAN lang=EN-US style="FONT-SIZE: 9pt; BACKGROUND: white; COLOR: #2a00ff; FONT-FAMILY: 'Courier New'; mso-highlight: white; mso-font-kerning: 0pt">"contentDisposition"</SPAN><SPAN lang=EN-US style="FONT-SIZE: 9pt; BACKGROUND: white; COLOR: teal; FONT-FAMILY: 'Courier New'; mso-highlight: white; mso-font-kerning: 0pt">&gt;</SPAN><SPAN lang=EN-US style="FONT-SIZE: 9pt; BACKGROUND: white; COLOR: black; FONT-FAMILY: 'Courier New'; mso-highlight: white; mso-font-kerning: 0pt">filename="${fileName}"</SPAN><SPAN lang=EN-US style="FONT-SIZE: 9pt; BACKGROUND: white; COLOR: teal; FONT-FAMILY: 'Courier New'; mso-highlight: white; mso-font-kerning: 0pt"></< SPAN><SPAN lang=EN-US style="FONT-SIZE: 9pt; BACKGROUND: white; COLOR: #3f7f7f; FONT-FAMILY: 'Courier New'; mso-highlight: white; mso-font-kerning: 0pt">param</SPAN><SPAN lang=EN-US style="FONT-SIZE: 9pt; BACKGROUND: white; COLOR: teal; FONT-FAMILY: 'Courier New'; mso-highlight: white; mso-font-kerning: 0pt">&gt;</SPAN><SPAN lang=EN-US style="FONT-SIZE: 9pt; FONT-FAMILY: 'Courier New'; mso-font-kerning: 0pt"><o:p></o:p></SPAN></P>
<P class=MsoNormal style="MARGIN: 0cm 0cm 0pt; TEXT-ALIGN: left; mso-layout-grid-align: none" align=left><SPAN lang=EN-US style="FONT-SIZE: 9pt; BACKGROUND: white; COLOR: black; FONT-FAMILY: 'Courier New'; mso-highlight: white; mso-font-kerning: 0pt"><SPAN style="mso-tab-count: 3">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </SPAN><SPAN style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </SPAN></SPAN><SPAN lang=EN-US style="FONT-SIZE: 9pt; BACKGROUND: white; COLOR: teal; FONT-FAMILY: 'Courier New'; mso-highlight: white; mso-font-kerning: 0pt">&lt;</SPAN><SPAN lang=EN-US style="FONT-SIZE: 9pt; BACKGROUND: white; COLOR: #3f7f7f; FONT-FAMILY: 'Courier New'; mso-highlight: white; mso-font-kerning: 0pt">param </SPAN><SPAN lang=EN-US style="FONT-SIZE: 9pt; BACKGROUND: white; COLOR: #7f007f; FONT-FAMILY: 'Courier New'; mso-highlight: white; mso-font-kerning: 0pt">name</SPAN><SPAN lang=EN-US style="FONT-SIZE: 9pt; BACKGROUND: white; COLOR: black; FONT-FAMILY: 'Courier New'; mso-highlight: white; mso-font-kerning: 0pt">=</SPAN><SPAN lang=EN-US style="FONT-SIZE: 9pt; BACKGROUND: white; COLOR: #2a00ff; FONT-FAMILY: 'Courier New'; mso-highlight: white; mso-font-kerning: 0pt">"bufferSize"</SPAN><SPAN lang=EN-US style="FONT-SIZE: 9pt; BACKGROUND: white; COLOR: teal; FONT-FAMILY: 'Courier New'; mso-highlight: white; mso-font-kerning: 0pt">&gt;</SPAN><SPAN lang=EN-US style="FONT-SIZE: 9pt; BACKGROUND: white; COLOR: black; FONT-FAMILY: 'Courier New'; mso-highlight: white; mso-font-kerning: 0pt">2024</SPAN><SPAN lang=EN-US style="FONT-SIZE: 9pt; BACKGROUND: white; COLOR: teal; FONT-FAMILY: 'Courier New'; mso-highlight: white; mso-font-kerning: 0pt"></< SPAN><SPAN lang=EN-US style="FONT-SIZE: 9pt; BACKGROUND: white; COLOR: #3f7f7f; FONT-FAMILY: 'Courier New'; mso-highlight: white; mso-font-kerning: 0pt">param</SPAN><SPAN lang=EN-US style="FONT-SIZE: 9pt; BACKGROUND: white; COLOR: teal; FONT-FAMILY: 'Courier New'; mso-highlight: white; mso-font-kerning: 0pt">&gt;</SPAN><SPAN lang=EN-US style="FONT-SIZE: 9pt; FONT-FAMILY: 'Courier New'; mso-font-kerning: 0pt"><o:p></o:p></SPAN></P>
<P class=MsoNormal style="MARGIN: 0cm 0cm 0pt; TEXT-ALIGN: left; mso-layout-grid-align: none" align=left><SPAN lang=EN-US style="FONT-SIZE: 9pt; BACKGROUND: white; COLOR: black; FONT-FAMILY: 'Courier New'; mso-highlight: white; mso-font-kerning: 0pt"><SPAN style="mso-tab-count: 3">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </SPAN></SPAN><SPAN lang=EN-US style="FONT-SIZE: 9pt; BACKGROUND: white; COLOR: teal; FONT-FAMILY: 'Courier New'; mso-highlight: white; mso-font-kerning: 0pt"></< SPAN><SPAN lang=EN-US style="FONT-SIZE: 9pt; BACKGROUND: white; COLOR: #3f7f7f; FONT-FAMILY: 'Courier New'; mso-highlight: white; mso-font-kerning: 0pt">result</SPAN><SPAN lang=EN-US style="FONT-SIZE: 9pt; BACKGROUND: white; COLOR: teal; FONT-FAMILY: 'Courier New'; mso-highlight: white; mso-font-kerning: 0pt">&gt;</SPAN><SPAN lang=EN-US style="FONT-SIZE: 9pt; FONT-FAMILY: 'Courier New'; mso-font-kerning: 0pt"><o:p></o:p></SPAN></P>
<P class=MsoNormal style="MARGIN: 0cm 0cm 0pt"><SPAN lang=EN-US style="FONT-SIZE: 9pt; BACKGROUND: white; COLOR: black; FONT-FAMILY: 'Courier New'; mso-highlight: white; mso-font-kerning: 0pt"><SPAN style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </SPAN></SPAN><SPAN lang=EN-US style="FONT-SIZE: 9pt; BACKGROUND: white; COLOR: teal; FONT-FAMILY: 'Courier New'; mso-highlight: white; mso-font-kerning: 0pt"></< SPAN><SPAN lang=EN-US style="FONT-SIZE: 9pt; BACKGROUND: white; COLOR: #3f7f7f; FONT-FAMILY: 'Courier New'; mso-highlight: white; mso-font-kerning: 0pt">action</SPAN><SPAN lang=EN-US style="FONT-SIZE: 9pt; BACKGROUND: white; COLOR: teal; FONT-FAMILY: 'Courier New'; mso-highlight: white; mso-font-kerning: 0pt">&gt;</SPAN><SPAN lang=EN-US style="mso-bidi-font-size: 9.0pt"><o:p></o:p></SPAN></P>
<P class=MsoNormal style="MARGIN: 0cm 0cm 0pt; TEXT-ALIGN: left; mso-layout-grid-align: none" align=left></SPAN>&nbsp;</P>
<P class=MsoNormal style="MARGIN: 0cm 0cm 0pt; TEXT-ALIGN: left; mso-layout-grid-align: none" align=left><SPAN lang=EN-US style="FONT-SIZE: 9pt; BACKGROUND: white; COLOR: #7f0055; FONT-FAMILY: 'Courier New'; mso-highlight: white; mso-font-kerning: 0pt"><FONT color=#000000></FONT></SPAN>&nbsp;</P>
<P class=MsoNormal style="MARGIN: 0cm 0cm 0pt; TEXT-ALIGN: left; mso-layout-grid-align: none" align=left><SPAN lang=EN-US style="FONT-SIZE: 9pt; BACKGROUND: white; COLOR: #7f0055; FONT-FAMILY: 'Courier New'; mso-highlight: white; mso-font-kerning: 0pt"><FONT color=#000000></FONT></SPAN>&nbsp;</P>
<P class=MsoNormal style="MARGIN: 0cm 0cm 0pt; TEXT-ALIGN: left; mso-layout-grid-align: none" align=left><SPAN lang=EN-US style="FONT-SIZE: 9pt; BACKGROUND: white; COLOR: #7f0055; FONT-FAMILY: 'Courier New'; mso-highlight: white; mso-font-kerning: 0pt"><FONT color=#000000></FONT></SPAN>&nbsp;</P>
<P class=MsoNormal style="MARGIN: 0cm 0cm 0pt; TEXT-ALIGN: left; mso-layout-grid-align: none" align=left><SPAN lang=EN-US style="FONT-SIZE: 9pt; BACKGROUND: white; COLOR: #7f0055; FONT-FAMILY: 'Courier New'; mso-highlight: white; mso-font-kerning: 0pt"><FONT color=#000000></FONT></SPAN>&nbsp;</P>
<P class=MsoNormal style="MARGIN: 0cm 0cm 0pt; TEXT-ALIGN: left; mso-layout-grid-align: none" align=left><SPAN lang=EN-US style="FONT-SIZE: 9pt; BACKGROUND: white; COLOR: #7f0055; FONT-FAMILY: 'Courier New'; mso-highlight: white; mso-font-kerning: 0pt"><FONT color=#000000>
<HR id=null>
</FONT></SPAN>
<P></P>
<P class=MsoNormal style="MARGIN: 0cm 0cm 0pt; TEXT-ALIGN: left; mso-layout-grid-align: none" align=left><SPAN lang=EN-US style="FONT-SIZE: 9pt; BACKGROUND: white; COLOR: #7f0055; FONT-FAMILY: 'Courier New'; mso-highlight: white; mso-font-kerning: 0pt"><FONT color=#000000>webwork文档：</FONT></SPAN><SPAN lang=EN-US style="FONT-SIZE: 9pt; BACKGROUND: white; COLOR: #7f0055; FONT-FAMILY: 'Courier New'; mso-highlight: white; mso-font-kerning: 0pt"><A href="http://wiki.opensymphony.com/display/WW/Stream+Result">http://wiki.opensymphony.com/display/WW/Stream+Result</A></SPAN></P>
<P class=MsoNormal style="MARGIN: 0cm 0cm 0pt; TEXT-ALIGN: left; mso-layout-grid-align: none" align=left><SPAN lang=EN-US style="FONT-SIZE: 9pt; BACKGROUND: white; COLOR: #7f0055; FONT-FAMILY: 'Courier New'; mso-highlight: white; mso-font-kerning: 0pt"></SPAN>&nbsp;</P>
<P class=MsoNormal style="MARGIN: 0cm 0cm 0pt; TEXT-ALIGN: left; mso-layout-grid-align: none" align=left><SPAN lang=EN-US style="FONT-SIZE: 9pt; BACKGROUND: white; COLOR: #7f0055; FONT-FAMILY: 'Courier New'; mso-highlight: white; mso-font-kerning: 0pt"><FONT color=#000000>webwork-default.xml中的定义：</FONT></SPAN></P><SPAN lang=EN-US style="FONT-SIZE: 9pt; BACKGROUND: white; COLOR: #7f0055; FONT-FAMILY: 'Courier New'; mso-highlight: white; mso-font-kerning: 0pt">
<P class=MsoNormal style="MARGIN: 0cm 0cm 0pt; TEXT-ALIGN: left; mso-layout-grid-align: none" align=left><SPAN lang=EN-US style="FONT-SIZE: 9pt; BACKGROUND: white; COLOR: teal; FONT-FAMILY: 'Courier New'; mso-highlight: white; mso-font-kerning: 0pt">&lt;</SPAN><SPAN lang=EN-US style="FONT-SIZE: 9pt; BACKGROUND: white; COLOR: #3f7f7f; FONT-FAMILY: 'Courier New'; mso-highlight: white; mso-font-kerning: 0pt">package </SPAN><SPAN lang=EN-US style="FONT-SIZE: 9pt; BACKGROUND: white; COLOR: #7f007f; FONT-FAMILY: 'Courier New'; mso-highlight: white; mso-font-kerning: 0pt">name</SPAN><SPAN lang=EN-US style="FONT-SIZE: 9pt; BACKGROUND: white; COLOR: black; FONT-FAMILY: 'Courier New'; mso-highlight: white; mso-font-kerning: 0pt">=</SPAN><SPAN lang=EN-US style="FONT-SIZE: 9pt; BACKGROUND: white; COLOR: #2a00ff; FONT-FAMILY: 'Courier New'; mso-highlight: white; mso-font-kerning: 0pt">"webwork-default"</SPAN><SPAN lang=EN-US style="FONT-SIZE: 9pt; BACKGROUND: white; COLOR: teal; FONT-FAMILY: 'Courier New'; mso-highlight: white; mso-font-kerning: 0pt">&gt;</SPAN><SPAN lang=EN-US style="FONT-SIZE: 9pt; FONT-FAMILY: 'Courier New'; mso-font-kerning: 0pt"><o:p></o:p></SPAN></P>
<P class=MsoNormal style="MARGIN: 0cm 0cm 0pt; TEXT-ALIGN: left; mso-layout-grid-align: none" align=left><SPAN lang=EN-US style="FONT-SIZE: 9pt; BACKGROUND: white; COLOR: black; FONT-FAMILY: 'Courier New'; mso-highlight: white; mso-font-kerning: 0pt"><SPAN style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </SPAN></SPAN><SPAN lang=EN-US style="FONT-SIZE: 9pt; BACKGROUND: white; COLOR: teal; FONT-FAMILY: 'Courier New'; mso-highlight: white; mso-font-kerning: 0pt">&lt;</SPAN><SPAN lang=EN-US style="FONT-SIZE: 9pt; BACKGROUND: white; COLOR: #3f7f7f; FONT-FAMILY: 'Courier New'; mso-highlight: white; mso-font-kerning: 0pt">result-types</SPAN><SPAN lang=EN-US style="FONT-SIZE: 9pt; BACKGROUND: white; COLOR: teal; FONT-FAMILY: 'Courier New'; mso-highlight: white; mso-font-kerning: 0pt">&gt;</SPAN><SPAN lang=EN-US style="FONT-SIZE: 9pt; FONT-FAMILY: 'Courier New'; mso-font-kerning: 0pt"><o:p></o:p></SPAN></P>
<P class=MsoNormal style="MARGIN: 0cm 0cm 0pt 63pt; TEXT-INDENT: -63pt; TEXT-ALIGN: left; mso-layout-grid-align: none; mso-char-indent-count: -7.0" align=left><SPAN lang=EN-US style="FONT-SIZE: 9pt; BACKGROUND: white; COLOR: black; FONT-FAMILY: 'Courier New'; mso-highlight: white; mso-font-kerning: 0pt"><SPAN style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </SPAN></SPAN><SPAN lang=EN-US style="FONT-SIZE: 9pt; BACKGROUND: white; COLOR: teal; FONT-FAMILY: 'Courier New'; mso-highlight: white; mso-font-kerning: 0pt">&lt;</SPAN><SPAN lang=EN-US style="FONT-SIZE: 9pt; BACKGROUND: white; COLOR: #3f7f7f; FONT-FAMILY: 'Courier New'; mso-highlight: white; mso-font-kerning: 0pt">result-type </SPAN><SPAN lang=EN-US style="FONT-SIZE: 9pt; BACKGROUND: white; COLOR: #7f007f; FONT-FAMILY: 'Courier New'; mso-highlight: white; mso-font-kerning: 0pt">name</SPAN><SPAN lang=EN-US style="FONT-SIZE: 9pt; BACKGROUND: white; COLOR: black; FONT-FAMILY: 'Courier New'; mso-highlight: white; mso-font-kerning: 0pt">=</SPAN><SPAN lang=EN-US style="FONT-SIZE: 9pt; BACKGROUND: white; COLOR: #2a00ff; FONT-FAMILY: 'Courier New'; mso-highlight: white; mso-font-kerning: 0pt">"stream" <BR></SPAN><SPAN lang=EN-US style="FONT-SIZE: 9pt; BACKGROUND: white; COLOR: #7f007f; FONT-FAMILY: 'Courier New'; mso-highlight: white; mso-font-kerning: 0pt">class</SPAN><SPAN lang=EN-US style="FONT-SIZE: 9pt; BACKGROUND: white; COLOR: black; FONT-FAMILY: 'Courier New'; mso-highlight: white; mso-font-kerning: 0pt">=</SPAN><SPAN lang=EN-US style="FONT-SIZE: 9pt; BACKGROUND: white; COLOR: #2a00ff; FONT-FAMILY: 'Courier New'; mso-highlight: white; mso-font-kerning: 0pt">"com.opensymphony.webwork.dispatcher.StreamResult"</SPAN><SPAN lang=EN-US style="FONT-SIZE: 9pt; BACKGROUND: white; COLOR: teal; FONT-FAMILY: 'Courier New'; mso-highlight: white; mso-font-kerning: 0pt">/&gt;</SPAN><SPAN lang=EN-US style="FONT-SIZE: 9pt; FONT-FAMILY: 'Courier New'; mso-font-kerning: 0pt"><o:p></o:p></SPAN></P>
<P class=MsoNormal style="MARGIN: 0cm 0cm 0pt; TEXT-ALIGN: left; mso-layout-grid-align: none" align=left><SPAN lang=EN-US style="FONT-SIZE: 9pt; BACKGROUND: white; COLOR: black; FONT-FAMILY: 'Courier New'; mso-highlight: white; mso-font-kerning: 0pt"><SPAN style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </SPAN></SPAN><SPAN lang=EN-US style="FONT-SIZE: 9pt; BACKGROUND: white; COLOR: teal; FONT-FAMILY: 'Courier New'; mso-highlight: white; mso-font-kerning: 0pt"></< SPAN><SPAN lang=EN-US style="FONT-SIZE: 9pt; BACKGROUND: white; COLOR: #3f7f7f; FONT-FAMILY: 'Courier New'; mso-highlight: white; mso-font-kerning: 0pt">result-types</SPAN><SPAN lang=EN-US style="FONT-SIZE: 9pt; BACKGROUND: white; COLOR: teal; FONT-FAMILY: 'Courier New'; mso-highlight: white; mso-font-kerning: 0pt">&gt;</SPAN><SPAN lang=EN-US style="FONT-SIZE: 9pt; FONT-FAMILY: 'Courier New'; mso-font-kerning: 0pt"><o:p></o:p></SPAN></P>
<P class=MsoNormal style="MARGIN: 0cm 0cm 0pt"><SPAN lang=EN-US><o:p><FONT face="Times New Roman" color=#000000 size=3>&nbsp;</FONT></o:p></SPAN></P>
<P class=MsoNormal style="MARGIN: 0cm 0cm 0pt; TEXT-ALIGN: left; mso-layout-grid-align: none" align=left></SPAN><SPAN lang=EN-US style="FONT-SIZE: 9pt; BACKGROUND: white; COLOR: #7f0055; FONT-FAMILY: 'Courier New'; mso-highlight: white; mso-font-kerning: 0pt"><FONT color=#000000>StreamResult类源码（部分）：</FONT></SPAN></P>
<P class=MsoNormal style="MARGIN: 0cm 0cm 0pt; TEXT-ALIGN: left; mso-layout-grid-align: none" align=left><B><SPAN lang=EN-US style="FONT-SIZE: 9pt; BACKGROUND: white; COLOR: #7f0055; FONT-FAMILY: 'Courier New'; mso-highlight: white; mso-font-kerning: 0pt">package</SPAN></B><SPAN lang=EN-US style="FONT-SIZE: 9pt; BACKGROUND: white; COLOR: black; FONT-FAMILY: 'Courier New'; mso-highlight: white; mso-font-kerning: 0pt"> com.opensymphony.webwork.dispatcher;</SPAN><SPAN lang=EN-US style="FONT-SIZE: 9pt; FONT-FAMILY: 'Courier New'; mso-font-kerning: 0pt"><o:p></o:p></SPAN></P>
<P class=MsoNormal style="MARGIN: 0cm 0cm 0pt; TEXT-ALIGN: left; mso-layout-grid-align: none" align=left><B><SPAN lang=EN-US style="FONT-SIZE: 9pt; BACKGROUND: white; COLOR: #7f0055; FONT-FAMILY: 'Courier New'; mso-highlight: white; mso-font-kerning: 0pt"><o:p>&nbsp;</o:p></SPAN></B></P>
<P class=MsoNormal style="MARGIN: 0cm 0cm 0pt; TEXT-ALIGN: left; mso-layout-grid-align: none" align=left><B><SPAN lang=EN-US style="FONT-SIZE: 9pt; BACKGROUND: white; COLOR: #7f0055; FONT-FAMILY: 'Courier New'; mso-highlight: white; mso-font-kerning: 0pt">public</SPAN></B><SPAN lang=EN-US style="FONT-SIZE: 9pt; BACKGROUND: white; COLOR: black; FONT-FAMILY: 'Courier New'; mso-highlight: white; mso-font-kerning: 0pt"> </SPAN><B><SPAN lang=EN-US style="FONT-SIZE: 9pt; BACKGROUND: white; COLOR: #7f0055; FONT-FAMILY: 'Courier New'; mso-highlight: white; mso-font-kerning: 0pt">class</SPAN></B><SPAN lang=EN-US style="FONT-SIZE: 9pt; BACKGROUND: white; COLOR: black; FONT-FAMILY: 'Courier New'; mso-highlight: white; mso-font-kerning: 0pt"> StreamResult </SPAN><B><SPAN lang=EN-US style="FONT-SIZE: 9pt; BACKGROUND: white; COLOR: #7f0055; FONT-FAMILY: 'Courier New'; mso-highlight: white; mso-font-kerning: 0pt">extends</SPAN></B><SPAN lang=EN-US style="FONT-SIZE: 9pt; BACKGROUND: white; COLOR: black; FONT-FAMILY: 'Courier New'; mso-highlight: white; mso-font-kerning: 0pt"> WebWorkResultSupport {</SPAN><SPAN lang=EN-US style="FONT-SIZE: 9pt; FONT-FAMILY: 'Courier New'; mso-font-kerning: 0pt"><o:p></o:p></SPAN></P>
<P class=MsoNormal style="MARGIN: 0cm 0cm 0pt; TEXT-ALIGN: left; mso-layout-grid-align: none" align=left><SPAN lang=EN-US style="FONT-SIZE: 9pt; BACKGROUND: white; COLOR: black; FONT-FAMILY: 'Courier New'; mso-highlight: white; mso-font-kerning: 0pt"><SPAN style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </SPAN></SPAN><B><SPAN lang=EN-US style="FONT-SIZE: 9pt; BACKGROUND: white; COLOR: #7f0055; FONT-FAMILY: 'Courier New'; mso-highlight: white; mso-font-kerning: 0pt">protected</SPAN></B><SPAN lang=EN-US style="FONT-SIZE: 9pt; BACKGROUND: white; COLOR: black; FONT-FAMILY: 'Courier New'; mso-highlight: white; mso-font-kerning: 0pt"> String </SPAN><SPAN lang=EN-US style="FONT-SIZE: 9pt; BACKGROUND: white; COLOR: #0000c0; FONT-FAMILY: 'Courier New'; mso-highlight: white; mso-font-kerning: 0pt">contentType</SPAN><SPAN lang=EN-US style="FONT-SIZE: 9pt; BACKGROUND: white; COLOR: black; FONT-FAMILY: 'Courier New'; mso-highlight: white; mso-font-kerning: 0pt"> = </SPAN><SPAN lang=EN-US style="FONT-SIZE: 9pt; BACKGROUND: white; COLOR: #2a00ff; FONT-FAMILY: 'Courier New'; mso-highlight: white; mso-font-kerning: 0pt">"text/plain"</SPAN><SPAN lang=EN-US style="FONT-SIZE: 9pt; BACKGROUND: white; COLOR: black; FONT-FAMILY: 'Courier New'; mso-highlight: white; mso-font-kerning: 0pt">;</SPAN><SPAN lang=EN-US style="FONT-SIZE: 9pt; FONT-FAMILY: 'Courier New'; mso-font-kerning: 0pt"><o:p></o:p></SPAN></P>
<P class=MsoNormal style="MARGIN: 0cm 0cm 0pt; TEXT-ALIGN: left; mso-layout-grid-align: none" align=left><SPAN lang=EN-US style="FONT-SIZE: 9pt; BACKGROUND: white; COLOR: black; FONT-FAMILY: 'Courier New'; mso-highlight: white; mso-font-kerning: 0pt"><SPAN style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </SPAN></SPAN><B><SPAN lang=EN-US style="FONT-SIZE: 9pt; BACKGROUND: white; COLOR: #7f0055; FONT-FAMILY: 'Courier New'; mso-highlight: white; mso-font-kerning: 0pt">protected</SPAN></B><SPAN lang=EN-US style="FONT-SIZE: 9pt; BACKGROUND: white; COLOR: black; FONT-FAMILY: 'Courier New'; mso-highlight: white; mso-font-kerning: 0pt"> String </SPAN><SPAN lang=EN-US style="FONT-SIZE: 9pt; BACKGROUND: white; COLOR: #0000c0; FONT-FAMILY: 'Courier New'; mso-highlight: white; mso-font-kerning: 0pt">contentDisposition</SPAN><SPAN lang=EN-US style="FONT-SIZE: 9pt; BACKGROUND: white; COLOR: black; FONT-FAMILY: 'Courier New'; mso-highlight: white; mso-font-kerning: 0pt"> = </SPAN><SPAN lang=EN-US style="FONT-SIZE: 9pt; BACKGROUND: white; COLOR: #2a00ff; FONT-FAMILY: 'Courier New'; mso-highlight: white; mso-font-kerning: 0pt">"inline"</SPAN><SPAN lang=EN-US style="FONT-SIZE: 9pt; BACKGROUND: white; COLOR: black; FONT-FAMILY: 'Courier New'; mso-highlight: white; mso-font-kerning: 0pt">;</SPAN><SPAN lang=EN-US style="FONT-SIZE: 9pt; FONT-FAMILY: 'Courier New'; mso-font-kerning: 0pt"><o:p></o:p></SPAN></P>
<P class=MsoNormal style="MARGIN: 0cm 0cm 0pt; TEXT-ALIGN: left; mso-layout-grid-align: none" align=left><SPAN lang=EN-US style="FONT-SIZE: 9pt; BACKGROUND: white; COLOR: black; FONT-FAMILY: 'Courier New'; mso-highlight: white; mso-font-kerning: 0pt"><SPAN style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </SPAN></SPAN><B><SPAN lang=EN-US style="FONT-SIZE: 9pt; BACKGROUND: white; COLOR: #7f0055; FONT-FAMILY: 'Courier New'; mso-highlight: white; mso-font-kerning: 0pt">protected</SPAN></B><SPAN lang=EN-US style="FONT-SIZE: 9pt; BACKGROUND: white; COLOR: black; FONT-FAMILY: 'Courier New'; mso-highlight: white; mso-font-kerning: 0pt"> String </SPAN><SPAN lang=EN-US style="FONT-SIZE: 9pt; BACKGROUND: white; COLOR: #0000c0; FONT-FAMILY: 'Courier New'; mso-highlight: white; mso-font-kerning: 0pt">inputName</SPAN><SPAN lang=EN-US style="FONT-SIZE: 9pt; BACKGROUND: white; COLOR: black; FONT-FAMILY: 'Courier New'; mso-highlight: white; mso-font-kerning: 0pt"> = </SPAN><SPAN lang=EN-US style="FONT-SIZE: 9pt; BACKGROUND: white; COLOR: #2a00ff; FONT-FAMILY: 'Courier New'; mso-highlight: white; mso-font-kerning: 0pt">"inputStream"</SPAN><SPAN lang=EN-US style="FONT-SIZE: 9pt; BACKGROUND: white; COLOR: black; FONT-FAMILY: 'Courier New'; mso-highlight: white; mso-font-kerning: 0pt">;</SPAN><SPAN lang=EN-US style="FONT-SIZE: 9pt; FONT-FAMILY: 'Courier New'; mso-font-kerning: 0pt"><o:p></o:p></SPAN></P>
<P class=MsoNormal style="MARGIN: 0cm 0cm 0pt; TEXT-ALIGN: left; mso-layout-grid-align: none" align=left><SPAN lang=EN-US style="FONT-SIZE: 9pt; BACKGROUND: white; COLOR: black; FONT-FAMILY: 'Courier New'; mso-highlight: white; mso-font-kerning: 0pt"><SPAN style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </SPAN></SPAN><B><SPAN lang=EN-US style="FONT-SIZE: 9pt; BACKGROUND: white; COLOR: #7f0055; FONT-FAMILY: 'Courier New'; mso-highlight: white; mso-font-kerning: 0pt">protected</SPAN></B><SPAN lang=EN-US style="FONT-SIZE: 9pt; BACKGROUND: white; COLOR: black; FONT-FAMILY: 'Courier New'; mso-highlight: white; mso-font-kerning: 0pt"> </SPAN><B><SPAN lang=EN-US style="FONT-SIZE: 9pt; BACKGROUND: white; COLOR: #7f0055; FONT-FAMILY: 'Courier New'; mso-highlight: white; mso-font-kerning: 0pt">int</SPAN></B><SPAN lang=EN-US style="FONT-SIZE: 9pt; BACKGROUND: white; COLOR: black; FONT-FAMILY: 'Courier New'; mso-highlight: white; mso-font-kerning: 0pt"> </SPAN><SPAN lang=EN-US style="FONT-SIZE: 9pt; BACKGROUND: white; COLOR: #0000c0; FONT-FAMILY: 'Courier New'; mso-highlight: white; mso-font-kerning: 0pt">bufferSize</SPAN><SPAN lang=EN-US style="FONT-SIZE: 9pt; BACKGROUND: white; COLOR: black; FONT-FAMILY: 'Courier New'; mso-highlight: white; mso-font-kerning: 0pt"> = 1024;</SPAN><SPAN lang=EN-US style="FONT-SIZE: 9pt; FONT-FAMILY: 'Courier New'; mso-font-kerning: 0pt"><o:p></o:p></SPAN></P>
<P class=MsoNormal style="MARGIN: 0cm 0cm 0pt"><SPAN lang=EN-US><o:p>&nbsp;</P>
<P class=MsoNormal style="MARGIN: 0cm 0cm 0pt; TEXT-ALIGN: left; mso-layout-grid-align: none" align=left><SPAN lang=EN-US style="FONT-SIZE: 9pt; BACKGROUND: white; COLOR: black; FONT-FAMILY: 'Courier New'; mso-highlight: white; mso-font-kerning: 0pt"><SPAN style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </SPAN></SPAN><B><SPAN lang=EN-US style="FONT-SIZE: 9pt; BACKGROUND: white; COLOR: #7f0055; FONT-FAMILY: 'Courier New'; mso-highlight: white; mso-font-kerning: 0pt">protected</SPAN></B><SPAN lang=EN-US style="FONT-SIZE: 9pt; BACKGROUND: white; COLOR: black; FONT-FAMILY: 'Courier New'; mso-highlight: white; mso-font-kerning: 0pt"> </SPAN><B><SPAN lang=EN-US style="FONT-SIZE: 9pt; BACKGROUND: white; COLOR: #7f0055; FONT-FAMILY: 'Courier New'; mso-highlight: white; mso-font-kerning: 0pt">void</SPAN></B><SPAN lang=EN-US style="FONT-SIZE: 9pt; BACKGROUND: white; COLOR: black; FONT-FAMILY: 'Courier New'; mso-highlight: white; mso-font-kerning: 0pt"> <B>doExecute</B>(String finalLocation, ActionInvocation invocation) </SPAN><B><SPAN lang=EN-US style="FONT-SIZE: 9pt; BACKGROUND: white; COLOR: #7f0055; FONT-FAMILY: 'Courier New'; mso-highlight: white; mso-font-kerning: 0pt">throws</SPAN></B><SPAN lang=EN-US style="FONT-SIZE: 9pt; BACKGROUND: white; COLOR: black; FONT-FAMILY: 'Courier New'; mso-highlight: white; mso-font-kerning: 0pt"> Exception {</SPAN><SPAN lang=EN-US style="FONT-SIZE: 9pt; FONT-FAMILY: 'Courier New'; mso-font-kerning: 0pt"><o:p></o:p></SPAN></P>
<P class=MsoNormal style="MARGIN: 0cm 0cm 0pt; TEXT-ALIGN: left; mso-layout-grid-align: none" align=left><SPAN lang=EN-US style="FONT-SIZE: 9pt; BACKGROUND: white; COLOR: black; FONT-FAMILY: 'Courier New'; mso-highlight: white; mso-font-kerning: 0pt"><SPAN style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </SPAN></SPAN><SPAN lang=EN-US style="FONT-SIZE: 9pt; BACKGROUND: white; COLOR: #3f7f5f; FONT-FAMILY: 'Courier New'; mso-highlight: white; mso-font-kerning: 0pt">// Find the inputstream from the invocation variable stack</SPAN><SPAN lang=EN-US style="FONT-SIZE: 9pt; FONT-FAMILY: 'Courier New'; mso-font-kerning: 0pt"><o:p></o:p></SPAN></P>
<P class=MsoNormal style="MARGIN: 0cm 0cm 0pt; TEXT-ALIGN: left; mso-layout-grid-align: none" align=left><SPAN lang=EN-US style="FONT-SIZE: 9pt; BACKGROUND: white; COLOR: black; FONT-FAMILY: 'Courier New'; mso-highlight: white; mso-font-kerning: 0pt"><SPAN style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </SPAN>InputStream oInput = (InputStream) invocation.getStack().findValue(conditionalParse(</SPAN><SPAN lang=EN-US style="FONT-SIZE: 9pt; BACKGROUND: white; COLOR: #0000c0; FONT-FAMILY: 'Courier New'; mso-highlight: white; mso-font-kerning: 0pt">inputName</SPAN><SPAN lang=EN-US style="FONT-SIZE: 9pt; BACKGROUND: white; COLOR: black; FONT-FAMILY: 'Courier New'; mso-highlight: white; mso-font-kerning: 0pt">, invocation));</SPAN><SPAN lang=EN-US style="FONT-SIZE: 9pt; FONT-FAMILY: 'Courier New'; mso-font-kerning: 0pt"><o:p></o:p></SPAN></P>
<P class=MsoNormal style="MARGIN: 0cm 0cm 0pt; TEXT-ALIGN: left; mso-layout-grid-align: none" align=left><SPAN lang=EN-US style="FONT-SIZE: 9pt; FONT-FAMILY: 'Courier New'; mso-font-kerning: 0pt"><o:p><FONT color=#000000>&nbsp;</FONT></o:p></SPAN></P>
<P class=MsoNormal style="MARGIN: 0cm 0cm 0pt; TEXT-ALIGN: left; mso-layout-grid-align: none" align=left><SPAN lang=EN-US style="FONT-SIZE: 9pt; BACKGROUND: white; COLOR: black; FONT-FAMILY: 'Courier New'; mso-highlight: white; mso-font-kerning: 0pt"><SPAN style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </SPAN></SPAN><SPAN lang=EN-US style="FONT-SIZE: 9pt; BACKGROUND: white; COLOR: #3f7f5f; FONT-FAMILY: 'Courier New'; mso-highlight: white; mso-font-kerning: 0pt">// Find the Response in context</SPAN><SPAN lang=EN-US style="FONT-SIZE: 9pt; FONT-FAMILY: 'Courier New'; mso-font-kerning: 0pt"><o:p></o:p></SPAN></P>
<P class=MsoNormal style="MARGIN: 0cm 0cm 0pt; TEXT-ALIGN: left; mso-layout-grid-align: none" align=left><SPAN lang=EN-US style="FONT-SIZE: 9pt; BACKGROUND: white; COLOR: black; FONT-FAMILY: 'Courier New'; mso-highlight: white; mso-font-kerning: 0pt"><SPAN style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </SPAN>HttpServletResponse oResponse = (HttpServletResponse) invocation.getInvocationContext().get(</SPAN><SPAN lang=EN-US style="FONT-SIZE: 9pt; BACKGROUND: white; COLOR: #0000c0; FONT-FAMILY: 'Courier New'; mso-highlight: white; mso-font-kerning: 0pt">HTTP_RESPONSE</SPAN><SPAN lang=EN-US style="FONT-SIZE: 9pt; BACKGROUND: white; COLOR: black; FONT-FAMILY: 'Courier New'; mso-highlight: white; mso-font-kerning: 0pt">);</SPAN><SPAN lang=EN-US style="FONT-SIZE: 9pt; FONT-FAMILY: 'Courier New'; mso-font-kerning: 0pt"><o:p></o:p></SPAN></P>
<P class=MsoNormal style="MARGIN: 0cm 0cm 0pt; TEXT-ALIGN: left; mso-layout-grid-align: none" align=left><SPAN lang=EN-US style="FONT-SIZE: 9pt; FONT-FAMILY: 'Courier New'; mso-font-kerning: 0pt"><o:p><FONT color=#000000>&nbsp;</FONT></o:p></SPAN></P>
<P class=MsoNormal style="MARGIN: 0cm 0cm 0pt; TEXT-ALIGN: left; mso-layout-grid-align: none" align=left><SPAN lang=EN-US style="FONT-SIZE: 9pt; BACKGROUND: white; COLOR: black; FONT-FAMILY: 'Courier New'; mso-highlight: white; mso-font-kerning: 0pt"><SPAN style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </SPAN></SPAN><SPAN lang=EN-US style="FONT-SIZE: 9pt; BACKGROUND: white; COLOR: #3f7f5f; FONT-FAMILY: 'Courier New'; mso-highlight: white; mso-font-kerning: 0pt">// Set the content type</SPAN><SPAN lang=EN-US style="FONT-SIZE: 9pt; FONT-FAMILY: 'Courier New'; mso-font-kerning: 0pt"><o:p></o:p></SPAN></P>
<P class=MsoNormal style="MARGIN: 0cm 0cm 0pt; TEXT-ALIGN: left; mso-layout-grid-align: none" align=left><SPAN lang=EN-US style="FONT-SIZE: 9pt; BACKGROUND: white; COLOR: black; FONT-FAMILY: 'Courier New'; mso-highlight: white; mso-font-kerning: 0pt"><SPAN style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </SPAN>oResponse.setContentType(conditionalParse(</SPAN><SPAN lang=EN-US style="FONT-SIZE: 9pt; BACKGROUND: white; COLOR: #0000c0; FONT-FAMILY: 'Courier New'; mso-highlight: white; mso-font-kerning: 0pt">contentType</SPAN><SPAN lang=EN-US style="FONT-SIZE: 9pt; BACKGROUND: white; COLOR: black; FONT-FAMILY: 'Courier New'; mso-highlight: white; mso-font-kerning: 0pt">, invocation));</SPAN><SPAN lang=EN-US style="FONT-SIZE: 9pt; FONT-FAMILY: 'Courier New'; mso-font-kerning: 0pt"><o:p></o:p></SPAN></P>
<P class=MsoNormal style="MARGIN: 0cm 0cm 0pt; TEXT-ALIGN: left; mso-layout-grid-align: none" align=left><SPAN lang=EN-US style="FONT-SIZE: 9pt; FONT-FAMILY: 'Courier New'; mso-font-kerning: 0pt"><o:p><FONT color=#000000>&nbsp;</FONT></o:p></SPAN></P>
<P class=MsoNormal style="MARGIN: 0cm 0cm 0pt; TEXT-ALIGN: left; mso-layout-grid-align: none" align=left><SPAN lang=EN-US style="FONT-SIZE: 9pt; BACKGROUND: white; COLOR: black; FONT-FAMILY: 'Courier New'; mso-highlight: white; mso-font-kerning: 0pt"><SPAN style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </SPAN></SPAN><SPAN lang=EN-US style="FONT-SIZE: 9pt; BACKGROUND: white; COLOR: #3f7f5f; FONT-FAMILY: 'Courier New'; mso-highlight: white; mso-font-kerning: 0pt">// Set the content-disposition</SPAN><SPAN lang=EN-US style="FONT-SIZE: 9pt; FONT-FAMILY: 'Courier New'; mso-font-kerning: 0pt"><o:p></o:p></SPAN></P>
<P class=MsoNormal style="MARGIN: 0cm 0cm 0pt; TEXT-ALIGN: left; mso-layout-grid-align: none" align=left><SPAN lang=EN-US style="FONT-SIZE: 9pt; BACKGROUND: white; COLOR: black; FONT-FAMILY: 'Courier New'; mso-highlight: white; mso-font-kerning: 0pt"><SPAN style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </SPAN></SPAN><B><SPAN lang=EN-US style="FONT-SIZE: 9pt; BACKGROUND: white; COLOR: #7f0055; FONT-FAMILY: 'Courier New'; mso-highlight: white; mso-font-kerning: 0pt">if</SPAN></B><SPAN lang=EN-US style="FONT-SIZE: 9pt; BACKGROUND: white; COLOR: black; FONT-FAMILY: 'Courier New'; mso-highlight: white; mso-font-kerning: 0pt"> (</SPAN><SPAN lang=EN-US style="FONT-SIZE: 9pt; BACKGROUND: white; COLOR: #0000c0; FONT-FAMILY: 'Courier New'; mso-highlight: white; mso-font-kerning: 0pt">contentDisposition</SPAN><SPAN lang=EN-US style="FONT-SIZE: 9pt; BACKGROUND: white; COLOR: black; FONT-FAMILY: 'Courier New'; mso-highlight: white; mso-font-kerning: 0pt"> != </SPAN><B><SPAN lang=EN-US style="FONT-SIZE: 9pt; BACKGROUND: white; COLOR: #7f0055; FONT-FAMILY: 'Courier New'; mso-highlight: white; mso-font-kerning: 0pt">null</SPAN></B><SPAN lang=EN-US style="FONT-SIZE: 9pt; BACKGROUND: white; COLOR: black; FONT-FAMILY: 'Courier New'; mso-highlight: white; mso-font-kerning: 0pt">) {</SPAN><SPAN lang=EN-US style="FONT-SIZE: 9pt; FONT-FAMILY: 'Courier New'; mso-font-kerning: 0pt"><o:p></o:p></SPAN></P>
<P class=MsoNormal style="MARGIN: 0cm 0cm 0pt; TEXT-ALIGN: left; mso-layout-grid-align: none" align=left><SPAN lang=EN-US style="FONT-SIZE: 9pt; BACKGROUND: white; COLOR: black; FONT-FAMILY: 'Courier New'; mso-highlight: white; mso-font-kerning: 0pt"><SPAN style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </SPAN>oResponse.addHeader(</SPAN><SPAN lang=EN-US style="FONT-SIZE: 9pt; BACKGROUND: white; COLOR: #2a00ff; FONT-FAMILY: 'Courier New'; mso-highlight: white; mso-font-kerning: 0pt">"Content-disposition"</SPAN><SPAN lang=EN-US style="FONT-SIZE: 9pt; BACKGROUND: white; COLOR: black; FONT-FAMILY: 'Courier New'; mso-highlight: white; mso-font-kerning: 0pt">, conditionalParse(</SPAN><SPAN lang=EN-US style="FONT-SIZE: 9pt; BACKGROUND: white; COLOR: #0000c0; FONT-FAMILY: 'Courier New'; mso-highlight: white; mso-font-kerning: 0pt">contentDisposition</SPAN><SPAN lang=EN-US style="FONT-SIZE: 9pt; BACKGROUND: white; COLOR: black; FONT-FAMILY: 'Courier New'; mso-highlight: white; mso-font-kerning: 0pt">, invocation));</SPAN><SPAN lang=EN-US style="FONT-SIZE: 9pt; FONT-FAMILY: 'Courier New'; mso-font-kerning: 0pt"><o:p></o:p></SPAN></P>
<P class=MsoNormal style="MARGIN: 0cm 0cm 0pt; TEXT-ALIGN: left; mso-layout-grid-align: none" align=left><SPAN lang=EN-US style="FONT-SIZE: 9pt; BACKGROUND: white; COLOR: black; FONT-FAMILY: 'Courier New'; mso-highlight: white; mso-font-kerning: 0pt"><SPAN style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </SPAN>}</SPAN><SPAN lang=EN-US style="FONT-SIZE: 9pt; FONT-FAMILY: 'Courier New'; mso-font-kerning: 0pt"><o:p></o:p></SPAN></P>
<P class=MsoNormal style="MARGIN: 0cm 0cm 0pt; TEXT-ALIGN: left; mso-layout-grid-align: none" align=left><SPAN lang=EN-US style="FONT-SIZE: 9pt; FONT-FAMILY: 'Courier New'; mso-font-kerning: 0pt"><o:p><FONT color=#000000>&nbsp;</FONT></o:p></SPAN></P>
<P class=MsoNormal style="MARGIN: 0cm 0cm 0pt; TEXT-ALIGN: left; mso-layout-grid-align: none" align=left><SPAN lang=EN-US style="FONT-SIZE: 9pt; BACKGROUND: white; COLOR: black; FONT-FAMILY: 'Courier New'; mso-highlight: white; mso-font-kerning: 0pt"><SPAN style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </SPAN></SPAN><SPAN lang=EN-US style="FONT-SIZE: 9pt; BACKGROUND: white; COLOR: #3f7f5f; FONT-FAMILY: 'Courier New'; mso-highlight: white; mso-font-kerning: 0pt">// Get the outputstream</SPAN><SPAN lang=EN-US style="FONT-SIZE: 9pt; FONT-FAMILY: 'Courier New'; mso-font-kerning: 0pt"><o:p></o:p></SPAN></P>
<P class=MsoNormal style="MARGIN: 0cm 0cm 0pt; TEXT-ALIGN: left; mso-layout-grid-align: none" align=left><SPAN lang=EN-US style="FONT-SIZE: 9pt; BACKGROUND: white; COLOR: black; FONT-FAMILY: 'Courier New'; mso-highlight: white; mso-font-kerning: 0pt"><SPAN style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </SPAN>OutputStream oOutput = oResponse.getOutputStream();</SPAN><SPAN lang=EN-US style="FONT-SIZE: 9pt; FONT-FAMILY: 'Courier New'; mso-font-kerning: 0pt"><o:p></o:p></SPAN></P>
<P class=MsoNormal style="MARGIN: 0cm 0cm 0pt; TEXT-ALIGN: left; mso-layout-grid-align: none" align=left><SPAN lang=EN-US style="FONT-SIZE: 9pt; FONT-FAMILY: 'Courier New'; mso-font-kerning: 0pt"><o:p><FONT color=#000000>&nbsp;</FONT></o:p></SPAN></P>
<P class=MsoNormal style="MARGIN: 0cm 0cm 0pt; TEXT-ALIGN: left; mso-layout-grid-align: none" align=left><SPAN lang=EN-US style="FONT-SIZE: 9pt; BACKGROUND: white; COLOR: black; FONT-FAMILY: 'Courier New'; mso-highlight: white; mso-font-kerning: 0pt"><SPAN style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </SPAN></SPAN><SPAN lang=EN-US style="FONT-SIZE: 9pt; BACKGROUND: white; COLOR: #3f7f5f; FONT-FAMILY: 'Courier New'; mso-highlight: white; mso-font-kerning: 0pt">// Copy input to output</SPAN><SPAN lang=EN-US style="FONT-SIZE: 9pt; FONT-FAMILY: 'Courier New'; mso-font-kerning: 0pt"><o:p></o:p></SPAN></P>
<P class=MsoNormal style="MARGIN: 0cm 0cm 0pt; TEXT-ALIGN: left; mso-layout-grid-align: none" align=left><SPAN lang=EN-US style="FONT-SIZE: 9pt; BACKGROUND: white; COLOR: black; FONT-FAMILY: 'Courier New'; mso-highlight: white; mso-font-kerning: 0pt"><SPAN style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </SPAN></SPAN><B><SPAN lang=EN-US style="FONT-SIZE: 9pt; BACKGROUND: white; COLOR: #7f0055; FONT-FAMILY: 'Courier New'; mso-highlight: white; mso-font-kerning: 0pt">byte</SPAN></B><SPAN lang=EN-US style="FONT-SIZE: 9pt; BACKGROUND: white; COLOR: black; FONT-FAMILY: 'Courier New'; mso-highlight: white; mso-font-kerning: 0pt">[] oBuff = </SPAN><B><SPAN lang=EN-US style="FONT-SIZE: 9pt; BACKGROUND: white; COLOR: #7f0055; FONT-FAMILY: 'Courier New'; mso-highlight: white; mso-font-kerning: 0pt">new</SPAN></B><SPAN lang=EN-US style="FONT-SIZE: 9pt; BACKGROUND: white; COLOR: black; FONT-FAMILY: 'Courier New'; mso-highlight: white; mso-font-kerning: 0pt"> </SPAN><B><SPAN lang=EN-US style="FONT-SIZE: 9pt; BACKGROUND: white; COLOR: #7f0055; FONT-FAMILY: 'Courier New'; mso-highlight: white; mso-font-kerning: 0pt">byte</SPAN></B><SPAN lang=EN-US style="FONT-SIZE: 9pt; BACKGROUND: white; COLOR: black; FONT-FAMILY: 'Courier New'; mso-highlight: white; mso-font-kerning: 0pt">[</SPAN><SPAN lang=EN-US style="FONT-SIZE: 9pt; BACKGROUND: white; COLOR: #0000c0; FONT-FAMILY: 'Courier New'; mso-highlight: white; mso-font-kerning: 0pt">bufferSize</SPAN><SPAN lang=EN-US style="FONT-SIZE: 9pt; BACKGROUND: white; COLOR: black; FONT-FAMILY: 'Courier New'; mso-highlight: white; mso-font-kerning: 0pt">];</SPAN><SPAN lang=EN-US style="FONT-SIZE: 9pt; FONT-FAMILY: 'Courier New'; mso-font-kerning: 0pt"><o:p></o:p></SPAN></P>
<P class=MsoNormal style="MARGIN: 0cm 0cm 0pt; TEXT-ALIGN: left; mso-layout-grid-align: none" align=left><SPAN lang=EN-US style="FONT-SIZE: 9pt; BACKGROUND: white; COLOR: black; FONT-FAMILY: 'Courier New'; mso-highlight: white; mso-font-kerning: 0pt"><SPAN style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </SPAN></SPAN><B><SPAN lang=EN-US style="FONT-SIZE: 9pt; BACKGROUND: white; COLOR: #7f0055; FONT-FAMILY: 'Courier New'; mso-highlight: white; mso-font-kerning: 0pt">int</SPAN></B><SPAN lang=EN-US style="FONT-SIZE: 9pt; BACKGROUND: white; COLOR: black; FONT-FAMILY: 'Courier New'; mso-highlight: white; mso-font-kerning: 0pt"> iSize = 0;</SPAN><SPAN lang=EN-US style="FONT-SIZE: 9pt; FONT-FAMILY: 'Courier New'; mso-font-kerning: 0pt"><o:p></o:p></SPAN></P>
<P class=MsoNormal style="MARGIN: 0cm 0cm 0pt; TEXT-ALIGN: left; mso-layout-grid-align: none" align=left><SPAN lang=EN-US style="FONT-SIZE: 9pt; BACKGROUND: white; COLOR: black; FONT-FAMILY: 'Courier New'; mso-highlight: white; mso-font-kerning: 0pt"><SPAN style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </SPAN></SPAN><B><SPAN lang=EN-US style="FONT-SIZE: 9pt; BACKGROUND: white; COLOR: #7f0055; FONT-FAMILY: 'Courier New'; mso-highlight: white; mso-font-kerning: 0pt">while</SPAN></B><SPAN lang=EN-US style="FONT-SIZE: 9pt; BACKGROUND: white; COLOR: black; FONT-FAMILY: 'Courier New'; mso-highlight: white; mso-font-kerning: 0pt"> (-1 != (iSize = oInput.read(oBuff))) {</SPAN><SPAN lang=EN-US style="FONT-SIZE: 9pt; FONT-FAMILY: 'Courier New'; mso-font-kerning: 0pt"><o:p></o:p></SPAN></P>
<P class=MsoNormal style="MARGIN: 0cm 0cm 0pt; TEXT-ALIGN: left; mso-layout-grid-align: none" align=left><SPAN lang=EN-US style="FONT-SIZE: 9pt; BACKGROUND: white; COLOR: black; FONT-FAMILY: 'Courier New'; mso-highlight: white; mso-font-kerning: 0pt"><SPAN style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </SPAN>oOutput.write(oBuff, 0, iSize);</SPAN><SPAN lang=EN-US style="FONT-SIZE: 9pt; FONT-FAMILY: 'Courier New'; mso-font-kerning: 0pt"><o:p></o:p></SPAN></P>
<P class=MsoNormal style="MARGIN: 0cm 0cm 0pt; TEXT-ALIGN: left; mso-layout-grid-align: none" align=left><SPAN lang=EN-US style="FONT-SIZE: 9pt; BACKGROUND: white; COLOR: black; FONT-FAMILY: 'Courier New'; mso-highlight: white; mso-font-kerning: 0pt"><SPAN style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </SPAN>}</SPAN><SPAN lang=EN-US style="FONT-SIZE: 9pt; FONT-FAMILY: 'Courier New'; mso-font-kerning: 0pt"><o:p></o:p></SPAN></P>
<P class=MsoNormal style="MARGIN: 0cm 0cm 0pt; TEXT-ALIGN: left; mso-layout-grid-align: none" align=left><SPAN lang=EN-US style="FONT-SIZE: 9pt; FONT-FAMILY: 'Courier New'; mso-font-kerning: 0pt"><o:p><FONT color=#000000>&nbsp;</FONT></o:p></SPAN></P>
<P class=MsoNormal style="MARGIN: 0cm 0cm 0pt; TEXT-ALIGN: left; mso-layout-grid-align: none" align=left><SPAN lang=EN-US style="FONT-SIZE: 9pt; BACKGROUND: white; COLOR: black; FONT-FAMILY: 'Courier New'; mso-highlight: white; mso-font-kerning: 0pt"><SPAN style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </SPAN></SPAN><SPAN lang=EN-US style="FONT-SIZE: 9pt; BACKGROUND: white; COLOR: #3f7f5f; FONT-FAMILY: 'Courier New'; mso-highlight: white; mso-font-kerning: 0pt">// Flush</SPAN><SPAN lang=EN-US style="FONT-SIZE: 9pt; FONT-FAMILY: 'Courier New'; mso-font-kerning: 0pt"><o:p></o:p></SPAN></P>
<P class=MsoNormal style="MARGIN: 0cm 0cm 0pt; TEXT-ALIGN: left; mso-layout-grid-align: none" align=left><SPAN lang=EN-US style="FONT-SIZE: 9pt; BACKGROUND: white; COLOR: black; FONT-FAMILY: 'Courier New'; mso-highlight: white; mso-font-kerning: 0pt"><SPAN style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </SPAN>oOutput.flush();</SPAN><SPAN lang=EN-US style="FONT-SIZE: 9pt; FONT-FAMILY: 'Courier New'; mso-font-kerning: 0pt"><o:p></o:p></SPAN></P>
<P class=MsoNormal style="MARGIN: 0cm 0cm 0pt; TEXT-ALIGN: left; mso-layout-grid-align: none" align=left><SPAN lang=EN-US style="FONT-SIZE: 9pt; BACKGROUND: white; COLOR: black; FONT-FAMILY: 'Courier New'; mso-highlight: white; mso-font-kerning: 0pt"><SPAN style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </SPAN>}</SPAN><SPAN lang=EN-US style="FONT-SIZE: 9pt; FONT-FAMILY: 'Courier New'; mso-font-kerning: 0pt"><o:p></o:p></SPAN></P>
<P class=MsoNormal style="MARGIN: 0cm 0cm 0pt"></o:p></SPAN></P>
<P>
<P>&nbsp;</P>
<P></P></SPAN></SPAN></SPAN></SPAN></SPAN></SPAN></SPAN>
		
		<p class="postfoot">
			2005年3月5日 12:41
		</p>
	</div><link rel="pingback" href="http://java.mblogger.cn/wuyu/Services/Pingback.aspx">
<!--
<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"
xmlns:dc="http://purl.org/dc/elements/1.1/"
xmlns:trackback="http://madskills.com/public/xml/rss/module/trackback/">
<rdf:Description
rdf:about="http://java.mblogger.cn/wuyu/posts/12712.aspx"
dc:identifier="http://java.mblogger.cn/wuyu/posts/12712.aspx"
dc:title="利用webwork的stream result实现文件下载"
trackback:ping="http://java.mblogger.cn/wuyu/services/trackback.aspx?postid=12712" />
</rdf:RDF>
-->

<a name = "feedback" />
<div id="comments">
<h3>评论</h3>
	
			<h4>
				<a title="permalink: 回复: 利用webwork的stream result实现文件下载" href="http://java.mblogger.cn/wuyu/posts/12712.aspx#12724">#</a>&nbsp;<a name="12724"></a>回复: 利用webwork的stream result实现文件下载
					
			</h4>
			<p>
				这、这、这。。。不是吧，只不过是个servlet的下载而已嘛，咋搞的这么复杂？？？
				<br><br>
				<div align=right>
						2005-3-6 1:17
						
				 &nbsp;&nbsp;by <a id="_ctl0__ctl3_CommentList__ctl0_NameLink" href="http://blog.someok.com" target="_blank">郁也风</a>--
				<a id="_ctl0__ctl3_CommentList__ctl0_EditLink" href="javascript:__doPostBack('_ctl0$_ctl3$CommentList$_ctl0$EditLink','')"></a>
				</div>
				<hr>
			</p>
		
			<h4>
				<a title="permalink: 回复: 利用webwork的stream result实现文件下载" href="http://java.mblogger.cn/wuyu/posts/12712.aspx#12759">#</a>&nbsp;<a name="12759"></a>回复: 利用webwork的stream result实现文件下载
					
			</h4>
			<p>
				人总是喜欢偷懒的,既然webwork有现成的,为什么还要自己写servlet呢?<br>
				<br><br>
				<div align=right>
						2005-3-7 10:04
						
				 &nbsp;&nbsp;by <a id="_ctl0__ctl3_CommentList__ctl1_NameLink" target="_blank">wuyu</a>--
				<a id="_ctl0__ctl3_CommentList__ctl1_EditLink" href="javascript:__doPostBack('_ctl0$_ctl3$CommentList$_ctl1$EditLink','')"></a>
				</div>
				<hr>
			</p>
		
			<h4>
				<a title="permalink: 回复: 利用webwork的stream result实现文件下载" href="http://java.mblogger.cn/wuyu/posts/12712.aspx#17575">#</a>&nbsp;<a name="17575"></a>回复: 利用webwork的stream result实现文件下载
					
			</h4>
			<p>
				显示图片也可以用这个,但是图片大小怎么控制呢?头疼ing
				<br><br>
				<div align=right>
						2005-7-28 16:08
						
				 &nbsp;&nbsp;by <a id="_ctl0__ctl3_CommentList__ctl2_NameLink" href="http://mingo.blogdriver.com" target="_blank">mingo</a>--
				<a id="_ctl0__ctl3_CommentList__ctl2_EditLink" href="javascript:__doPostBack('_ctl0$_ctl3$CommentList$_ctl2$EditLink','')"></a>
				</div>
				<hr>
			</p>
		
			<h4>
				<a title="permalink: 回复: 利用webwork的stream result实现文件下载" href="http://java.mblogger.cn/wuyu/posts/12712.aspx#21210">#</a>&nbsp;<a name="21210"></a>回复: 利用webwork的stream result实现文件下载
					
			</h4>
			<p>
				[code]<br>&lt;img width=<br>[/code]
				<br><br>
				<div align=right>
						2006-3-3 13:15
						
				 &nbsp;&nbsp;by <a id="_ctl0__ctl3_CommentList__ctl3_NameLink" target="_blank">宪哥</a>--
				<a id="_ctl0__ctl3_CommentList__ctl3_EditLink" href="javascript:__doPostBack('_ctl0$_ctl3$CommentList$_ctl3$EditLink','')"></a>
				</div>
				<hr>
			</p>
		
			<h4>
				<a title="permalink: 回复: 利用webwork的stream result实现文件下载" href="http://java.mblogger.cn/wuyu/posts/12712.aspx#22506">#</a>&nbsp;<a name="22506"></a>回复: 利用webwork的stream result实现文件下载
					
			</h4>
			<p>
				怎么判断inputstream size ?
				<br><br>
				<div align=right>
						2006-6-8 23:06
						
				 &nbsp;&nbsp;by <a id="_ctl0__ctl3_CommentList__ctl4_NameLink" href="http://www.kpwang.com" target="_blank">pc</a>--
				<a id="_ctl0__ctl3_CommentList__ctl4_EditLink" href="javascript:__doPostBack('_ctl0$_ctl3$CommentList$_ctl4$EditLink','')"></a>
				</div>
				<hr>
			</p>
		
			<h4>
				<a title="permalink: 回复: 利用webwork的stream result实现文件下载" href="http://java.mblogger.cn/wuyu/posts/12712.aspx#28968">#</a>&nbsp;<a name="28968"></a>回复: 利用webwork的stream result实现文件下载
					
			</h4>
			<p>
				文件名是中文就乱码啊
				<br><br>
				<div align=right>
						2008-7-7 16:49
						
				 &nbsp;&nbsp;by <a id="_ctl0__ctl3_CommentList__ctl5_NameLink" href="http://SDS" target="_blank">FD</a>--
				<a id="_ctl0__ctl3_CommentList__ctl5_EditLink" href="javascript:__doPostBack('_ctl0$_ctl3$CommentList$_ctl5$EditLink','')"></a>
				</div>
				<hr>
			</p>
		
</div>
<div id="commentform">
<TABLE cellSpacing="0" cellPadding="0"  border="0">
<TR><TD>
<TABLE cellSpacing="1" cellPadding="1"  border="0" >
	<TR>
		<TD width="75">主题</TD>
		<TD>
			<input name="_ctl0:pageBody-2:tbTitle" type="text" value="回复: 利用webwork的stream result实现文件下载" id="_ctl0_pageBody-2_tbTitle" Size="40" style="width:300px;" /></TD>
		<TD>
			&nbsp;</TD>
	</TR>
	<TR>
		<TD width="75">姓名</TD>
		<TD>
			<input name="_ctl0:pageBody-2:tbName" type="text" id="_ctl0_pageBody-2_tbName" Size="40" style="width:300px;" /></TD>
		<TD>
			&nbsp;</TD>
	</TR>
	<TR>
		<TD>主页</TD>
		<TD>
			<input name="_ctl0:pageBody-2:tbUrl" type="text" id="_ctl0_pageBody-2_tbUrl" Size="40" style="width:300px;" /></TD>
		<TD></TD>
	</TR>
	<TR>
		<TD>验证码</TD>
		<TD>
			<input name="_ctl0:pageBody-2:tbPwdEx" type="text" id="_ctl0_pageBody-2_tbPwdEx" Size="20" style="width:100px;" />&nbsp;<img id="_ctl0_pageBody-2_imgPwdEx" src="/PwdEx.aspx?i=12712" alt="" border="0" /></TD>
		<TD></TD>
	</TR>
	<TR>
		<TD colSpan="3">内容&nbsp;
			&nbsp;<BR>
			<textarea name="_ctl0:pageBody-2:tbComment" rows="10" cols="50" id="_ctl0_pageBody-2_tbComment" style="height:193px;width:400px;"></textarea></TD>
	</TR>
	<TR>
		<TD colSpan="3">
			<input id="_ctl0_pageBody-2_chkRemember" type="checkbox" name="_ctl0:pageBody-2:chkRemember" /><label for="_ctl0_pageBody-2_chkRemember">Remember Me?</label></TD>
	</TR>
	<TR>
		<TD>
			<input type="submit" name="_ctl0:pageBody-2:btnSubmit" value="提交" onclick="if (typeof(Page_ClientValidate) == 'function') Page_ClientValidate(); " language="javascript" id="_ctl0_pageBody-2_btnSubmit" /></TD>
		<TD colspan="2">
			<span id="_ctl0_pageBody-2_Message" style="color:Red;"></span></TD>
	</TR>
</TABLE>
</TD><TD>

</TD></TR>
</TABLE>
</div>
			</div>
			
			
<div id="mbloggerads"></div>
<p id="footer">
	Powered by: 
	<br />
	<a id="_ctl0_Footer1_Hyperlink5" NAME="Hyperlink5" href="http://mblogger.CN"><img src="http://www.mblogger.cn/blogger.gif" alt="" border="0" /></a>
	<a id="_ctl0_Footer1_Hyperlink4" NAME="Hyperlink4" href="http://WWW.CHINAASPX.COM"><img src="http://www.chinaaspx.com/club/flink/aspx.gif" alt="" border="0" /></a>
	<a id="_ctl0_Footer1_Hyperlink2" NAME="Hyperlink1" href="http://ScottWater.com/DotText"><img src="../../images/100x30_Logo.gif" alt="" border="0" /></a>
		<br />
	Copyright &copy; <a href="http://wuyu.mblogger.cn/">wuyu</a>
</p>
			<br/><center><font color="red">请不要发表可能给我们带来伤害的政治言论，谢谢配合</font></center>
	
		</form>
	</body>
</HTML>
