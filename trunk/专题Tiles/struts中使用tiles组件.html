<html><head>

<title>struts中使用tiles组件</title>
<meta http-equiv="Content-Type" content="text/html; charset=GB2312">
<link href="struts%E4%B8%AD%E4%BD%BF%E7%94%A8tiles%E7%BB%84%E4%BB%B6_files/index.css" rel="stylesheet" type="text/css">
<script language="javaScript">
function valiform() {
	
		
	if(document.form2.keyword.value==""){
		alert("请输入关键字！");
		document.form2.keyword.focus();
		return false;
	   }
	}
  function valiform1(){
         if(document.form5.pinjianame.value==""){
		alert("请输入姓名！");
		document.form5.pinjianame.focus();
		return false;
		}
		if(document.form5.pinjiacontent.value==""){
		alert("请输入评价内容！");
		document.form5.pinjiacontent.focus();
		return false;
		}
    }
	
</script>
</head><body leftmargin="0" topmargin="0" background="struts%E4%B8%AD%E4%BD%BF%E7%94%A8tiles%E7%BB%84%E4%BB%B6_files/background.gif" bgcolor="#ffffff">
<table class="LTR" width="756" align="center" bgcolor="#ffffff" border="0" cellpadding="0" cellspacing="0" height="1146">
  <tbody><tr>
    <td width="747" height="78"><table width="100%" border="0" cellpadding="0" cellspacing="0">
        <tbody><tr>
          <td width="19%" height="65"><div align="center"><img src="struts%E4%B8%AD%E4%BD%BF%E7%94%A8tiles%E7%BB%84%E4%BB%B6_files/logo.gif" width="120" height="50"></div></td> <td width="81%"><table width="94%" align="center" border="0" cellpadding="0" cellspacing="0" height="53">
              <tbody><tr>
                <td width="81%"><div align="right">
            <script type="text/JavaScript"> 
alimama_pid="mm_10575332_787950_1609286"; 
alimama_titlecolor="0000FF"; 
alimama_descolor ="000000"; 
alimama_bgcolor="FFFFFF"; 
alimama_bordercolor="0339DA"; 
alimama_linkcolor="008000"; 
alimama_bottomcolor="FFFFFF"; 
alimama_anglesize="0"; 
alimama_bgpic="0"; 
alimama_icon="0"; 
alimama_sizecode="12"; 
alimama_width=468; 
alimama_height=60; 
alimama_type=2; 
          </script> 
            <script src="struts%E4%B8%AD%E4%BD%BF%E7%94%A8tiles%E7%BB%84%E4%BB%B6_files/inf.js" type="text/javascript"> 
          </script><img src="struts%E4%B8%AD%E4%BD%BF%E7%94%A8tiles%E7%BB%84%E4%BB%B6_files/alimamal.htm" name="alimamatmpf0.6443407370989207" id="alimamatmpf0.6443407370989207" style="border: 0px none ; margin: 0px; padding: 0px; width: 0px; height: 0px; vertical-align: baseline;" border="0"><iframe name="alimamaf0.6443407370989207" id="alimamaf0.6443407370989207" border="0" marginwidth="0" marginheight="0" style="width: 468px; height: 60px;" src="struts%E4%B8%AD%E4%BD%BF%E7%94%A8tiles%E7%BB%84%E4%BB%B6_files/alimama.htm" scrolling="no" frameborder="0"></iframe>
          </div></td>
              </tr>
            </tbody></table></td>
        </tr>
      </tbody></table></td>
  </tr>
  <tr>
    <td class="ArticleTeitle" height="20"><table width="100%" bgcolor="#3399ff" border="0" cellpadding="0" cellspacing="0" height="25">
        <tbody><tr> 
          <td width="29%"><font color="#ffffff">
            <div align="left">&nbsp;&nbsp;您的位置： 文章阅读 ┆ <a href="http://www.java3z.com/cwbwebhome/index.jsp"><font color="#ffffff">回首页</font></a></div>
            </font></td>
          <td width="71%"><font color="#ffffff">&nbsp;
            </font>
          <div align="right"><font color="#ffffff"><a href="http://www.java3z.com/cwbwebhome/learn.jsp"><font color="#ffffff">学习笔记</font></a><font color="#ffffff">┆</font> &nbsp;<a href="http://www.java3z.com/cwbwebhome/article.jsp"><font color="#ffffff">java文摘</font></a><font color="#ffffff">┆</font> <a href="http://www.java3z.com/cwbwebhome/download.jsp"><font color="#ffffff">源码下载</font></a>&nbsp;<font color="#ffffff"><font color="#ffffff">┆</font><a href="http://www.java3z.com/cwbwebhome/javacode.jsp"><font color="#ffffff">Java实例</font></a> <font color="#ffffff">┆</font><font color="#ffffff"> <a href="http://www.java3z.com/cwbwebhome/tool.jsp"><font color="#ffffff">Java教学</font></a> ┆&nbsp;<a href="http://www.java3z.com/cwbwebhome/version.jsp"><font color="#ffffff">译文习作</font></a><font color="#ffffff">┆</font>&nbsp;&nbsp;<a href="http://www.java3z.com/cwbwebhome/reply.jsp"><font color="#ffffff">留言板</font></a>&nbsp;</font></font></font></div>
<font color="#ffffff"><font color="#ffffff">          </font></font></td>
        </tr>
      </tbody></table></td>
  </tr>
  <tr>
    <td valign="top" align="center" height="1039"><table width="100%" border="0" cellpadding="0" cellspacing="0" height="1035">
        <tbody><tr> 
          <td height="30"><form name="form2" method="post" action="../../search.jsp" onsubmit="return valiform()">
              <table width="94%" align="right" border="0" cellpadding="0" cellspacing="0" height="20">
                <tbody><tr> 
                  <td width="13%"><div align="center"><font color="#0066ff"><strong>站内资源搜索:</strong></font></div></td>
                  <td width="60%"><div align="center"> 
                      <input name="keyword" class="Active" size="70" type="text">
                    </div></td>
                  <td> <div align="center"> </div>
                    <input name="Submit3" class="ActiveButton" value=" GO! " type="submit"> 
                  </td>
                </tr>
              </tbody></table>
            </form></td>
        </tr>
        <tr> 
          <td class="ArticleTeitle" bgcolor="#95caff" height="25"> <table width="70%" align="center" border="0" cellpadding="0" cellspacing="0" height="26">
              <tbody><tr> 
                <td width="13%"><img src="struts%E4%B8%AD%E4%BD%BF%E7%94%A8tiles%E7%BB%84%E4%BB%B6_files/fave.gif" width="72" height="25"></td>
                <td width="29%"><div align="right"> ┆ 将本文寄给朋友&nbsp;&nbsp; </div></td>
                <td width="45%"><input name="textfield32" class="Active" value="（暂没开通）" size="30" type="text"></td>
                <td width="13%"><img src="struts%E4%B8%AD%E4%BD%BF%E7%94%A8tiles%E7%BB%84%E4%BB%B6_files/button_send.gif" width="50" height="25"></td>
              </tr>
            </tbody></table></td>
        </tr>
        <tr> 
          <td valign="top" align="center" height="977">
            
            <br> 
            <table width="684" align="center" border="0" cellpadding="0" cellspacing="0" height="146">
              <tbody><tr> 
                <td colspan="2" height="80"><table class="ArticleTeitle" width="100%" align="center" border="0" cellpadding="0" cellspacing="0" height="47">
                    <tbody><tr> 
                      <td width="72%" bgcolor="#b5daff" height="45"><div align="center"><font size="4" color="#333333" face="黑体">struts中使用tiles组件</font></div></td>
                      <td width="15%" bgcolor="#b5daff"><p align="right">&nbsp;</p></td>
                      <td width="1%" bgcolor="#b5daff">&nbsp;</td>
                      <td width="12%" bgcolor="#b5daff"><p align="center"> <a href="http://203.93.208.26/kj/cwb/dir1/dir1a/strutsTi.zip"> 下载源代码</a></p></td>
                    </tr>
                  </tbody></table>
                  <div align="right"><font color="#333333"><br>
                    <strong>〖 作者：站长整理 〗〖 大小：991k 〗〖 发布日期：2005-08-22 〗〖 浏览：922 〗<br>
                    </strong></font></div></td>
              </tr>
              <tr> 
                <td class="ArticleTeitle" valign="top" width="521" height="35">&nbsp;&nbsp;<font color="#333333">&nbsp;</font>
                  <font color="#333333">1.在你的struts配置文件struts-config.xml中加入下面的配置： <br>
                  &nbsp;&lt;plug-in&nbsp;className="org.apache.struts.tiles.TilesPlugin"&nbsp;&gt; <br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;set-property&nbsp;property="definitions-config"&nbsp;value="/WEB-INF/tiles-def.xml"&nbsp;/&gt;
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;set-property&nbsp;property="definitions-parser-validate"&nbsp;value="true"&nbsp;/&gt;
<br>
                  &nbsp;&lt;/plug-in&gt; <br>
                  2.生成tiles-def.xml文件： <br>
                  &lt;?xml&nbsp;version="1.0"&nbsp;encoding="ISO-8859-1"&nbsp;?&gt; <br>
                  <br>
                  &nbsp;&lt;!DOCTYPE&nbsp;tiles-definitions&nbsp;PUBLIC <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"-//Apache&nbsp;Software&nbsp;Foundation//DTD&nbsp;Tiles&nbsp;Configuration&nbsp;1.1//EN"
<br>
                  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"http://jakarta.apache.org/struts/dtds/tiles-config_1_1.dtd"&gt; <br>
                  <br>
                  &lt;tiles-definitions&gt; <br>
                  <br>
                  &nbsp;&lt;definition&nbsp;name="base-definition"&nbsp;path="/layout.jsp"&gt; <br>
                  &nbsp;&nbsp;&nbsp;&nbsp;&lt;put&nbsp;name="sidebar"&nbsp;value="sidebar.jsp"/&gt; <br>
                  &nbsp;&nbsp;&nbsp;&nbsp;&lt;put&nbsp;name="header"&nbsp;value="header.jsp"/&gt; <br>
                  &nbsp;&nbsp;&nbsp;&nbsp;&lt;put&nbsp;name="content"&nbsp;value=""/&gt; <br>
                  &nbsp;&nbsp;&nbsp;&nbsp;&lt;put&nbsp;name="footer"&nbsp;value="footer.jsp"/&gt; <br>
                  &nbsp;&lt;/definition&gt; <br>
                  <br>
                  &nbsp;&lt;definition&nbsp;name="index-definition"&nbsp;extends="base-definition"&gt; <br>
                  &nbsp;&nbsp;&nbsp;&nbsp;&lt;put&nbsp;name="content"&nbsp;value="indexContent.jsp"/&gt; <br>
                  &nbsp;&lt;/definition&gt; <br>
                  <br>
                  &lt;/tiles-definitions&gt; <br>
                  <br>
                  <br>
                  3.生成layout.jsp布局文件: <br>
                  &lt;%@&nbsp;page&nbsp;contentType="text/html;&nbsp;charset=GBK"&nbsp;%&gt; <br>
                  &lt;%@&nbsp;taglib&nbsp;uri="/tags/struts-tiles"&nbsp;prefix="tiles"%&gt;&nbsp; <br>
                  &lt;html&gt;&nbsp; <br>
                  &lt;head&gt;&nbsp;&lt;title&gt;布局设计&lt;/title&gt;&nbsp;&lt;/head&gt;&nbsp; <br>
                  &lt;body&nbsp;&gt;&nbsp; <br>
                  &lt;table&nbsp;width="100%"&nbsp;height="100%"&gt;&nbsp; <br>
                  &lt;tr&gt;&nbsp; <br>
                  &nbsp;&nbsp;&lt;td&nbsp;width="150"&nbsp;valign="top"&nbsp;align="left"&nbsp;bgcolor="#CCFFCC"&gt; <br>
                  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;tiles:insert&nbsp;attribute="sidebar"/&gt;&nbsp; <br>
                  &nbsp;&nbsp;&lt;/td&gt;&nbsp; <br>
                  &nbsp;&nbsp;&lt;td&nbsp;valign="top"&nbsp;height="100%"&nbsp;width="*"&gt;&nbsp; <br>
                  &nbsp;&nbsp;&nbsp;&nbsp;&lt;table&nbsp;width="100%"&nbsp;height="100%"&gt;&nbsp; <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;tr&gt;&nbsp;&lt;td&nbsp;height="15%"&gt;&nbsp;&lt;tiles:insert&nbsp;attribute="header"/&gt;&nbsp;&lt;/td&gt;&nbsp;&lt;/tr&gt;
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;tr&gt;&nbsp;&lt;td&nbsp;valign="top"&nbsp;height="*"&gt;&nbsp;&lt;tiles:insert&nbsp;attribute="content"/&gt;&nbsp;&lt;/td&gt;&lt;/tr&gt;
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;tr&gt;&nbsp;&lt;td&nbsp;valign="bottom"&nbsp;height="15%"&gt;&lt;tiles:insert&nbsp;attribute="footer"/&gt;&lt;/td&gt;&lt;/tr&gt;
<br>
                  &nbsp;&nbsp;&nbsp;&nbsp;&lt;/table&gt;&nbsp; <br>
                  &nbsp;&nbsp;&lt;/td&gt;&nbsp; <br>
                  &lt;/tr&gt;&nbsp; <br>
                  &lt;/table&gt;&nbsp; <br>
                  &lt;/body&gt;&nbsp;&lt;/html&gt;&nbsp; <br>
                  <br>
                  4.生成要使用的JSP文件sidebar.jsp,header.jsp,footer.jsp。 <br>
                  <br>
                  5.通过action-mappings配置你的tiles组件： <br>
                  &lt;action-mappings&gt; <br>
                  &nbsp;&nbsp;&lt;action&nbsp;path="/index"&nbsp;type="org.apache.struts.actions.ForwardAction"&nbsp; <br>
                  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;parameter="index-definition"&gt; <br>
                  &nbsp;&nbsp;&lt;/action&gt; <br>
                  &lt;/action-mappings&gt; <br>
                  parameter参数的值，是你在tiles-def.xml文件里某个的define的name。 <br>
                  <br>
                  6.别忘了在web.xml中加入 <br>
                  &lt;taglib&gt; <br>
                  &nbsp;&nbsp;&nbsp;&nbsp;&lt;taglib-uri&gt;/tags/struts-tiles&lt;/taglib-uri&gt; <br>
                  &nbsp;&nbsp;&nbsp;&nbsp;&lt;taglib-location&gt;/WEB-INF/struts-tiles.tld&lt;/taglib-location&gt; <br>
                  &nbsp;&nbsp;&lt;/taglib&gt; <br>
                  <br>
                  同时还要保证你使用的是struts&nbsp;1.1版本。 <br>
                  现在就可以动手为你的项目加入tiles应用了。 <br>
                  完成以上步骤，完成Tomcate部署并启动，通过http://127.0.0.1:8080/strutsTiles/index.do<br>
                  可以看到效果. 
                  运行下面两个文件是同样的效果： <br>
                  <br>
                  1、index1.jsp <br>
                  &lt;%@&nbsp;page&nbsp;contentType="text/html;&nbsp;charset=gb2312"&nbsp;%&gt; <br>
                  &lt;%@&nbsp;taglib&nbsp;uri="/tags/struts-tiles"&nbsp;prefix="tiles"&nbsp;%&gt; <br>
                  使用逻辑名 <br>
                  &lt;tiles:insert&nbsp;definition="index-definition"/&gt; <br>
                  <br>
                  2、index.jsp <br>
                  <br>
                  &lt;%@&nbsp;page&nbsp;contentType="text/html;&nbsp;charset=gb2312"&nbsp;%&gt; <br>
                  &lt;%@&nbsp;taglib&nbsp;uri="/tags/struts-tiles"&nbsp;prefix="tiles"&nbsp;%&gt; <br>
                  &lt;tiles:insert&nbsp;page="layout.jsp"&nbsp;flush="true"&gt;&nbsp;&nbsp; <br>
                  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;tiles:put&nbsp;name="sidebar"&nbsp;value="sidebar.jsp"/&gt; <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;tiles:put&nbsp;name="header"&nbsp;&nbsp;value="header.jsp"/&gt;&nbsp;&nbsp;&nbsp;
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;tiles:put&nbsp;name="content"&nbsp;value="indexContent.jsp"/&gt;&nbsp;&nbsp;&nbsp;
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;tiles:put&nbsp;name="footer"&nbsp;&nbsp;value="footer.jsp"/&gt;&nbsp;&nbsp;&nbsp;
<br>
                  &lt;/tiles:insert&gt; </font>                  <div class="post"><div class="postcontent"></div>
                  </div>
                  <div class="userData" id="CommentsPersistDiv"></div>
                  <script>
			function TempSave(ElementID)
			{
				CommentsPersistDiv.setAttribute("CommentContent",document.getElementById(ElementID).value);
				CommentsPersistDiv.save("CommentXMLStore");
			}
			function Restore(ElementID)
			{
				CommentsPersistDiv.load("CommentXMLStore");
				document.getElementById(ElementID).value=CommentsPersistDiv.getAttribute("CommentContent");
			}
		
                  </script>
                  <!--Ene TempSave-->
                  <div id="AnonymousPostComment1_ValidationSummary1" style="color: red; display: none;" showsummary="False" showmessagebox="True"></div>
                <div id="commentform"><font face="宋体"></font><font face="宋体"></font><font face="宋体"></font><font face="宋体"></font><font face="宋体"></font></div></td>
                <td class="ArticleTeitle" valign="top" width="163"><br><script type="text/javascript"><!--
google_ad_client = "pub-1832179689702023";
google_ad_width = 160;
google_ad_height = 600;
google_ad_format = "160x600_as";
google_ad_type = "text_image";
//2007-05-18: 160_600
google_ad_channel = "6438685831";
google_color_border = "FFFFFF";
google_color_bg = "FFFFFF";
google_color_link = "0000FF";
google_color_text = "000000";
google_color_url = "3D81EE";
//-->
</script>
<script type="text/javascript" src="struts%E4%B8%AD%E4%BD%BF%E7%94%A8tiles%E7%BB%84%E4%BB%B6_files/show_ads.js">
</script><script> window.google_render_ad(); </script><iframe name="google_ads_frame" src="struts%E4%B8%AD%E4%BD%BF%E7%94%A8tiles%E7%BB%84%E4%BB%B6_files/ads.htm" marginwidth="0" marginheight="0" vspace="0" hspace="0" allowtransparency="true" scrolling="no" width="160" frameborder="0" height="600"></iframe></td>
              </tr>
              <tr> 
                <td colspan="2" class="ArticleTeitle" valign="top" height="25"><p align="right"><font size="4"> 
                    </font><font color="#333333">来源</font><font color="#333333">： 
                    java学习室</font></p>
                </td>
              </tr>
            </tbody></table>
            <br> <table width="100%" border="0" cellpadding="0" cellspacing="0" height="24">
              <tbody><tr> 
                <td class="ArticleTeitle" bgcolor="#95caff">&nbsp;严禁发表涉及封建迷信、国家政治等敏感问题的内容</td>
              </tr>
            </tbody></table>
            <form name="form5" method="post" action="" onsubmit="return valiform1()">
              <table width="600" align="center" border="0" cellpadding="0" cellspacing="0" height="395">
                <tbody><tr> 
                  <td width="684" bgcolor="#0080ff" height="26"><font color="#ffffff"> 
                    &nbsp;■ 对本文的评价（带 <font color="#ff0000">* </font>为必填内容，400字以内）&nbsp;&nbsp;&nbsp;&nbsp;严禁发表涉及封建迷信、国家政治等敏感问题的内容。</font></td>
                </tr>
                <tr> 
                  <td class="LTR" height="253"><br> <table width="602" align="center" border="0" cellpadding="0" cellspacing="0" height="275">
                      <tbody><tr> 
                        <td width="82" bgcolor="#ddeeff" height="26"> <div align="right"><font color="#ff0000">* 
                            </font>您的姓名&nbsp;</div></td>
                        <td width="117" bgcolor="#ddeeff"> <input name="pinjianame" class="Active" size="15" type="text"> 
                        </td>
                        <td width="80" bgcolor="#ddeeff"> <div align="right">您的电子邮件&nbsp;</div></td>
                        <td width="323" bgcolor="#ddeeff"> <input name="pinjiaemail" class="Active" size="40" type="text"> 
                        </td>
                      </tr>
                      <tr> 
                        <td height="26"> <div align="right">您的个人主页&nbsp;</div></td>
                        <td colspan="3"> <input name="pinjiahome" class="Active" value="http://" size="80" type="text"> 
                        </td>
                      </tr>
                      <tr> 
                        <td valign="top" bgcolor="#ddeeff" height="79"> <div align="right"><font color="#ff0000"><br>
                            * </font>您的评价&nbsp; </div></td>
                        <td colspan="3" bgcolor="#ddeeff"> <textarea name="pinjiacontent" cols="80" rows="12" class="Active"></textarea> 
                          <input name="Article_id" value="390" type="hidden"> 
                        </td>
                      </tr>
                      <tr> 
                        <td colspan="4" height="19"> <div align="center"><br>
                            <input name="Submit32" class="ActiveButton" value="  提 交  " type="submit">
                            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
                            <input name="Submit33" class="ActiveButton" value="  清 空  " type="reset">
                          </div></td>
                      </tr>
                    </tbody></table>
                    <br> </td>
                </tr>
                <tr> 
                  <td bgcolor="#0080ff" height="26"><font color="#ffffff">&nbsp;■ 
                    以往的评价</font></td>
                </tr>
                <tr> 
                  <td class="LTR" align="center" height="90"><br> <br> 
                    
                    <br> <br> <br> <br> </td>
                </tr>
              </tbody></table>
            </form> <br>
            <table width="100%" border="0" cellpadding="0" cellspacing="0">
              <tbody><tr> 
                <td class="ArticleTeitle" bgcolor="#95caff" height="24"><div align="center">以上文章版权由原作者所有。未经同意，不得将其任何一部分复制、转载、发布等未授权操作。</div></td>
              </tr>
            </tbody></table>
            <div align="center"><br>
              <br>
              Java学习室 ― 陈伟波个人主页<br>
              E-mail: <a href="mailto:zz3zcwb@sina.com">zz3zcwb@sina.com</a> <br>
              COPY RIGHT 2005 </div></td>
        </tr>
      </tbody></table></td>
  </tr>
</tbody></table>
<br>
</body></html>