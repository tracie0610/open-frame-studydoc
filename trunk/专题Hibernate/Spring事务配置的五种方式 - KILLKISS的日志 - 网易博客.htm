<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!-- saved from url=(0062)http://13480.blog.163.com/blog/static/16285514200938104353102/ -->
<HTML xmlns="http://www.w3.org/1999/xhtml"><HEAD><META http-equiv="Content-Type" content="text/html; charset=GB2312">
  	<SCRIPT>
    	var ginit_time = new Date().getTime();
 		var gend_time = 0;
    </SCRIPT>
	     <TITLE>Spring事务配置的五种方式 - KILLKISS的日志 - 网易博客</TITLE>
	<META name="Author" content="KILLKISS,13480">
	<META name="Keywords" content="Spring事务配置的五种方式,日志,KillKiss,KILLKISS,13480,网易博客,网易,blog">
	<META name="Description" content="&lt;P&gt;Spring配置文件中关于事务配置总是由三个组成部分，分别是DataSource、TransactionManager和代理机制这三部分，无论哪种配置方式，一般变化的只是代理机制这部分。&lt;/P&gt;
&lt;P&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp; DataSource、TransactionManager这两部分只是会根据数据访问方式有所变化，比如使用Hibernate进行数据访问时，DataSource实际为SessionFactory，TransactionManager的实现为HibernateTransactionManager。&lt;/P&gt;
&lt;P&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp; 具体如下图：&lt;/P&gt;
&lt;P&gt;&lt;/P&gt;,KILLKISS的日志,努力扮好每个角色,KILLKISS的网易博客">
    
<LINK rel="shortcut icon" href="http://b1.bst.126.net/0522000/style/common/favicon.ico">
<SCRIPT type="text/javascript">try{document.execCommand('BackgroundImageCache',false,true);}catch(e){}</SCRIPT>
<LINK type="text/css" rel="stylesheet" href="./Spring事务配置的五种方式 - KILLKISS的日志 - 网易博客_files/00-htc.css">

<LINK type="text/css" rel="stylesheet" href="./Spring事务配置的五种方式 - KILLKISS的日志 - 网易博客_files/core.css">
	

<LINK type="text/css" rel="stylesheet" href="./Spring事务配置的五种方式 - KILLKISS的日志 - 网易博客_files/o.css" id="_$$_link_layout">
<LINK type="text/css" rel="stylesheet" href="./Spring事务配置的五种方式 - KILLKISS的日志 - 网易博客_files/s.css" id="_$$_link_theme">

 
<SCRIPT type="text/JavaScript">
<!--//--><![CDATA[//><!--
var UD = {
     status       : 'prev',
     themeId      :  4273,
     hostId       :  16285514,
     visitorId    :  0,
     visitorIP	  :  '125.40.64.205',
     visitorAvatar:	 '',
     hostPath     : '',
     hostName     : '13480', 
     pageName     : 'prevBlogPerma',
     visitorRank  : '-100',
     visitorName  : '', 
     hostNickname : 'KILLKISS',
     visitorNickname : '',
     commentRank  : -100,
     externHash   : '',
     hasAdminCircles : 'false',
     hostImgUrl   : 'http://ava.bimg.126.net/photo/gFTSWlCnkfTrvz34HPTbnw==/452330287574727615.jpg',
     themeFileId  : '-1243186706122',
     serverName   : '13480.blog.163.com',
     dataDigest	  : 'null',
     lastModifyTime : '',
     visitorUserType: [12,35],
     uuid			: '0e20e9e2-d067-440d-804f-db4b776271f7',
     speedTest		: 0
};   

if(UD.pageName == "prevHome" || UD.pageName == "editHome"){
	var date = new Date();
	date.setMinutes(0,0,0);
	UD.weatherGenTime = date.getTime();
}

//--><!]]>
</SCRIPT>


<SCRIPT type="text/javascript" src="./Spring事务配置的五种方式 - KILLKISS的日志 - 网易博客_files/core1.js"></SCRIPT>
<SCRIPT type="text/javascript" src="./Spring事务配置的五种方式 - KILLKISS的日志 - 网易博客_files/core_ext.js"></SCRIPT>
<SCRIPT type="text/javascript" src="./Spring事务配置的五种方式 - KILLKISS的日志 - 网易博客_files/core2.js"></SCRIPT>
<SCRIPT type="text/javascript" src="./Spring事务配置的五种方式 - KILLKISS的日志 - 网易博客_files/core3.js"></SCRIPT>

<SCRIPT type="text/javascript" src="./Spring事务配置的五种方式 - KILLKISS的日志 - 网易博客_files/interface.js"></SCRIPT>

<SCRIPT type="text/javascript" src="./Spring事务配置的五种方式 - KILLKISS的日志 - 网易博客_files/interface_ext.js"></SCRIPT>


<SCRIPT type="text/javascript" src="./Spring事务配置的五种方式 - KILLKISS的日志 - 网易博客_files/blog.js"></SCRIPT>
  <LINK rel="alternate" type="application/rss+xml" title="RSS" href="http://13480.blog.163.com/rss/"><STYLE type="text/css">
<!--/*--><![CDATA[/*><!--*/
#messageZone {top:0px; right:20px; background:#ffffae; width:100px; position:fixed!important;
	position:absolute;font-family: Arial,Helvetica,sans-serif; padding:4px;font-size:12px;}
/*]]>*/-->
</STYLE></HEAD><BODY lang="zh" id="blog-163-com">   
    <DIV id="tptlbr" style="height: 0px; display: none; " class=" tphide">&nbsp;</DIV>
    <DIV class="bggb" id="blog-163-com-body">
      <DIV class="innerlayer" id="_$$_inner_layer"><DIV class="g_p_none"><SPAN class="a_a">&nbsp;</SPAN></DIV>

<SCRIPT language="JavaScript">
<!--//--><![CDATA[//><!--
 	if (NEBlog==undefined) 
		var NEBlog={};
		
	
	NEBlog.gPermalink_BlogCiters = [];
//--><!]]>
</SCRIPT>



<DIV class="g_p_none">
  <!-- 单篇日志预览-菜单 -->
  
  
  <!-- 单篇日志预览-内容 -->
      
</DIV>


<!-- 生成模块脚本 -->
<SCRIPT language="JavaScript">
	function initPage(){
    	var _$$_blog_perma = new netease.ui.module.Module("日志","_$$_blog_perma_menu",$("_$$_blog_perma"),null,"",{parent:"_$$_module_container_center"});

	}
</SCRIPT>
</DIV>
<DIV class="wsy topbar" id="_$$_TopBar">
	<DIV class="g_menu_llk sep">
      <SPAN id="sysmsgs" style="display:none;">
      	<DIV class="g_hom_sys">
			<DIV class="icn_arrow">&nbsp;</DIV>
			<DIV id="sysmsgsContent" class="g_hom_sys_cnt"></DIV>
			<A class="a-close" onclick="closeSysMsg();return false;">关闭</A>
		</DIV>
	  </SPAN>
      <A id="rmndtplhm" href="http://blog.163.com/?frompersonalbloghome" target="_blank">网易博客</A><SPAN class="bd1c">|</SPAN>
      <A id="rmndtplsv" href="http://blog.163.com/services/all.html?frompersonalservices" target="_blank">空间服务</A><SPAN class="bd1c">|</SPAN>
      <FORM id="rmndtplfm" method="get" action="http://13480.blog.163.com/search"><INPUT class="bd01" type="text" name="q" value="" id="rmndtplin"><INPUT type="hidden" name="t" value="blog">
      <A class="bd01" id="rmndtplsr" href="http://blog.163.com/search?frompersonalsearch" target="_blank">搜 索</A></FORM>
	</DIV>
    <DIV class="g_menu_rlk sep" id="_$$_TopBarRight">    <A href="http://13480.blog.163.com/blog/static/16285514200938104353102/#" id="rmdtplgn">登录</A><SPAN class="bd1c">|</SPAN>  <A href="http://reg.163.com/reg/reg0.jsp?url=http://blog.163.com/ntesRegBlank.html">注册</A>  </DIV>
</DIV>
      <DIV class="bgtt wsy">
<DIV class="bg10 wsy" id="_$$_Top_Outer">
  <DIV class="bg11 ht wkg" id="_$$_Top_Inner">
    <DIV class="flash ht" id="_$$_Top_Flash"></DIV>
    <DIV class="logo" onclick="window.location.href=&#39;http://blog.163.com/login.html&#39;;return false;">&nbsp;</DIV>
    <DIV class="title" id="_$$_Top_Title">	        <DIV class="fs01" id="spacename">KillKiss</DIV>      <DIV class="fs02" id="spacedesc">努力扮好每个角色</DIV>      </DIV>
  </DIV>
</DIV>
<DIV class="bg20 wsy">
  <DIV class="bg21 hn c02 wkg advnav">
    <DIV class="wnl hn">&nbsp;</DIV>
    <DIV class="wnr hn">&nbsp;</DIV>
    <DIV class="wnc hn" style="position:relative; z-index:100;">
      <DIV class="hn g_menu_nv">
        <DIV class="hn item ">
          <A hidefocus="true" href="http://13480.blog.163.com/" onclick="">首页</A>
        </DIV>
        <DIV class="hn item seltag">
          <A hidefocus="true" href="http://13480.blog.163.com/blog/" onclick="">日志</A>
        </DIV>
        <DIV class="hn item ">
          <A hidefocus="true" href="http://13480.blog.163.com/album/" onclick="">相册</A>
        </DIV>
        <DIV class="hn item ">
          <A hidefocus="true" href="http://13480.blog.163.com/music/" onclick="">音乐</A>
        </DIV>
        <DIV class="hn item ">
          <A hidefocus="true" href="http://13480.blog.163.com/collection/" onclick="">收藏</A>
        </DIV>
        <DIV class="hn item ">
          <A hidefocus="true" href="http://13480.blog.163.com/friends/" onclick="">博友</A>
        </DIV>
        <DIV class="hn item ">
          <A hidefocus="true" href="http://13480.blog.163.com/profile/" onclick="">关于我</A>
        </DIV>
      </DIV>
    </DIV>
  </DIV>
</DIV>
<DIV class="bgtf wsy"><DIV class="bgtf_ hz wkg"><DIV class="wzl hz">&nbsp;</DIV><DIV class="wzr hz">&nbsp;</DIV><DIV class="wzc hz">&nbsp;</DIV></DIV></DIV>
<DIV class="bgmt wsy"><DIV class="bgmt_ hy wkg"><DIV class="wyl hy">&nbsp;</DIV><DIV class="wyr hy">&nbsp;</DIV><DIV class="wyc hy">&nbsp;</DIV></DIV></DIV>
<DIV class="bg40 wsy">
  <DIV class="bg41 wkg g_p_hide" id="_$$_module_container">
	  <DIV class="wml bgml g_p_fill">&nbsp;</DIV>
	  <DIV class="wmr bgmr g_p_fill">&nbsp;</DIV>
	  <DIV class="wml mtl">&nbsp;</DIV><DIV class="wml mbl">&nbsp;</DIV>
	  <DIV class="wmr mtr">&nbsp;</DIV><DIV class="wmr mbr">&nbsp;</DIV>
	  <DIV class="wmc"><DIV id="layout_ctrl" class="css_inr_1 innerLayout">
	    <DIV class="wql hm" id="_$$_module_container_left" index="0"></DIV>
	    <DIV class="wqc hm" id="_$$_module_container_center" index="1"><DIV class="mdl mt bd00" id="netease-auto-id-module--1"><DIV class="mdl_t mt c03"><DIV class="mdl_t_l">&nbsp;</DIV><DIV class="mdl_t_r">&nbsp;</DIV><DIV class="mdl_t_c"><P class="g_w_80 g_t_hide">日志</P></DIV><DIV class="mdl_t_m"></DIV></DIV><DIV class="mdl_c mt g_p_hide"><DIV class="mdl_c_l g_p_fill">&nbsp;</DIV><DIV class="mdl_c_r g_p_fill">&nbsp;</DIV><DIV class="mdl_c_c"><DIV class="mdl_m_t"><DIV class="g_h_25" style="display: block; "><DIV id="_$$_blog_perma_menu">
   		<A class="g_p_block g_w_45 g_p_left g_t_left n_ n34 g_t_14 c05" id="olderBlogLink" style="" href="http://13480.blog.163.com/blog/static/1628551420093853828667/"><P class="g_w_95 g_t_hide g_c_hand g_p_left g_t_14" id="olderBlogTitle">spring2.5&amp;DWR2.0整合配置</P></A>
    	<A class="g_p_block g_w_45 g_p_right g_t_right n_ n33c g_t_14 c05" id="newerBlogLink" style="" href="http://13480.blog.163.com/blog/static/1628551420093811315863/"><P class="g_p_right g_w_95 g_t_hide g_c_hand g_t_14" id="newerBlogTitle">spring中事务的小结</P></A>
    <DIV class="g_p_clear g_t_space">&nbsp;</DIV>
  </DIV></DIV></DIV><DIV class="mdl_m_c"><DIV class="g_c_container g_p_hide " id="_$$_blog_perma">
   	<P class="g_p_center g_t_wrap g_t_left g_t_20 g_c_pdin c07 brd01" id="blogtitle_fks_082067092086085075085085095095085080083075081083087071" style="width:760px;margin:15px auto;border-bottom-width:1px;border-bottom-style:dotted;"><SPAN style="font-family:&#39;微软雅黑&#39;,&#39;黑体&#39;,Arial,Helvetica,Sans-Serif;">Spring事务配置的五种方式</SPAN><SPAN class="g_t_10 c08">　2009-04-08 22:43</SPAN></P>
    <DIV class="g_p_center g_t_right g_c_pdin g_h_20 c08" style="width:760px;margin-bottom:20px;">
      <DIV class="g_p_left">
        <A id="aBelongClsfks_082067092086085075085085095095085080083075081083087071" class="g_c_ul c05" style="font-size:12px;" href="http://13480.blog.163.com/blog/static/16285514200938104353102/#" onclick="NEBlog.gPermaLinkPage.updownMenu.openSameClass(&#39;fks_095075083086084074081074087069086094084070085082&#39;, &#39;spring&#39;);">分类：spring</A>
      </DIV>
      <DIV>字号：
        <A id="bigfont" href="http://13480.blog.163.com/blog/static/16285514200938104353102/#" class="g_c_ul c05" onclick="NEBlog.gPermaLinkPage.updownMenu.changeFont(&#39;blogtext_fks_082067092086085075085085095095085080083075081083087071&#39;, 1);return false;" style="font-size:12px;">大</A><SPAN class="g_t_bold c07" id="bigfont_off" style="display:none;">大</SPAN>&nbsp;
        <A id="middlefont" href="http://13480.blog.163.com/blog/static/16285514200938104353102/#" class="g_c_ul c05" onclick="NEBlog.gPermaLinkPage.updownMenu.changeFont(&#39;blogtext_fks_082067092086085075085085095095085080083075081083087071&#39;, 2);return false;" style="font-size:12px;">中</A><SPAN class="g_t_bold c07" id="middlefont_off" style="display:none;">中</SPAN>&nbsp;
        <A id="smallfont" class="g_c_ul c05" href="http://13480.blog.163.com/blog/static/16285514200938104353102/#" onclick="NEBlog.gPermaLinkPage.updownMenu.changeFont(&#39;blogtext_fks_082067092086085075085085095095085080083075081083087071&#39;, 3);return false;" style="display:none;font-size:12px;">小</A><SPAN class="g_t_bold c07" id="smallfont_off" style="display:inline;">小</SPAN>
      </DIV>
    </DIV>
   	
	<DIV class="g_blog_list">
		<DIV class="g_t_center g_c_pdin g_p_center c07 content" style="width:760px" id="blogtext_fks_082067092086085075085085095095085080083075081083087071">
		   <P>Spring配置文件中关于事务配置总是由三个组成部分，分别是DataSource、TransactionManager和代理机制这三部分，无论哪种配置方式，一般变化的只是代理机制这部分。</P>
<P>&nbsp;&nbsp;&nbsp; DataSource、TransactionManager这两部分只是会根据数据访问方式有所变化，比如使用Hibernate进行数据访问时，DataSource实际为SessionFactory，TransactionManager的实现为HibernateTransactionManager。</P>
<P>&nbsp;&nbsp;&nbsp; 具体如下图：</P>
<P><A href="http://www.blogjava.net/images/blogjava_net/robbie/WindowsLiveWriter/Spring_9C9C/Spring%E4%BA%8B%E5%8A%A1%E9%85%8D%E7%BD%AE%20(2).jpg"><IMG style="BORDER-RIGHT: 0px; BORDER-TOP: 0px; BORDER-LEFT: 0px; BORDER-BOTTOM: 0px" height="378" alt="Spring事务配置 (2)" src="./Spring事务配置的五种方式 - KILLKISS的日志 - 网易博客_files/Spring事务配置 (2)_thumb.jpg" width="654" border="0"></A> </P>
<P>&nbsp;&nbsp;&nbsp; 根据代理机制的不同，总结了五种Spring事务的配置方式，配置文件如下：</P>
<P>&nbsp;&nbsp;&nbsp; 第一种方式：每个Bean都有一个代理</P>
<DIV style="BORDER-RIGHT: rgb(204,204,204) 1px solid; PADDING-RIGHT: 5px; BORDER-TOP: rgb(204,204,204) 1px solid; PADDING-LEFT: 4px; FONT-SIZE: 13px; PADDING-BOTTOM: 4px; BORDER-LEFT: rgb(204,204,204) 1px solid; WIDTH: 98&percnt;; PADDING-TOP: 4px; BORDER-BOTTOM: rgb(204,204,204) 1px solid; BACKGROUND-COLOR: rgb(238,238,238)"><SPAN style="COLOR: rgb(0,0,255)">&lt;?</SPAN><SPAN style="COLOR: rgb(255,0,255)">xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;</SPAN><SPAN style="COLOR: rgb(0,0,255)">?&gt;</SPAN><SPAN style="COLOR: rgb(0,0,0)"><BR></SPAN><SPAN style="COLOR: rgb(0,0,255)">&lt;</SPAN><SPAN style="COLOR: rgb(128,0,0)">beans </SPAN><SPAN style="COLOR: rgb(255,0,0)">xmlns</SPAN><SPAN style="COLOR: rgb(0,0,255)">=&quot;http://www.springframework.org/schema/beans&quot;</SPAN><SPAN style="COLOR: rgb(255,0,0)"><BR>&nbsp;&nbsp;&nbsp; xmlns:xsi</SPAN><SPAN style="COLOR: rgb(0,0,255)">=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</SPAN><SPAN style="COLOR: rgb(255,0,0)"><BR>&nbsp;&nbsp;&nbsp; xmlns:context</SPAN><SPAN style="COLOR: rgb(0,0,255)">=&quot;http://www.springframework.org/schema/context&quot;</SPAN><SPAN style="COLOR: rgb(255,0,0)"><BR>&nbsp;&nbsp;&nbsp; xmlns:aop</SPAN><SPAN style="COLOR: rgb(0,0,255)">=&quot;http://www.springframework.org/schema/aop&quot;</SPAN><SPAN style="COLOR: rgb(255,0,0)"><BR></SPAN><SPAN style="COLOR: rgb(255,0,0)">&nbsp;&nbsp;&nbsp; xsi:schemaLocation</SPAN><SPAN style="COLOR: rgb(0,0,255)">=&quot;http://www.springframework.org/schema/beans <BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; http://www.springframework.org/schema/beans/spring-beans-2.5.xsd<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; http://www.springframework.org/schema/context<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; http://www.springframework.org/schema/context/spring-context-2.5.xsd<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; http://www.springframework.org/schema/aop http://www.springframework.org/schema/aop/spring-aop-2.5.xsd&quot;</SPAN><SPAN style="COLOR: rgb(0,0,255)">&gt;</SPAN><SPAN style="COLOR: rgb(0,0,0)"><BR><BR>&nbsp;&nbsp;&nbsp; </SPAN><SPAN style="COLOR: rgb(0,0,255)">&lt;</SPAN><SPAN style="COLOR: rgb(128,0,0)">bean </SPAN><SPAN style="COLOR: rgb(255,0,0)">id</SPAN><SPAN style="COLOR: rgb(0,0,255)">=&quot;sessionFactory&quot;</SPAN><SPAN style="COLOR: rgb(255,0,0)">&nbsp; <BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; class</SPAN><SPAN style="COLOR: rgb(0,0,255)">=&quot;org.springframework.orm.hibernate3.LocalSessionFactoryBean&quot;</SPAN><SPAN style="COLOR: rgb(0,0,255)">&gt;</SPAN><SPAN style="COLOR: rgb(0,0,0)">&nbsp; <BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </SPAN><SPAN style="COLOR: rgb(0,0,255)">&lt;</SPAN><SPAN style="COLOR: rgb(128,0,0)">property </SPAN><SPAN style="COLOR: rgb(255,0,0)">name</SPAN><SPAN style="COLOR: rgb(0,0,255)">=&quot;configLocation&quot;</SPAN><SPAN style="COLOR: rgb(255,0,0)"> value</SPAN><SPAN style="COLOR: rgb(0,0,255)">=&quot;classpath:hibernate.cfg.xml&quot;</SPAN><SPAN style="COLOR: rgb(255,0,0)">&nbsp;</SPAN><SPAN style="COLOR: rgb(0,0,255)">/&gt;</SPAN><SPAN style="COLOR: rgb(0,0,0)">&nbsp; <BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </SPAN><SPAN style="COLOR: rgb(0,0,255)">&lt;</SPAN><SPAN style="COLOR: rgb(128,0,0)">property </SPAN><SPAN style="COLOR: rgb(255,0,0)">name</SPAN><SPAN style="COLOR: rgb(0,0,255)">=&quot;configurationClass&quot;</SPAN><SPAN style="COLOR: rgb(255,0,0)"> value</SPAN><SPAN style="COLOR: rgb(0,0,255)">=&quot;org.hibernate.cfg.AnnotationConfiguration&quot;</SPAN><SPAN style="COLOR: rgb(255,0,0)">&nbsp;</SPAN><SPAN style="COLOR: rgb(0,0,255)">/&gt;</SPAN><SPAN style="COLOR: rgb(0,0,0)"><BR>&nbsp;&nbsp;&nbsp; </SPAN><SPAN style="COLOR: rgb(0,0,255)">&lt;/</SPAN><SPAN style="COLOR: rgb(128,0,0)">bean</SPAN><SPAN style="COLOR: rgb(0,0,255)">&gt;</SPAN><SPAN style="COLOR: rgb(0,0,0)">&nbsp; <BR><BR>&nbsp;&nbsp;&nbsp; </SPAN><SPAN style="COLOR: rgb(0,128,0)">&lt;!--</SPAN><SPAN style="COLOR: rgb(0,128,0)"> 定义事务管理器（声明式的事务） </SPAN><SPAN style="COLOR: rgb(0,128,0)">--&gt;</SPAN><SPAN style="COLOR: rgb(0,0,0)">&nbsp; <BR>&nbsp;&nbsp;&nbsp; </SPAN><SPAN style="COLOR: rgb(0,0,255)">&lt;</SPAN><SPAN style="COLOR: rgb(128,0,0)">bean </SPAN><SPAN style="COLOR: rgb(255,0,0)">id</SPAN><SPAN style="COLOR: rgb(0,0,255)">=&quot;transactionManager&quot;</SPAN><SPAN style="COLOR: rgb(255,0,0)"><BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; class</SPAN><SPAN style="COLOR: rgb(0,0,255)">=&quot;org.springframework.orm.hibernate3.HibernateTransactionManager&quot;</SPAN><SPAN style="COLOR: rgb(0,0,255)">&gt;</SPAN><SPAN style="COLOR: rgb(0,0,0)"><BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </SPAN><SPAN style="COLOR: rgb(0,0,255)">&lt;</SPAN><SPAN style="COLOR: rgb(128,0,0)">property </SPAN><SPAN style="COLOR: rgb(255,0,0)">name</SPAN><SPAN style="COLOR: rgb(0,0,255)">=&quot;sessionFactory&quot;</SPAN><SPAN style="COLOR: rgb(255,0,0)"> ref</SPAN><SPAN style="COLOR: rgb(0,0,255)">=&quot;sessionFactory&quot;</SPAN><SPAN style="COLOR: rgb(255,0,0)">&nbsp;</SPAN><SPAN style="COLOR: rgb(0,0,255)">/&gt;</SPAN><SPAN style="COLOR: rgb(0,0,0)"><BR>&nbsp;&nbsp;&nbsp; </SPAN><SPAN style="COLOR: rgb(0,0,255)">&lt;/</SPAN><SPAN style="COLOR: rgb(128,0,0)">bean</SPAN><SPAN style="COLOR: rgb(0,0,255)">&gt;</SPAN><SPAN style="COLOR: rgb(0,0,0)"><BR>&nbsp;&nbsp;&nbsp; <BR>&nbsp;&nbsp;&nbsp; </SPAN><SPAN style="COLOR: rgb(0,128,0)">&lt;!--</SPAN><SPAN style="COLOR: rgb(0,128,0)"> 配置DAO </SPAN><SPAN style="COLOR: rgb(0,128,0)">--&gt;</SPAN><SPAN style="COLOR: rgb(0,0,0)"><BR>&nbsp;&nbsp;&nbsp; </SPAN><SPAN style="COLOR: rgb(0,0,255)">&lt;</SPAN><SPAN style="COLOR: rgb(128,0,0)">bean </SPAN><SPAN style="COLOR: rgb(255,0,0)">id</SPAN><SPAN style="COLOR: rgb(0,0,255)">=&quot;userDaoTarget&quot;</SPAN><SPAN style="COLOR: rgb(255,0,0)"> class</SPAN><SPAN style="COLOR: rgb(0,0,255)">=&quot;com.bluesky.spring.dao.UserDaoImpl&quot;</SPAN><SPAN style="COLOR: rgb(0,0,255)">&gt;</SPAN><SPAN style="COLOR: rgb(0,0,0)"><BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </SPAN><SPAN style="COLOR: rgb(0,0,255)">&lt;</SPAN><SPAN style="COLOR: rgb(128,0,0)">property </SPAN><SPAN style="COLOR: rgb(255,0,0)">name</SPAN><SPAN style="COLOR: rgb(0,0,255)">=&quot;sessionFactory&quot;</SPAN><SPAN style="COLOR: rgb(255,0,0)"> ref</SPAN><SPAN style="COLOR: rgb(0,0,255)">=&quot;sessionFactory&quot;</SPAN><SPAN style="COLOR: rgb(255,0,0)">&nbsp;</SPAN><SPAN style="COLOR: rgb(0,0,255)">/&gt;</SPAN><SPAN style="COLOR: rgb(0,0,0)"><BR>&nbsp;&nbsp;&nbsp; </SPAN><SPAN style="COLOR: rgb(0,0,255)">&lt;/</SPAN><SPAN style="COLOR: rgb(128,0,0)">bean</SPAN><SPAN style="COLOR: rgb(0,0,255)">&gt;</SPAN><SPAN style="COLOR: rgb(0,0,0)"><BR>&nbsp;&nbsp;&nbsp; <BR>&nbsp;&nbsp;&nbsp; </SPAN><SPAN style="COLOR: rgb(0,0,255)">&lt;</SPAN><SPAN style="COLOR: rgb(128,0,0)">bean </SPAN><SPAN style="COLOR: rgb(255,0,0)">id</SPAN><SPAN style="COLOR: rgb(0,0,255)">=&quot;userDao&quot;</SPAN><SPAN style="COLOR: rgb(255,0,0)">&nbsp; <BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; class</SPAN><SPAN style="COLOR: rgb(0,0,255)">=&quot;org.springframework.transaction.interceptor.TransactionProxyFactoryBean&quot;</SPAN><SPAN style="COLOR: rgb(0,0,255)">&gt;</SPAN><SPAN style="COLOR: rgb(0,0,0)">&nbsp; <BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </SPAN><SPAN style="COLOR: rgb(0,128,0)">&lt;!--</SPAN><SPAN style="COLOR: rgb(0,128,0)"> 配置事务管理器 </SPAN><SPAN style="COLOR: rgb(0,128,0)">--&gt;</SPAN><SPAN style="COLOR: rgb(0,0,0)">&nbsp; <BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </SPAN><SPAN style="COLOR: rgb(0,0,255)">&lt;</SPAN><SPAN style="COLOR: rgb(128,0,0)">property </SPAN><SPAN style="COLOR: rgb(255,0,0)">name</SPAN><SPAN style="COLOR: rgb(0,0,255)">=&quot;transactionManager&quot;</SPAN><SPAN style="COLOR: rgb(255,0,0)"> ref</SPAN><SPAN style="COLOR: rgb(0,0,255)">=&quot;transactionManager&quot;</SPAN><SPAN style="COLOR: rgb(255,0,0)">&nbsp;</SPAN><SPAN style="COLOR: rgb(0,0,255)">/&gt;</SPAN><SPAN style="COLOR: rgb(0,0,0)">&nbsp;&nbsp;&nbsp;&nbsp; <BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </SPAN><SPAN style="COLOR: rgb(0,0,255)">&lt;</SPAN><SPAN style="COLOR: rgb(128,0,0)">property </SPAN><SPAN style="COLOR: rgb(255,0,0)">name</SPAN><SPAN style="COLOR: rgb(0,0,255)">=&quot;target&quot;</SPAN><SPAN style="COLOR: rgb(255,0,0)"> ref</SPAN><SPAN style="COLOR: rgb(0,0,255)">=&quot;userDaoTarget&quot;</SPAN><SPAN style="COLOR: rgb(255,0,0)">&nbsp;</SPAN><SPAN style="COLOR: rgb(0,0,255)">/&gt;</SPAN><SPAN style="COLOR: rgb(0,0,0)">&nbsp; <BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </SPAN><SPAN style="COLOR: rgb(0,0,255)">&lt;</SPAN><SPAN style="COLOR: rgb(128,0,0)">property </SPAN><SPAN style="COLOR: rgb(255,0,0)">name</SPAN><SPAN style="COLOR: rgb(0,0,255)">=&quot;proxyInterfaces&quot;</SPAN><SPAN style="COLOR: rgb(255,0,0)"> value</SPAN><SPAN style="COLOR: rgb(0,0,255)">=&quot;com.bluesky.spring.dao.GeneratorDao&quot;</SPAN><SPAN style="COLOR: rgb(255,0,0)">&nbsp;</SPAN><SPAN style="COLOR: rgb(0,0,255)">/&gt;</SPAN><SPAN style="COLOR: rgb(0,0,0)"><BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </SPAN><SPAN style="COLOR: rgb(0,128,0)">&lt;!--</SPAN><SPAN style="COLOR: rgb(0,128,0)"> 配置事务属性 </SPAN><SPAN style="COLOR: rgb(0,128,0)">--&gt;</SPAN><SPAN style="COLOR: rgb(0,0,0)">&nbsp; <BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </SPAN><SPAN style="COLOR: rgb(0,0,255)">&lt;</SPAN><SPAN style="COLOR: rgb(128,0,0)">property </SPAN><SPAN style="COLOR: rgb(255,0,0)">name</SPAN><SPAN style="COLOR: rgb(0,0,255)">=&quot;transactionAttributes&quot;</SPAN><SPAN style="COLOR: rgb(0,0,255)">&gt;</SPAN><SPAN style="COLOR: rgb(0,0,0)">&nbsp; <BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </SPAN><SPAN style="COLOR: rgb(0,0,255)">&lt;</SPAN><SPAN style="COLOR: rgb(128,0,0)">props</SPAN><SPAN style="COLOR: rgb(0,0,255)">&gt;</SPAN><SPAN style="COLOR: rgb(0,0,0)">&nbsp; <BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </SPAN><SPAN style="COLOR: rgb(0,0,255)">&lt;</SPAN><SPAN style="COLOR: rgb(128,0,0)">prop </SPAN><SPAN style="COLOR: rgb(255,0,0)">key</SPAN><SPAN style="COLOR: rgb(0,0,255)">=&quot;*&quot;</SPAN><SPAN style="COLOR: rgb(0,0,255)">&gt;</SPAN><SPAN style="COLOR: rgb(0,0,0)">PROPAGATION_REQUIRED</SPAN><SPAN style="COLOR: rgb(0,0,255)">&lt;/</SPAN><SPAN style="COLOR: rgb(128,0,0)">prop</SPAN><SPAN style="COLOR: rgb(0,0,255)">&gt;</SPAN><SPAN style="COLOR: rgb(0,0,0)"><BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </SPAN><SPAN style="COLOR: rgb(0,0,255)">&lt;/</SPAN><SPAN style="COLOR: rgb(128,0,0)">props</SPAN><SPAN style="COLOR: rgb(0,0,255)">&gt;</SPAN><SPAN style="COLOR: rgb(0,0,0)">&nbsp; <BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </SPAN><SPAN style="COLOR: rgb(0,0,255)">&lt;/</SPAN><SPAN style="COLOR: rgb(128,0,0)">property</SPAN><SPAN style="COLOR: rgb(0,0,255)">&gt;</SPAN><SPAN style="COLOR: rgb(0,0,0)">&nbsp; <BR>&nbsp;&nbsp;&nbsp; </SPAN><SPAN style="COLOR: rgb(0,0,255)">&lt;/</SPAN><SPAN style="COLOR: rgb(128,0,0)">bean</SPAN><SPAN style="COLOR: rgb(0,0,255)">&gt;</SPAN><SPAN style="COLOR: rgb(0,0,0)">&nbsp; </SPAN><SPAN style="COLOR: rgb(0,0,0)"><BR></SPAN><SPAN style="COLOR: rgb(0,0,255)">&lt;/</SPAN><SPAN style="COLOR: rgb(128,0,0)">beans</SPAN><SPAN style="COLOR: rgb(0,0,255)">&gt;</SPAN></DIV>
<P>&nbsp;&nbsp;&nbsp; 第二种方式：所有Bean共享一个代理基类</P>
<DIV style="BORDER-RIGHT: rgb(204,204,204) 1px solid; PADDING-RIGHT: 5px; BORDER-TOP: rgb(204,204,204) 1px solid; PADDING-LEFT: 4px; FONT-SIZE: 13px; PADDING-BOTTOM: 4px; BORDER-LEFT: rgb(204,204,204) 1px solid; WIDTH: 98&percnt;; PADDING-TOP: 4px; BORDER-BOTTOM: rgb(204,204,204) 1px solid; BACKGROUND-COLOR: rgb(238,238,238)"><SPAN style="COLOR: rgb(0,0,255)">&lt;?</SPAN><SPAN style="COLOR: rgb(255,0,255)">xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;</SPAN><SPAN style="COLOR: rgb(0,0,255)">?&gt;</SPAN><SPAN style="COLOR: rgb(0,0,0)"><BR></SPAN><SPAN style="COLOR: rgb(0,0,255)">&lt;</SPAN><SPAN style="COLOR: rgb(128,0,0)">beans </SPAN><SPAN style="COLOR: rgb(255,0,0)">xmlns</SPAN><SPAN style="COLOR: rgb(0,0,255)">=&quot;http://www.springframework.org/schema/beans&quot;</SPAN><SPAN style="COLOR: rgb(255,0,0)"><BR>&nbsp;&nbsp;&nbsp; xmlns:xsi</SPAN><SPAN style="COLOR: rgb(0,0,255)">=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</SPAN><SPAN style="COLOR: rgb(255,0,0)"><BR>&nbsp;&nbsp;&nbsp; xmlns:context</SPAN><SPAN style="COLOR: rgb(0,0,255)">=&quot;http://www.springframework.org/schema/context&quot;</SPAN><SPAN style="COLOR: rgb(255,0,0)"><BR>&nbsp;&nbsp;&nbsp; xmlns:aop</SPAN><SPAN style="COLOR: rgb(0,0,255)">=&quot;http://www.springframework.org/schema/aop&quot;</SPAN><SPAN style="COLOR: rgb(255,0,0)"><BR>&nbsp;&nbsp;&nbsp; xsi:schemaLocation</SPAN><SPAN style="COLOR: rgb(0,0,255)">=&quot;http://www.springframework.org/schema/beans <BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; http://www.springframework.org/schema/beans/spring-beans-2.5.xsd<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; http://www.springframework.org/schema/context<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; http://www.springframework.org/schema/context/spring-context-2.5.xsd<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; http://www.springframework.org/schema/aop http://www.springframework.org/schema/aop/spring-aop-2.5.xsd&quot;</SPAN><SPAN style="COLOR: rgb(0,0,255)">&gt;</SPAN><SPAN style="COLOR: rgb(0,0,0)"><BR><BR>&nbsp;&nbsp;&nbsp; </SPAN><SPAN style="COLOR: rgb(0,0,255)">&lt;</SPAN><SPAN style="COLOR: rgb(128,0,0)">bean </SPAN><SPAN style="COLOR: rgb(255,0,0)">id</SPAN><SPAN style="COLOR: rgb(0,0,255)">=&quot;sessionFactory&quot;</SPAN><SPAN style="COLOR: rgb(255,0,0)">&nbsp; <BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; class</SPAN><SPAN style="COLOR: rgb(0,0,255)">=&quot;org.springframework.orm.hibernate3.LocalSessionFactoryBean&quot;</SPAN><SPAN style="COLOR: rgb(0,0,255)">&gt;</SPAN><SPAN style="COLOR: rgb(0,0,0)">&nbsp; <BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </SPAN><SPAN style="COLOR: rgb(0,0,255)">&lt;</SPAN><SPAN style="COLOR: rgb(128,0,0)">property </SPAN><SPAN style="COLOR: rgb(255,0,0)">name</SPAN><SPAN style="COLOR: rgb(0,0,255)">=&quot;configLocation&quot;</SPAN><SPAN style="COLOR: rgb(255,0,0)"> value</SPAN><SPAN style="COLOR: rgb(0,0,255)">=&quot;classpath:hibernate.cfg.xml&quot;</SPAN><SPAN style="COLOR: rgb(255,0,0)">&nbsp;</SPAN><SPAN style="COLOR: rgb(0,0,255)">/&gt;</SPAN><SPAN style="COLOR: rgb(0,0,0)">&nbsp; <BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </SPAN><SPAN style="COLOR: rgb(0,0,255)">&lt;</SPAN><SPAN style="COLOR: rgb(128,0,0)">property </SPAN><SPAN style="COLOR: rgb(255,0,0)">name</SPAN><SPAN style="COLOR: rgb(0,0,255)">=&quot;configurationClass&quot;</SPAN><SPAN style="COLOR: rgb(255,0,0)"> value</SPAN><SPAN style="COLOR: rgb(0,0,255)">=&quot;org.hibernate.cfg.AnnotationConfiguration&quot;</SPAN><SPAN style="COLOR: rgb(255,0,0)">&nbsp;</SPAN><SPAN style="COLOR: rgb(0,0,255)">/&gt;</SPAN><SPAN style="COLOR: rgb(0,0,0)"><BR>&nbsp;&nbsp;&nbsp; </SPAN><SPAN style="COLOR: rgb(0,0,255)">&lt;/</SPAN><SPAN style="COLOR: rgb(128,0,0)">bean</SPAN><SPAN style="COLOR: rgb(0,0,255)">&gt;</SPAN><SPAN style="COLOR: rgb(0,0,0)">&nbsp; <BR><BR>&nbsp;&nbsp;&nbsp; </SPAN><SPAN style="COLOR: rgb(0,128,0)">&lt;!--</SPAN><SPAN style="COLOR: rgb(0,128,0)"> 定义事务管理器（声明式的事务） </SPAN><SPAN style="COLOR: rgb(0,128,0)">--&gt;</SPAN><SPAN style="COLOR: rgb(0,0,0)">&nbsp; <BR>&nbsp;&nbsp;&nbsp; </SPAN><SPAN style="COLOR: rgb(0,0,255)">&lt;</SPAN><SPAN style="COLOR: rgb(128,0,0)">bean </SPAN><SPAN style="COLOR: rgb(255,0,0)">id</SPAN><SPAN style="COLOR: rgb(0,0,255)">=&quot;transactionManager&quot;</SPAN><SPAN style="COLOR: rgb(255,0,0)"><BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; class</SPAN><SPAN style="COLOR: rgb(0,0,255)">=&quot;org.springframework.orm.hibernate3.HibernateTransactionManager&quot;</SPAN><SPAN style="COLOR: rgb(0,0,255)">&gt;</SPAN><SPAN style="COLOR: rgb(0,0,0)"><BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </SPAN><SPAN style="COLOR: rgb(0,0,255)">&lt;</SPAN><SPAN style="COLOR: rgb(128,0,0)">property </SPAN><SPAN style="COLOR: rgb(255,0,0)">name</SPAN><SPAN style="COLOR: rgb(0,0,255)">=&quot;sessionFactory&quot;</SPAN><SPAN style="COLOR: rgb(255,0,0)"> ref</SPAN><SPAN style="COLOR: rgb(0,0,255)">=&quot;sessionFactory&quot;</SPAN><SPAN style="COLOR: rgb(255,0,0)">&nbsp;</SPAN><SPAN style="COLOR: rgb(0,0,255)">/&gt;</SPAN><SPAN style="COLOR: rgb(0,0,0)"><BR>&nbsp;&nbsp;&nbsp; </SPAN><SPAN style="COLOR: rgb(0,0,255)">&lt;/</SPAN><SPAN style="COLOR: rgb(128,0,0)">bean</SPAN><SPAN style="COLOR: rgb(0,0,255)">&gt;</SPAN><SPAN style="COLOR: rgb(0,0,0)"><BR>&nbsp;&nbsp;&nbsp; <BR>&nbsp;&nbsp;&nbsp; </SPAN><SPAN style="COLOR: rgb(0,0,255)">&lt;</SPAN><SPAN style="COLOR: rgb(128,0,0)">bean </SPAN><SPAN style="COLOR: rgb(255,0,0)">id</SPAN><SPAN style="COLOR: rgb(0,0,255)">=&quot;transactionBase&quot;</SPAN><SPAN style="COLOR: rgb(255,0,0)">&nbsp; <BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; class</SPAN><SPAN style="COLOR: rgb(0,0,255)">=&quot;org.springframework.transaction.interceptor.TransactionProxyFactoryBean&quot;</SPAN><SPAN style="COLOR: rgb(255,0,0)">&nbsp; <BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; lazy-init</SPAN><SPAN style="COLOR: rgb(0,0,255)">=&quot;true&quot;</SPAN><SPAN style="COLOR: rgb(255,0,0)"> abstract</SPAN><SPAN style="COLOR: rgb(0,0,255)">=&quot;true&quot;</SPAN><SPAN style="COLOR: rgb(0,0,255)">&gt;</SPAN><SPAN style="COLOR: rgb(0,0,0)">&nbsp; <BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </SPAN><SPAN style="COLOR: rgb(0,128,0)">&lt;!--</SPAN><SPAN style="COLOR: rgb(0,128,0)"> 配置事务管理器 </SPAN><SPAN style="COLOR: rgb(0,128,0)">--&gt;</SPAN><SPAN style="COLOR: rgb(0,0,0)">&nbsp; <BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </SPAN><SPAN style="COLOR: rgb(0,0,255)">&lt;</SPAN><SPAN style="COLOR: rgb(128,0,0)">property </SPAN><SPAN style="COLOR: rgb(255,0,0)">name</SPAN><SPAN style="COLOR: rgb(0,0,255)">=&quot;transactionManager&quot;</SPAN><SPAN style="COLOR: rgb(255,0,0)"> ref</SPAN><SPAN style="COLOR: rgb(0,0,255)">=&quot;transactionManager&quot;</SPAN><SPAN style="COLOR: rgb(255,0,0)">&nbsp;</SPAN><SPAN style="COLOR: rgb(0,0,255)">/&gt;</SPAN><SPAN style="COLOR: rgb(0,0,0)">&nbsp; <BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </SPAN><SPAN style="COLOR: rgb(0,128,0)">&lt;!--</SPAN><SPAN style="COLOR: rgb(0,128,0)"> 配置事务属性 </SPAN><SPAN style="COLOR: rgb(0,128,0)">--&gt;</SPAN><SPAN style="COLOR: rgb(0,0,0)">&nbsp; <BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </SPAN><SPAN style="COLOR: rgb(0,0,255)">&lt;</SPAN><SPAN style="COLOR: rgb(128,0,0)">property </SPAN><SPAN style="COLOR: rgb(255,0,0)">name</SPAN><SPAN style="COLOR: rgb(0,0,255)">=&quot;transactionAttributes&quot;</SPAN><SPAN style="COLOR: rgb(0,0,255)">&gt;</SPAN><SPAN style="COLOR: rgb(0,0,0)">&nbsp; <BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </SPAN><SPAN style="COLOR: rgb(0,0,255)">&lt;</SPAN><SPAN style="COLOR: rgb(128,0,0)">props</SPAN><SPAN style="COLOR: rgb(0,0,255)">&gt;</SPAN><SPAN style="COLOR: rgb(0,0,0)">&nbsp; <BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </SPAN><SPAN style="COLOR: rgb(0,0,255)">&lt;</SPAN><SPAN style="COLOR: rgb(128,0,0)">prop </SPAN><SPAN style="COLOR: rgb(255,0,0)">key</SPAN><SPAN style="COLOR: rgb(0,0,255)">=&quot;*&quot;</SPAN><SPAN style="COLOR: rgb(0,0,255)">&gt;</SPAN><SPAN style="COLOR: rgb(0,0,0)">PROPAGATION_REQUIRED</SPAN><SPAN style="COLOR: rgb(0,0,255)">&lt;/</SPAN><SPAN style="COLOR: rgb(128,0,0)">prop</SPAN><SPAN style="COLOR: rgb(0,0,255)">&gt;</SPAN><SPAN style="COLOR: rgb(0,0,0)">&nbsp; <BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </SPAN><SPAN style="COLOR: rgb(0,0,255)">&lt;/</SPAN><SPAN style="COLOR: rgb(128,0,0)">props</SPAN><SPAN style="COLOR: rgb(0,0,255)">&gt;</SPAN><SPAN style="COLOR: rgb(0,0,0)">&nbsp; <BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </SPAN><SPAN style="COLOR: rgb(0,0,255)">&lt;/</SPAN><SPAN style="COLOR: rgb(128,0,0)">property</SPAN><SPAN style="COLOR: rgb(0,0,255)">&gt;</SPAN><SPAN style="COLOR: rgb(0,0,0)">&nbsp; <BR>&nbsp;&nbsp;&nbsp; </SPAN><SPAN style="COLOR: rgb(0,0,255)">&lt;/</SPAN><SPAN style="COLOR: rgb(128,0,0)">bean</SPAN><SPAN style="COLOR: rgb(0,0,255)">&gt;</SPAN><SPAN style="COLOR: rgb(0,0,0)">&nbsp;&nbsp;&nbsp; <BR>&nbsp;&nbsp; <BR>&nbsp;&nbsp;&nbsp; </SPAN><SPAN style="COLOR: rgb(0,128,0)">&lt;!--</SPAN><SPAN style="COLOR: rgb(0,128,0)"> 配置DAO </SPAN><SPAN style="COLOR: rgb(0,128,0)">--&gt;</SPAN><SPAN style="COLOR: rgb(0,0,0)"><BR>&nbsp;&nbsp;&nbsp; </SPAN><SPAN style="COLOR: rgb(0,0,255)">&lt;</SPAN><SPAN style="COLOR: rgb(128,0,0)">bean </SPAN><SPAN style="COLOR: rgb(255,0,0)">id</SPAN><SPAN style="COLOR: rgb(0,0,255)">=&quot;userDaoTarget&quot;</SPAN><SPAN style="COLOR: rgb(255,0,0)"> class</SPAN><SPAN style="COLOR: rgb(0,0,255)">=&quot;com.bluesky.spring.dao.UserDaoImpl&quot;</SPAN><SPAN style="COLOR: rgb(0,0,255)">&gt;</SPAN><SPAN style="COLOR: rgb(0,0,0)"><BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </SPAN><SPAN style="COLOR: rgb(0,0,255)">&lt;</SPAN><SPAN style="COLOR: rgb(128,0,0)">property </SPAN><SPAN style="COLOR: rgb(255,0,0)">name</SPAN><SPAN style="COLOR: rgb(0,0,255)">=&quot;sessionFactory&quot;</SPAN><SPAN style="COLOR: rgb(255,0,0)"> ref</SPAN><SPAN style="COLOR: rgb(0,0,255)">=&quot;sessionFactory&quot;</SPAN><SPAN style="COLOR: rgb(255,0,0)">&nbsp;</SPAN><SPAN style="COLOR: rgb(0,0,255)">/&gt;</SPAN><SPAN style="COLOR: rgb(0,0,0)"><BR>&nbsp;&nbsp;&nbsp; </SPAN><SPAN style="COLOR: rgb(0,0,255)">&lt;/</SPAN><SPAN style="COLOR: rgb(128,0,0)">bean</SPAN><SPAN style="COLOR: rgb(0,0,255)">&gt;</SPAN><SPAN style="COLOR: rgb(0,0,0)"><BR>&nbsp;&nbsp;&nbsp; <BR>&nbsp;&nbsp;&nbsp; </SPAN><SPAN style="COLOR: rgb(0,0,255)">&lt;</SPAN><SPAN style="COLOR: rgb(128,0,0)">bean </SPAN><SPAN style="COLOR: rgb(255,0,0)">id</SPAN><SPAN style="COLOR: rgb(0,0,255)">=&quot;userDao&quot;</SPAN><SPAN style="COLOR: rgb(255,0,0)"> parent</SPAN><SPAN style="COLOR: rgb(0,0,255)">=&quot;transactionBase&quot;</SPAN><SPAN style="COLOR: rgb(255,0,0)">&nbsp;</SPAN><SPAN style="COLOR: rgb(0,0,255)">&gt;</SPAN><SPAN style="COLOR: rgb(0,0,0)">&nbsp; <BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </SPAN><SPAN style="COLOR: rgb(0,0,255)">&lt;</SPAN><SPAN style="COLOR: rgb(128,0,0)">property </SPAN><SPAN style="COLOR: rgb(255,0,0)">name</SPAN><SPAN style="COLOR: rgb(0,0,255)">=&quot;target&quot;</SPAN><SPAN style="COLOR: rgb(255,0,0)"> ref</SPAN><SPAN style="COLOR: rgb(0,0,255)">=&quot;userDaoTarget&quot;</SPAN><SPAN style="COLOR: rgb(255,0,0)">&nbsp;</SPAN><SPAN style="COLOR: rgb(0,0,255)">/&gt;</SPAN><SPAN style="COLOR: rgb(0,0,0)">&nbsp;&nbsp; <BR>&nbsp;&nbsp;&nbsp; </SPAN><SPAN style="COLOR: rgb(0,0,255)">&lt;/</SPAN><SPAN style="COLOR: rgb(128,0,0)">bean</SPAN><SPAN style="COLOR: rgb(0,0,255)">&gt;</SPAN><SPAN style="COLOR: rgb(0,0,0)"><BR></SPAN><SPAN style="COLOR: rgb(0,0,255)">&lt;/</SPAN><SPAN style="COLOR: rgb(128,0,0)">beans</SPAN><SPAN style="COLOR: rgb(0,0,255)">&gt;</SPAN></DIV>
<P>第三种方式：使用拦截器</P>
<DIV style="BORDER-RIGHT: rgb(204,204,204) 1px solid; PADDING-RIGHT: 5px; BORDER-TOP: rgb(204,204,204) 1px solid; PADDING-LEFT: 4px; FONT-SIZE: 13px; PADDING-BOTTOM: 4px; BORDER-LEFT: rgb(204,204,204) 1px solid; WIDTH: 98&percnt;; PADDING-TOP: 4px; BORDER-BOTTOM: rgb(204,204,204) 1px solid; BACKGROUND-COLOR: rgb(238,238,238)"><SPAN style="COLOR: rgb(0,0,255)">&lt;?</SPAN><SPAN style="COLOR: rgb(255,0,255)">xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;</SPAN><SPAN style="COLOR: rgb(0,0,255)">?&gt;</SPAN><SPAN style="COLOR: rgb(0,0,0)"><BR></SPAN><SPAN style="COLOR: rgb(0,0,255)">&lt;</SPAN><SPAN style="COLOR: rgb(128,0,0)">beans </SPAN><SPAN style="COLOR: rgb(255,0,0)">xmlns</SPAN><SPAN style="COLOR: rgb(0,0,255)">=&quot;http://www.springframework.org/schema/beans&quot;</SPAN><SPAN style="COLOR: rgb(255,0,0)"><BR>&nbsp;&nbsp;&nbsp; xmlns:xsi</SPAN><SPAN style="COLOR: rgb(0,0,255)">=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</SPAN><SPAN style="COLOR: rgb(255,0,0)"><BR>&nbsp;&nbsp;&nbsp; xmlns:context</SPAN><SPAN style="COLOR: rgb(0,0,255)">=&quot;http://www.springframework.org/schema/context&quot;</SPAN><SPAN style="COLOR: rgb(255,0,0)"><BR>&nbsp;&nbsp;&nbsp; xmlns:aop</SPAN><SPAN style="COLOR: rgb(0,0,255)">=&quot;http://www.springframework.org/schema/aop&quot;</SPAN><SPAN style="COLOR: rgb(255,0,0)"><BR></SPAN><SPAN style="COLOR: rgb(255,0,0)">&nbsp;&nbsp;&nbsp; xsi:schemaLocation</SPAN><SPAN style="COLOR: rgb(0,0,255)">=&quot;http://www.springframework.org/schema/beans <BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; http://www.springframework.org/schema/beans/spring-beans-2.5.xsd<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; http://www.springframework.org/schema/context<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; http://www.springframework.org/schema/context/spring-context-2.5.xsd<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; http://www.springframework.org/schema/aop http://www.springframework.org/schema/aop/spring-aop-2.5.xsd&quot;</SPAN><SPAN style="COLOR: rgb(0,0,255)">&gt;</SPAN><SPAN style="COLOR: rgb(0,0,0)"><BR><BR>&nbsp;&nbsp;&nbsp; </SPAN><SPAN style="COLOR: rgb(0,0,255)">&lt;</SPAN><SPAN style="COLOR: rgb(128,0,0)">bean </SPAN><SPAN style="COLOR: rgb(255,0,0)">id</SPAN><SPAN style="COLOR: rgb(0,0,255)">=&quot;sessionFactory&quot;</SPAN><SPAN style="COLOR: rgb(255,0,0)">&nbsp; <BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; class</SPAN><SPAN style="COLOR: rgb(0,0,255)">=&quot;org.springframework.orm.hibernate3.LocalSessionFactoryBean&quot;</SPAN><SPAN style="COLOR: rgb(0,0,255)">&gt;</SPAN><SPAN style="COLOR: rgb(0,0,0)">&nbsp; <BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </SPAN><SPAN style="COLOR: rgb(0,0,255)">&lt;</SPAN><SPAN style="COLOR: rgb(128,0,0)">property </SPAN><SPAN style="COLOR: rgb(255,0,0)">name</SPAN><SPAN style="COLOR: rgb(0,0,255)">=&quot;configLocation&quot;</SPAN><SPAN style="COLOR: rgb(255,0,0)"> value</SPAN><SPAN style="COLOR: rgb(0,0,255)">=&quot;classpath:hibernate.cfg.xml&quot;</SPAN><SPAN style="COLOR: rgb(255,0,0)">&nbsp;</SPAN><SPAN style="COLOR: rgb(0,0,255)">/&gt;</SPAN><SPAN style="COLOR: rgb(0,0,0)">&nbsp; <BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </SPAN><SPAN style="COLOR: rgb(0,0,255)">&lt;</SPAN><SPAN style="COLOR: rgb(128,0,0)">property </SPAN><SPAN style="COLOR: rgb(255,0,0)">name</SPAN><SPAN style="COLOR: rgb(0,0,255)">=&quot;configurationClass&quot;</SPAN><SPAN style="COLOR: rgb(255,0,0)"> value</SPAN><SPAN style="COLOR: rgb(0,0,255)">=&quot;org.hibernate.cfg.AnnotationConfiguration&quot;</SPAN><SPAN style="COLOR: rgb(255,0,0)">&nbsp;</SPAN><SPAN style="COLOR: rgb(0,0,255)">/&gt;</SPAN><SPAN style="COLOR: rgb(0,0,0)"><BR>&nbsp;&nbsp;&nbsp; </SPAN><SPAN style="COLOR: rgb(0,0,255)">&lt;/</SPAN><SPAN style="COLOR: rgb(128,0,0)">bean</SPAN><SPAN style="COLOR: rgb(0,0,255)">&gt;</SPAN><SPAN style="COLOR: rgb(0,0,0)">&nbsp; <BR><BR>&nbsp;&nbsp;&nbsp; </SPAN><SPAN style="COLOR: rgb(0,128,0)">&lt;!--</SPAN><SPAN style="COLOR: rgb(0,128,0)"> 定义事务管理器（声明式的事务） </SPAN><SPAN style="COLOR: rgb(0,128,0)">--&gt;</SPAN><SPAN style="COLOR: rgb(0,0,0)">&nbsp; <BR>&nbsp;&nbsp;&nbsp; </SPAN><SPAN style="COLOR: rgb(0,0,255)">&lt;</SPAN><SPAN style="COLOR: rgb(128,0,0)">bean </SPAN><SPAN style="COLOR: rgb(255,0,0)">id</SPAN><SPAN style="COLOR: rgb(0,0,255)">=&quot;transactionManager&quot;</SPAN><SPAN style="COLOR: rgb(255,0,0)"><BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; class</SPAN><SPAN style="COLOR: rgb(0,0,255)">=&quot;org.springframework.orm.hibernate3.HibernateTransactionManager&quot;</SPAN><SPAN style="COLOR: rgb(0,0,255)">&gt;</SPAN><SPAN style="COLOR: rgb(0,0,0)"><BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </SPAN><SPAN style="COLOR: rgb(0,0,255)">&lt;</SPAN><SPAN style="COLOR: rgb(128,0,0)">property </SPAN><SPAN style="COLOR: rgb(255,0,0)">name</SPAN><SPAN style="COLOR: rgb(0,0,255)">=&quot;sessionFactory&quot;</SPAN><SPAN style="COLOR: rgb(255,0,0)"> ref</SPAN><SPAN style="COLOR: rgb(0,0,255)">=&quot;sessionFactory&quot;</SPAN><SPAN style="COLOR: rgb(255,0,0)">&nbsp;</SPAN><SPAN style="COLOR: rgb(0,0,255)">/&gt;</SPAN><SPAN style="COLOR: rgb(0,0,0)"><BR>&nbsp;&nbsp;&nbsp; </SPAN><SPAN style="COLOR: rgb(0,0,255)">&lt;/</SPAN><SPAN style="COLOR: rgb(128,0,0)">bean</SPAN><SPAN style="COLOR: rgb(0,0,255)">&gt;</SPAN><SPAN style="COLOR: rgb(0,0,0)">&nbsp;<BR>&nbsp;&nbsp; <BR>&nbsp;&nbsp;&nbsp; </SPAN><SPAN style="COLOR: rgb(0,0,255)">&lt;</SPAN><SPAN style="COLOR: rgb(128,0,0)">bean </SPAN><SPAN style="COLOR: rgb(255,0,0)">id</SPAN><SPAN style="COLOR: rgb(0,0,255)">=&quot;transactionInterceptor&quot;</SPAN><SPAN style="COLOR: rgb(255,0,0)">&nbsp; <BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; class</SPAN><SPAN style="COLOR: rgb(0,0,255)">=&quot;org.springframework.transaction.interceptor.TransactionInterceptor&quot;</SPAN><SPAN style="COLOR: rgb(0,0,255)">&gt;</SPAN><SPAN style="COLOR: rgb(0,0,0)">&nbsp; <BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </SPAN><SPAN style="COLOR: rgb(0,0,255)">&lt;</SPAN><SPAN style="COLOR: rgb(128,0,0)">property </SPAN><SPAN style="COLOR: rgb(255,0,0)">name</SPAN><SPAN style="COLOR: rgb(0,0,255)">=&quot;transactionManager&quot;</SPAN><SPAN style="COLOR: rgb(255,0,0)"> ref</SPAN><SPAN style="COLOR: rgb(0,0,255)">=&quot;transactionManager&quot;</SPAN><SPAN style="COLOR: rgb(255,0,0)">&nbsp;</SPAN><SPAN style="COLOR: rgb(0,0,255)">/&gt;</SPAN><SPAN style="COLOR: rgb(0,0,0)">&nbsp; <BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </SPAN><SPAN style="COLOR: rgb(0,128,0)">&lt;!--</SPAN><SPAN style="COLOR: rgb(0,128,0)"> 配置事务属性 </SPAN><SPAN style="COLOR: rgb(0,128,0)">--&gt;</SPAN><SPAN style="COLOR: rgb(0,0,0)">&nbsp; <BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </SPAN><SPAN style="COLOR: rgb(0,0,255)">&lt;</SPAN><SPAN style="COLOR: rgb(128,0,0)">property </SPAN><SPAN style="COLOR: rgb(255,0,0)">name</SPAN><SPAN style="COLOR: rgb(0,0,255)">=&quot;transactionAttributes&quot;</SPAN><SPAN style="COLOR: rgb(0,0,255)">&gt;</SPAN><SPAN style="COLOR: rgb(0,0,0)">&nbsp; <BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </SPAN><SPAN style="COLOR: rgb(0,0,255)">&lt;</SPAN><SPAN style="COLOR: rgb(128,0,0)">props</SPAN><SPAN style="COLOR: rgb(0,0,255)">&gt;</SPAN><SPAN style="COLOR: rgb(0,0,0)">&nbsp; <BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </SPAN><SPAN style="COLOR: rgb(0,0,255)">&lt;</SPAN><SPAN style="COLOR: rgb(128,0,0)">prop </SPAN><SPAN style="COLOR: rgb(255,0,0)">key</SPAN><SPAN style="COLOR: rgb(0,0,255)">=&quot;*&quot;</SPAN><SPAN style="COLOR: rgb(0,0,255)">&gt;</SPAN><SPAN style="COLOR: rgb(0,0,0)">PROPAGATION_REQUIRED</SPAN><SPAN style="COLOR: rgb(0,0,255)">&lt;/</SPAN><SPAN style="COLOR: rgb(128,0,0)">prop</SPAN><SPAN style="COLOR: rgb(0,0,255)">&gt;</SPAN><SPAN style="COLOR: rgb(0,0,0)">&nbsp; <BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </SPAN><SPAN style="COLOR: rgb(0,0,255)">&lt;/</SPAN><SPAN style="COLOR: rgb(128,0,0)">props</SPAN><SPAN style="COLOR: rgb(0,0,255)">&gt;</SPAN><SPAN style="COLOR: rgb(0,0,0)">&nbsp; <BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </SPAN><SPAN style="COLOR: rgb(0,0,255)">&lt;/</SPAN><SPAN style="COLOR: rgb(128,0,0)">property</SPAN><SPAN style="COLOR: rgb(0,0,255)">&gt;</SPAN><SPAN style="COLOR: rgb(0,0,0)">&nbsp; <BR>&nbsp;&nbsp;&nbsp; </SPAN><SPAN style="COLOR: rgb(0,0,255)">&lt;/</SPAN><SPAN style="COLOR: rgb(128,0,0)">bean</SPAN><SPAN style="COLOR: rgb(0,0,255)">&gt;</SPAN><SPAN style="COLOR: rgb(0,0,0)"><BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <BR>&nbsp;&nbsp;&nbsp; </SPAN><SPAN style="COLOR: rgb(0,0,255)">&lt;</SPAN><SPAN style="COLOR: rgb(128,0,0)">bean </SPAN><SPAN style="COLOR: rgb(255,0,0)">class</SPAN><SPAN style="COLOR: rgb(0,0,255)">=&quot;org.springframework.aop.framework.autoproxy.BeanNameAutoProxyCreator&quot;</SPAN><SPAN style="COLOR: rgb(0,0,255)">&gt;</SPAN><SPAN style="COLOR: rgb(0,0,0)">&nbsp; <BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </SPAN><SPAN style="COLOR: rgb(0,0,255)">&lt;</SPAN><SPAN style="COLOR: rgb(128,0,0)">property </SPAN><SPAN style="COLOR: rgb(255,0,0)">name</SPAN><SPAN style="COLOR: rgb(0,0,255)">=&quot;beanNames&quot;</SPAN><SPAN style="COLOR: rgb(0,0,255)">&gt;</SPAN><SPAN style="COLOR: rgb(0,0,0)">&nbsp; <BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </SPAN><SPAN style="COLOR: rgb(0,0,255)">&lt;</SPAN><SPAN style="COLOR: rgb(128,0,0)">list</SPAN><SPAN style="COLOR: rgb(0,0,255)">&gt;</SPAN><SPAN style="COLOR: rgb(0,0,0)">&nbsp; <BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </SPAN><SPAN style="COLOR: rgb(0,0,255)">&lt;</SPAN><SPAN style="COLOR: rgb(128,0,0)">value</SPAN><SPAN style="COLOR: rgb(0,0,255)">&gt;</SPAN><SPAN style="COLOR: rgb(0,0,0)">*Dao</SPAN><SPAN style="COLOR: rgb(0,0,255)">&lt;/</SPAN><SPAN style="COLOR: rgb(128,0,0)">value</SPAN><SPAN style="COLOR: rgb(0,0,255)">&gt;</SPAN><SPAN style="COLOR: rgb(0,0,0)"><BR></SPAN><SPAN style="COLOR: rgb(0,0,0)">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </SPAN><SPAN style="COLOR: rgb(0,0,255)">&lt;/</SPAN><SPAN style="COLOR: rgb(128,0,0)">list</SPAN><SPAN style="COLOR: rgb(0,0,255)">&gt;</SPAN><SPAN style="COLOR: rgb(0,0,0)">&nbsp; <BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </SPAN><SPAN style="COLOR: rgb(0,0,255)">&lt;/</SPAN><SPAN style="COLOR: rgb(128,0,0)">property</SPAN><SPAN style="COLOR: rgb(0,0,255)">&gt;</SPAN><SPAN style="COLOR: rgb(0,0,0)">&nbsp; <BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </SPAN><SPAN style="COLOR: rgb(0,0,255)">&lt;</SPAN><SPAN style="COLOR: rgb(128,0,0)">property </SPAN><SPAN style="COLOR: rgb(255,0,0)">name</SPAN><SPAN style="COLOR: rgb(0,0,255)">=&quot;interceptorNames&quot;</SPAN><SPAN style="COLOR: rgb(0,0,255)">&gt;</SPAN><SPAN style="COLOR: rgb(0,0,0)">&nbsp; <BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </SPAN><SPAN style="COLOR: rgb(0,0,255)">&lt;</SPAN><SPAN style="COLOR: rgb(128,0,0)">list</SPAN><SPAN style="COLOR: rgb(0,0,255)">&gt;</SPAN><SPAN style="COLOR: rgb(0,0,0)">&nbsp; <BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </SPAN><SPAN style="COLOR: rgb(0,0,255)">&lt;</SPAN><SPAN style="COLOR: rgb(128,0,0)">value</SPAN><SPAN style="COLOR: rgb(0,0,255)">&gt;</SPAN><SPAN style="COLOR: rgb(0,0,0)">transactionInterceptor</SPAN><SPAN style="COLOR: rgb(0,0,255)">&lt;/</SPAN><SPAN style="COLOR: rgb(128,0,0)">value</SPAN><SPAN style="COLOR: rgb(0,0,255)">&gt;</SPAN><SPAN style="COLOR: rgb(0,0,0)">&nbsp; <BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </SPAN><SPAN style="COLOR: rgb(0,0,255)">&lt;/</SPAN><SPAN style="COLOR: rgb(128,0,0)">list</SPAN><SPAN style="COLOR: rgb(0,0,255)">&gt;</SPAN><SPAN style="COLOR: rgb(0,0,0)">&nbsp; <BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </SPAN><SPAN style="COLOR: rgb(0,0,255)">&lt;/</SPAN><SPAN style="COLOR: rgb(128,0,0)">property</SPAN><SPAN style="COLOR: rgb(0,0,255)">&gt;</SPAN><SPAN style="COLOR: rgb(0,0,0)">&nbsp; <BR>&nbsp;&nbsp;&nbsp; </SPAN><SPAN style="COLOR: rgb(0,0,255)">&lt;/</SPAN><SPAN style="COLOR: rgb(128,0,0)">bean</SPAN><SPAN style="COLOR: rgb(0,0,255)">&gt;</SPAN><SPAN style="COLOR: rgb(0,0,0)">&nbsp; <BR>&nbsp; <BR>&nbsp;&nbsp;&nbsp; </SPAN><SPAN style="COLOR: rgb(0,128,0)">&lt;!--</SPAN><SPAN style="COLOR: rgb(0,128,0)"> 配置DAO </SPAN><SPAN style="COLOR: rgb(0,128,0)">--&gt;</SPAN><SPAN style="COLOR: rgb(0,0,0)"><BR>&nbsp;&nbsp;&nbsp; </SPAN><SPAN style="COLOR: rgb(0,0,255)">&lt;</SPAN><SPAN style="COLOR: rgb(128,0,0)">bean </SPAN><SPAN style="COLOR: rgb(255,0,0)">id</SPAN><SPAN style="COLOR: rgb(0,0,255)">=&quot;userDao&quot;</SPAN><SPAN style="COLOR: rgb(255,0,0)"> class</SPAN><SPAN style="COLOR: rgb(0,0,255)">=&quot;com.bluesky.spring.dao.UserDaoImpl&quot;</SPAN><SPAN style="COLOR: rgb(0,0,255)">&gt;</SPAN><SPAN style="COLOR: rgb(0,0,0)"><BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </SPAN><SPAN style="COLOR: rgb(0,0,255)">&lt;</SPAN><SPAN style="COLOR: rgb(128,0,0)">property </SPAN><SPAN style="COLOR: rgb(255,0,0)">name</SPAN><SPAN style="COLOR: rgb(0,0,255)">=&quot;sessionFactory&quot;</SPAN><SPAN style="COLOR: rgb(255,0,0)"> ref</SPAN><SPAN style="COLOR: rgb(0,0,255)">=&quot;sessionFactory&quot;</SPAN><SPAN style="COLOR: rgb(255,0,0)">&nbsp;</SPAN><SPAN style="COLOR: rgb(0,0,255)">/&gt;</SPAN><SPAN style="COLOR: rgb(0,0,0)"><BR>&nbsp;&nbsp;&nbsp; </SPAN><SPAN style="COLOR: rgb(0,0,255)">&lt;/</SPAN><SPAN style="COLOR: rgb(128,0,0)">bean</SPAN><SPAN style="COLOR: rgb(0,0,255)">&gt;</SPAN><SPAN style="COLOR: rgb(0,0,0)"><BR></SPAN><SPAN style="COLOR: rgb(0,0,255)">&lt;/</SPAN><SPAN style="COLOR: rgb(128,0,0)">beans</SPAN><SPAN style="COLOR: rgb(0,0,255)">&gt;</SPAN></DIV>
<P>第四种方式：使用tx标签配置的拦截器</P>
<DIV style="BORDER-RIGHT: rgb(204,204,204) 1px solid; PADDING-RIGHT: 5px; BORDER-TOP: rgb(204,204,204) 1px solid; PADDING-LEFT: 4px; FONT-SIZE: 13px; PADDING-BOTTOM: 4px; BORDER-LEFT: rgb(204,204,204) 1px solid; WIDTH: 98&percnt;; PADDING-TOP: 4px; BORDER-BOTTOM: rgb(204,204,204) 1px solid; BACKGROUND-COLOR: rgb(238,238,238)"><SPAN style="COLOR: rgb(0,0,255)">&lt;?</SPAN><SPAN style="COLOR: rgb(255,0,255)">xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;</SPAN><SPAN style="COLOR: rgb(0,0,255)">?&gt;</SPAN><SPAN style="COLOR: rgb(0,0,0)"><BR></SPAN><SPAN style="COLOR: rgb(0,0,255)">&lt;</SPAN><SPAN style="COLOR: rgb(128,0,0)">beans </SPAN><SPAN style="COLOR: rgb(255,0,0)">xmlns</SPAN><SPAN style="COLOR: rgb(0,0,255)">=&quot;http://www.springframework.org/schema/beans&quot;</SPAN><SPAN style="COLOR: rgb(255,0,0)"><BR>&nbsp;&nbsp;&nbsp; xmlns:xsi</SPAN><SPAN style="COLOR: rgb(0,0,255)">=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</SPAN><SPAN style="COLOR: rgb(255,0,0)"><BR>&nbsp;&nbsp;&nbsp; xmlns:context</SPAN><SPAN style="COLOR: rgb(0,0,255)">=&quot;http://www.springframework.org/schema/context&quot;</SPAN><SPAN style="COLOR: rgb(255,0,0)"><BR>&nbsp;&nbsp;&nbsp; xmlns:aop</SPAN><SPAN style="COLOR: rgb(0,0,255)">=&quot;http://www.springframework.org/schema/aop&quot;</SPAN><SPAN style="COLOR: rgb(255,0,0)"><BR>&nbsp;&nbsp;&nbsp; xmlns:tx</SPAN><SPAN style="COLOR: rgb(0,0,255)">=&quot;http://www.springframework.org/schema/tx&quot;</SPAN><SPAN style="COLOR: rgb(255,0,0)"><BR>&nbsp;&nbsp;&nbsp; xsi:schemaLocation</SPAN><SPAN style="COLOR: rgb(0,0,255)">=&quot;http://www.springframework.org/schema/beans <BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; http://www.springframework.org/schema/beans/spring-beans-2.5.xsd<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; http://www.springframework.org/schema/context<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; http://www.springframework.org/schema/context/spring-context-2.5.xsd<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; http://www.springframework.org/schema/aop http://www.springframework.org/schema/aop/spring-aop-2.5.xsd<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; http://www.springframework.org/schema/tx http://www.springframework.org/schema/tx/spring-tx-2.5.xsd&quot;</SPAN><SPAN style="COLOR: rgb(0,0,255)">&gt;</SPAN><SPAN style="COLOR: rgb(0,0,0)"><BR><BR>&nbsp;&nbsp;&nbsp; </SPAN><SPAN style="COLOR: rgb(0,0,255)">&lt;</SPAN><SPAN style="COLOR: rgb(128,0,0)">context:annotation-config </SPAN><SPAN style="COLOR: rgb(0,0,255)">/&gt;</SPAN><SPAN style="COLOR: rgb(0,0,0)"><BR>&nbsp;&nbsp;&nbsp; </SPAN><SPAN style="COLOR: rgb(0,0,255)">&lt;</SPAN><SPAN style="COLOR: rgb(128,0,0)">context:component-scan </SPAN><SPAN style="COLOR: rgb(255,0,0)">base-package</SPAN><SPAN style="COLOR: rgb(0,0,255)">=&quot;com.bluesky&quot;</SPAN><SPAN style="COLOR: rgb(255,0,0)">&nbsp;</SPAN><SPAN style="COLOR: rgb(0,0,255)">/&gt;</SPAN><SPAN style="COLOR: rgb(0,0,0)"><BR><BR>&nbsp;&nbsp;&nbsp; </SPAN><SPAN style="COLOR: rgb(0,0,255)">&lt;</SPAN><SPAN style="COLOR: rgb(128,0,0)">bean </SPAN><SPAN style="COLOR: rgb(255,0,0)">id</SPAN><SPAN style="COLOR: rgb(0,0,255)">=&quot;sessionFactory&quot;</SPAN><SPAN style="COLOR: rgb(255,0,0)">&nbsp; <BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; class</SPAN><SPAN style="COLOR: rgb(0,0,255)">=&quot;org.springframework.orm.hibernate3.LocalSessionFactoryBean&quot;</SPAN><SPAN style="COLOR: rgb(0,0,255)">&gt;</SPAN><SPAN style="COLOR: rgb(0,0,0)">&nbsp; <BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </SPAN><SPAN style="COLOR: rgb(0,0,255)">&lt;</SPAN><SPAN style="COLOR: rgb(128,0,0)">property </SPAN><SPAN style="COLOR: rgb(255,0,0)">name</SPAN><SPAN style="COLOR: rgb(0,0,255)">=&quot;configLocation&quot;</SPAN><SPAN style="COLOR: rgb(255,0,0)"> value</SPAN><SPAN style="COLOR: rgb(0,0,255)">=&quot;classpath:hibernate.cfg.xml&quot;</SPAN><SPAN style="COLOR: rgb(255,0,0)">&nbsp;</SPAN><SPAN style="COLOR: rgb(0,0,255)">/&gt;</SPAN><SPAN style="COLOR: rgb(0,0,0)">&nbsp; <BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </SPAN><SPAN style="COLOR: rgb(0,0,255)">&lt;</SPAN><SPAN style="COLOR: rgb(128,0,0)">property </SPAN><SPAN style="COLOR: rgb(255,0,0)">name</SPAN><SPAN style="COLOR: rgb(0,0,255)">=&quot;configurationClass&quot;</SPAN><SPAN style="COLOR: rgb(255,0,0)"> value</SPAN><SPAN style="COLOR: rgb(0,0,255)">=&quot;org.hibernate.cfg.AnnotationConfiguration&quot;</SPAN><SPAN style="COLOR: rgb(255,0,0)">&nbsp;</SPAN><SPAN style="COLOR: rgb(0,0,255)">/&gt;</SPAN><SPAN style="COLOR: rgb(0,0,0)"><BR>&nbsp;&nbsp;&nbsp; </SPAN><SPAN style="COLOR: rgb(0,0,255)">&lt;/</SPAN><SPAN style="COLOR: rgb(128,0,0)">bean</SPAN><SPAN style="COLOR: rgb(0,0,255)">&gt;</SPAN><SPAN style="COLOR: rgb(0,0,0)">&nbsp; <BR><BR>&nbsp;&nbsp;&nbsp; </SPAN><SPAN style="COLOR: rgb(0,128,0)">&lt;!--</SPAN><SPAN style="COLOR: rgb(0,128,0)"> 定义事务管理器（声明式的事务） </SPAN><SPAN style="COLOR: rgb(0,128,0)">--&gt;</SPAN><SPAN style="COLOR: rgb(0,0,0)">&nbsp; <BR>&nbsp;&nbsp;&nbsp; </SPAN><SPAN style="COLOR: rgb(0,0,255)">&lt;</SPAN><SPAN style="COLOR: rgb(128,0,0)">bean </SPAN><SPAN style="COLOR: rgb(255,0,0)">id</SPAN><SPAN style="COLOR: rgb(0,0,255)">=&quot;transactionManager&quot;</SPAN><SPAN style="COLOR: rgb(255,0,0)"><BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; class</SPAN><SPAN style="COLOR: rgb(0,0,255)">=&quot;org.springframework.orm.hibernate3.HibernateTransactionManager&quot;</SPAN><SPAN style="COLOR: rgb(0,0,255)">&gt;</SPAN><SPAN style="COLOR: rgb(0,0,0)"><BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </SPAN><SPAN style="COLOR: rgb(0,0,255)">&lt;</SPAN><SPAN style="COLOR: rgb(128,0,0)">property </SPAN><SPAN style="COLOR: rgb(255,0,0)">name</SPAN><SPAN style="COLOR: rgb(0,0,255)">=&quot;sessionFactory&quot;</SPAN><SPAN style="COLOR: rgb(255,0,0)"> ref</SPAN><SPAN style="COLOR: rgb(0,0,255)">=&quot;sessionFactory&quot;</SPAN><SPAN style="COLOR: rgb(255,0,0)">&nbsp;</SPAN><SPAN style="COLOR: rgb(0,0,255)">/&gt;</SPAN><SPAN style="COLOR: rgb(0,0,0)"><BR>&nbsp;&nbsp;&nbsp; </SPAN><SPAN style="COLOR: rgb(0,0,255)">&lt;/</SPAN><SPAN style="COLOR: rgb(128,0,0)">bean</SPAN><SPAN style="COLOR: rgb(0,0,255)">&gt;</SPAN><SPAN style="COLOR: rgb(0,0,0)"><BR><BR>&nbsp;&nbsp;&nbsp; </SPAN><SPAN style="COLOR: rgb(0,0,255)">&lt;</SPAN><SPAN style="COLOR: rgb(128,0,0)">tx:advice </SPAN><SPAN style="COLOR: rgb(255,0,0)">id</SPAN><SPAN style="COLOR: rgb(0,0,255)">=&quot;txAdvice&quot;</SPAN><SPAN style="COLOR: rgb(255,0,0)"> transaction-manager</SPAN><SPAN style="COLOR: rgb(0,0,255)">=&quot;transactionManager&quot;</SPAN><SPAN style="COLOR: rgb(0,0,255)">&gt;</SPAN><SPAN style="COLOR: rgb(0,0,0)"><BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </SPAN><SPAN style="COLOR: rgb(0,0,255)">&lt;</SPAN><SPAN style="COLOR: rgb(128,0,0)">tx:attributes</SPAN><SPAN style="COLOR: rgb(0,0,255)">&gt;</SPAN><SPAN style="COLOR: rgb(0,0,0)"><BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </SPAN><SPAN style="COLOR: rgb(0,0,255)">&lt;</SPAN><SPAN style="COLOR: rgb(128,0,0)">tx:method </SPAN><SPAN style="COLOR: rgb(255,0,0)">name</SPAN><SPAN style="COLOR: rgb(0,0,255)">=&quot;*&quot;</SPAN><SPAN style="COLOR: rgb(255,0,0)"> propagation</SPAN><SPAN style="COLOR: rgb(0,0,255)">=&quot;REQUIRED&quot;</SPAN><SPAN style="COLOR: rgb(255,0,0)">&nbsp;</SPAN><SPAN style="COLOR: rgb(0,0,255)">/&gt;</SPAN><SPAN style="COLOR: rgb(0,0,0)"><BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </SPAN><SPAN style="COLOR: rgb(0,0,255)">&lt;/</SPAN><SPAN style="COLOR: rgb(128,0,0)">tx:attributes</SPAN><SPAN style="COLOR: rgb(0,0,255)">&gt;</SPAN><SPAN style="COLOR: rgb(0,0,0)"><BR>&nbsp;&nbsp;&nbsp; </SPAN><SPAN style="COLOR: rgb(0,0,255)">&lt;/</SPAN><SPAN style="COLOR: rgb(128,0,0)">tx:advice</SPAN><SPAN style="COLOR: rgb(0,0,255)">&gt;</SPAN><SPAN style="COLOR: rgb(0,0,0)"><BR>&nbsp;&nbsp;&nbsp; <BR>&nbsp;&nbsp;&nbsp; </SPAN><SPAN style="COLOR: rgb(0,0,255)">&lt;</SPAN><SPAN style="COLOR: rgb(128,0,0)">aop:config</SPAN><SPAN style="COLOR: rgb(0,0,255)">&gt;</SPAN><SPAN style="COLOR: rgb(0,0,0)"><BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </SPAN><SPAN style="COLOR: rgb(0,0,255)">&lt;</SPAN><SPAN style="COLOR: rgb(128,0,0)">aop:pointcut </SPAN><SPAN style="COLOR: rgb(255,0,0)">id</SPAN><SPAN style="COLOR: rgb(0,0,255)">=&quot;interceptorPointCuts&quot;</SPAN><SPAN style="COLOR: rgb(255,0,0)"><BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; expression</SPAN><SPAN style="COLOR: rgb(0,0,255)">=&quot;execution(* com.bluesky.spring.dao.*.*(..))&quot;</SPAN><SPAN style="COLOR: rgb(255,0,0)">&nbsp;</SPAN><SPAN style="COLOR: rgb(0,0,255)">/&gt;</SPAN><SPAN style="COLOR: rgb(0,0,0)"><BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </SPAN><SPAN style="COLOR: rgb(0,0,255)">&lt;</SPAN><SPAN style="COLOR: rgb(128,0,0)">aop:advisor </SPAN><SPAN style="COLOR: rgb(255,0,0)">advice-ref</SPAN><SPAN style="COLOR: rgb(0,0,255)">=&quot;txAdvice&quot;</SPAN><SPAN style="COLOR: rgb(255,0,0)"><BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; pointcut-ref</SPAN><SPAN style="COLOR: rgb(0,0,255)">=&quot;interceptorPointCuts&quot;</SPAN><SPAN style="COLOR: rgb(255,0,0)">&nbsp;</SPAN><SPAN style="COLOR: rgb(0,0,255)">/&gt;</SPAN><SPAN style="COLOR: rgb(0,0,0)">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <BR>&nbsp;&nbsp;&nbsp; </SPAN><SPAN style="COLOR: rgb(0,0,255)">&lt;/</SPAN><SPAN style="COLOR: rgb(128,0,0)">aop:config</SPAN><SPAN style="COLOR: rgb(0,0,255)">&gt;</SPAN><SPAN style="COLOR: rgb(0,0,0)">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <BR></SPAN><SPAN style="COLOR: rgb(0,0,255)">&lt;/</SPAN><SPAN style="COLOR: rgb(128,0,0)">beans</SPAN><SPAN style="COLOR: rgb(0,0,255)">&gt;</SPAN></DIV>
<P>第五种方式：全注解<BR></P>
<DIV style="BORDER-RIGHT: rgb(204,204,204) 1px solid; PADDING-RIGHT: 5px; BORDER-TOP: rgb(204,204,204) 1px solid; PADDING-LEFT: 4px; FONT-SIZE: 13px; PADDING-BOTTOM: 4px; BORDER-LEFT: rgb(204,204,204) 1px solid; WIDTH: 98&percnt;; PADDING-TOP: 4px; BORDER-BOTTOM: rgb(204,204,204) 1px solid; BACKGROUND-COLOR: rgb(238,238,238)"><SPAN style="COLOR: rgb(0,0,255)">&lt;?</SPAN><SPAN style="COLOR: rgb(255,0,255)">xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;</SPAN><SPAN style="COLOR: rgb(0,0,255)">?&gt;</SPAN><SPAN style="COLOR: rgb(0,0,0)"><BR></SPAN><SPAN style="COLOR: rgb(0,0,255)">&lt;</SPAN><SPAN style="COLOR: rgb(128,0,0)">beans </SPAN><SPAN style="COLOR: rgb(255,0,0)">xmlns</SPAN><SPAN style="COLOR: rgb(0,0,255)">=&quot;http://www.springframework.org/schema/beans&quot;</SPAN><SPAN style="COLOR: rgb(255,0,0)"><BR>&nbsp;&nbsp;&nbsp; xmlns:xsi</SPAN><SPAN style="COLOR: rgb(0,0,255)">=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</SPAN><SPAN style="COLOR: rgb(255,0,0)"><BR>&nbsp;&nbsp;&nbsp; xmlns:context</SPAN><SPAN style="COLOR: rgb(0,0,255)">=&quot;http://www.springframework.org/schema/context&quot;</SPAN><SPAN style="COLOR: rgb(255,0,0)"><BR>&nbsp;&nbsp;&nbsp; xmlns:aop</SPAN><SPAN style="COLOR: rgb(0,0,255)">=&quot;http://www.springframework.org/schema/aop&quot;</SPAN><SPAN style="COLOR: rgb(255,0,0)"><BR>&nbsp;&nbsp;&nbsp; xmlns:tx</SPAN><SPAN style="COLOR: rgb(0,0,255)">=&quot;http://www.springframework.org/schema/tx&quot;</SPAN><SPAN style="COLOR: rgb(255,0,0)"><BR>&nbsp;&nbsp;&nbsp; xsi:schemaLocation</SPAN><SPAN style="COLOR: rgb(0,0,255)">=&quot;http://www.springframework.org/schema/beans <BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; http://www.springframework.org/schema/beans/spring-beans-2.5.xsd<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; http://www.springframework.org/schema/context<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; http://www.springframework.org/schema/context/spring-context-2.5.xsd<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; http://www.springframework.org/schema/aop http://www.springframework.org/schema/aop/spring-aop-2.5.xsd<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; http://www.springframework.org/schema/tx http://www.springframework.org/schema/tx/spring-tx-2.5.xsd&quot;</SPAN><SPAN style="COLOR: rgb(0,0,255)">&gt;</SPAN><SPAN style="COLOR: rgb(0,0,0)"><BR><BR>&nbsp;&nbsp;&nbsp; </SPAN><SPAN style="COLOR: rgb(0,0,255)">&lt;</SPAN><SPAN style="COLOR: rgb(128,0,0)">context:annotation-config </SPAN><SPAN style="COLOR: rgb(0,0,255)">/&gt;</SPAN><SPAN style="COLOR: rgb(0,0,0)"><BR>&nbsp;&nbsp;&nbsp; </SPAN><SPAN style="COLOR: rgb(0,0,255)">&lt;</SPAN><SPAN style="COLOR: rgb(128,0,0)">context:component-scan </SPAN><SPAN style="COLOR: rgb(255,0,0)">base-package</SPAN><SPAN style="COLOR: rgb(0,0,255)">=&quot;com.bluesky&quot;</SPAN><SPAN style="COLOR: rgb(255,0,0)">&nbsp;</SPAN><SPAN style="COLOR: rgb(0,0,255)">/&gt;</SPAN><SPAN style="COLOR: rgb(0,0,0)"><BR><BR>&nbsp;&nbsp;&nbsp; </SPAN><SPAN style="COLOR: rgb(0,0,255)">&lt;</SPAN><SPAN style="COLOR: rgb(128,0,0)">tx:annotation-driven </SPAN><SPAN style="COLOR: rgb(255,0,0)">transaction-manager</SPAN><SPAN style="COLOR: rgb(0,0,255)">=&quot;transactionManager&quot;</SPAN><SPAN style="COLOR: rgb(0,0,255)">/&gt;</SPAN><SPAN style="COLOR: rgb(0,0,0)"><BR><BR>&nbsp;&nbsp;&nbsp; </SPAN><SPAN style="COLOR: rgb(0,0,255)">&lt;</SPAN><SPAN style="COLOR: rgb(128,0,0)">bean </SPAN><SPAN style="COLOR: rgb(255,0,0)">id</SPAN><SPAN style="COLOR: rgb(0,0,255)">=&quot;sessionFactory&quot;</SPAN><SPAN style="COLOR: rgb(255,0,0)">&nbsp; <BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; class</SPAN><SPAN style="COLOR: rgb(0,0,255)">=&quot;org.springframework.orm.hibernate3.LocalSessionFactoryBean&quot;</SPAN><SPAN style="COLOR: rgb(0,0,255)">&gt;</SPAN><SPAN style="COLOR: rgb(0,0,0)">&nbsp; <BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </SPAN><SPAN style="COLOR: rgb(0,0,255)">&lt;</SPAN><SPAN style="COLOR: rgb(128,0,0)">property </SPAN><SPAN style="COLOR: rgb(255,0,0)">name</SPAN><SPAN style="COLOR: rgb(0,0,255)">=&quot;configLocation&quot;</SPAN><SPAN style="COLOR: rgb(255,0,0)"> value</SPAN><SPAN style="COLOR: rgb(0,0,255)">=&quot;classpath:hibernate.cfg.xml&quot;</SPAN><SPAN style="COLOR: rgb(255,0,0)">&nbsp;</SPAN><SPAN style="COLOR: rgb(0,0,255)">/&gt;</SPAN><SPAN style="COLOR: rgb(0,0,0)">&nbsp; <BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </SPAN><SPAN style="COLOR: rgb(0,0,255)">&lt;</SPAN><SPAN style="COLOR: rgb(128,0,0)">property </SPAN><SPAN style="COLOR: rgb(255,0,0)">name</SPAN><SPAN style="COLOR: rgb(0,0,255)">=&quot;configurationClass&quot;</SPAN><SPAN style="COLOR: rgb(255,0,0)"> value</SPAN><SPAN style="COLOR: rgb(0,0,255)">=&quot;org.hibernate.cfg.AnnotationConfiguration&quot;</SPAN><SPAN style="COLOR: rgb(255,0,0)">&nbsp;</SPAN><SPAN style="COLOR: rgb(0,0,255)">/&gt;</SPAN><SPAN style="COLOR: rgb(0,0,0)"><BR>&nbsp;&nbsp;&nbsp; </SPAN><SPAN style="COLOR: rgb(0,0,255)">&lt;/</SPAN><SPAN style="COLOR: rgb(128,0,0)">bean</SPAN><SPAN style="COLOR: rgb(0,0,255)">&gt;</SPAN><SPAN style="COLOR: rgb(0,0,0)">&nbsp; <BR><BR>&nbsp;&nbsp;&nbsp; </SPAN><SPAN style="COLOR: rgb(0,128,0)">&lt;!--</SPAN><SPAN style="COLOR: rgb(0,128,0)"> 定义事务管理器（声明式的事务） </SPAN><SPAN style="COLOR: rgb(0,128,0)">--&gt;</SPAN><SPAN style="COLOR: rgb(0,0,0)">&nbsp; <BR>&nbsp;&nbsp;&nbsp; </SPAN><SPAN style="COLOR: rgb(0,0,255)">&lt;</SPAN><SPAN style="COLOR: rgb(128,0,0)">bean </SPAN><SPAN style="COLOR: rgb(255,0,0)">id</SPAN><SPAN style="COLOR: rgb(0,0,255)">=&quot;transactionManager&quot;</SPAN><SPAN style="COLOR: rgb(255,0,0)"><BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; class</SPAN><SPAN style="COLOR: rgb(0,0,255)">=&quot;org.springframework.orm.hibernate3.HibernateTransactionManager&quot;</SPAN><SPAN style="COLOR: rgb(0,0,255)">&gt;</SPAN><SPAN style="COLOR: rgb(0,0,0)"><BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </SPAN><SPAN style="COLOR: rgb(0,0,255)">&lt;</SPAN><SPAN style="COLOR: rgb(128,0,0)">property </SPAN><SPAN style="COLOR: rgb(255,0,0)">name</SPAN><SPAN style="COLOR: rgb(0,0,255)">=&quot;sessionFactory&quot;</SPAN><SPAN style="COLOR: rgb(255,0,0)"> ref</SPAN><SPAN style="COLOR: rgb(0,0,255)">=&quot;sessionFactory&quot;</SPAN><SPAN style="COLOR: rgb(255,0,0)">&nbsp;</SPAN><SPAN style="COLOR: rgb(0,0,255)">/&gt;</SPAN><SPAN style="COLOR: rgb(0,0,0)"><BR>&nbsp;&nbsp;&nbsp; </SPAN><SPAN style="COLOR: rgb(0,0,255)">&lt;/</SPAN><SPAN style="COLOR: rgb(128,0,0)">bean</SPAN><SPAN style="COLOR: rgb(0,0,255)">&gt;</SPAN><SPAN style="COLOR: rgb(0,0,0)"><BR>&nbsp;&nbsp;&nbsp; <BR></SPAN><SPAN style="COLOR: rgb(0,0,255)">&lt;/</SPAN><SPAN style="COLOR: rgb(128,0,0)">beans</SPAN><SPAN style="COLOR: rgb(0,0,255)">&gt;</SPAN></DIV>
<P>此时在DAO上需加上@Transactional注解，如下：</P>
<DIV style="BORDER-RIGHT: rgb(204,204,204) 1px solid; PADDING-RIGHT: 5px; BORDER-TOP: rgb(204,204,204) 1px solid; PADDING-LEFT: 4px; FONT-SIZE: 13px; PADDING-BOTTOM: 4px; BORDER-LEFT: rgb(204,204,204) 1px solid; WIDTH: 98&percnt;; PADDING-TOP: 4px; BORDER-BOTTOM: rgb(204,204,204) 1px solid; BACKGROUND-COLOR: rgb(238,238,238)"><SPAN style="COLOR: rgb(0,0,255)">package</SPAN><SPAN style="COLOR: rgb(0,0,0)"> com.bluesky.spring.dao;<BR><BR></SPAN><SPAN style="COLOR: rgb(0,0,255)">import</SPAN><SPAN style="COLOR: rgb(0,0,0)"> java.util.List;<BR><BR></SPAN><SPAN style="COLOR: rgb(0,0,255)">import</SPAN><SPAN style="COLOR: rgb(0,0,0)"> org.hibernate.SessionFactory;<BR></SPAN><SPAN style="COLOR: rgb(0,0,255)">import</SPAN><SPAN style="COLOR: rgb(0,0,0)"> org.springframework.beans.factory.annotation.Autowired;<BR></SPAN><SPAN style="COLOR: rgb(0,0,255)">import</SPAN><SPAN style="COLOR: rgb(0,0,0)"> org.springframework.orm.hibernate3.support.HibernateDaoSupport;<BR></SPAN><SPAN style="COLOR: rgb(0,0,255)">import</SPAN><SPAN style="COLOR: rgb(0,0,0)"> org.springframework.stereotype.Component;<BR><BR></SPAN><SPAN style="COLOR: rgb(0,0,255)">import</SPAN><SPAN style="COLOR: rgb(0,0,0)"> com.bluesky.spring.domain.User;<BR><BR>@Transactional<BR>@Component(</SPAN><SPAN style="COLOR: rgb(0,0,0)">&quot;</SPAN><SPAN style="COLOR: rgb(0,0,0)">userDao</SPAN><SPAN style="COLOR: rgb(0,0,0)">&quot;</SPAN><SPAN style="COLOR: rgb(0,0,0)">)<BR></SPAN><SPAN style="COLOR: rgb(0,0,255)">public</SPAN><SPAN style="COLOR: rgb(0,0,0)">&nbsp;</SPAN><SPAN style="COLOR: rgb(0,0,255)">class</SPAN><SPAN style="COLOR: rgb(0,0,0)"> UserDaoImpl </SPAN><SPAN style="COLOR: rgb(0,0,255)">extends</SPAN><SPAN style="COLOR: rgb(0,0,0)"> HibernateDaoSupport </SPAN><SPAN style="COLOR: rgb(0,0,255)">implements</SPAN><SPAN style="COLOR: rgb(0,0,0)"> UserDao {<BR><BR>&nbsp;&nbsp;&nbsp; </SPAN><SPAN style="COLOR: rgb(0,0,255)">public</SPAN><SPAN style="COLOR: rgb(0,0,0)"> List</SPAN><SPAN style="COLOR: rgb(0,0,0)">&lt;</SPAN><SPAN style="COLOR: rgb(0,0,0)">User</SPAN><SPAN style="COLOR: rgb(0,0,0)">&gt;</SPAN><SPAN style="COLOR: rgb(0,0,0)"> listUsers() {<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </SPAN><SPAN style="COLOR: rgb(0,0,255)">return</SPAN><SPAN style="COLOR: rgb(0,0,0)">&nbsp;</SPAN><SPAN style="COLOR: rgb(0,0,255)">this</SPAN><SPAN style="COLOR: rgb(0,0,0)">.getSession().createQuery(</SPAN><SPAN style="COLOR: rgb(0,0,0)">&quot;</SPAN><SPAN style="COLOR: rgb(0,0,0)">from User</SPAN><SPAN style="COLOR: rgb(0,0,0)">&quot;</SPAN><SPAN style="COLOR: rgb(0,0,0)">).list();<BR>&nbsp;&nbsp;&nbsp; }<BR>&nbsp;&nbsp;&nbsp; <BR>&nbsp;&nbsp;&nbsp; <IMG title="Spring事务配置的五种方式 - KILLKISS - KillKiss" alt="" src="./Spring事务配置的五种方式 - KILLKISS的日志 - 网易博客_files/dot.gif"><BR>}</SPAN></DIV>
<P><BR></P>
		</DIV>
		<DIV class="g_p_center" style="width:760px;">
			<DIV id="postsense" class="g_channel_cmd g_t_hide" style="margin-left:25px;"></DIV>
		</DIV>
			<DIV class="g_p_center" style="width:760px;">
				<DIV id="relateBlogCircle_fks_082067092086085075085085095095085080083075081083087071" class="g_blog_circle g_circle_perm g_t_hide" style="margin-left:25px;"> </DIV>
			</DIV>			
		<DIV class="g_p_center" style="width:760px;">
			<DIV id="blogReader_fks_082067092086085075085085095095085080083075081083087071" class="g_recent_read g_t_hide" style="margin-left:25px;"></DIV>
		</DIV>
	</DIV>

	<DIV class="g_tab_btn00 bdb" id="cssTabBar_fks_082067092086085075085085095095085080083075081083087071">
				<DIV class="bdl" id="ShareDiv_fks_082067092086085075085085095095085080083075081083087071"><A class="c05" href="http://13480.blog.163.com/blog/static/16285514200938104353102/#" onclick="NEBlog.gPermaLinkPage.updownMenu.upDownShare(&#39;fks_082067092086085075085085095095085080083075081083087071&#39;,&#39;blog/16285514200938104353102.track&#39;,&#39;blog/static/16285514200938104353102&#39;);return false;">分享(<NOBR id="tbCount_fks_082067092086085075085085095095085080083075081083087071">0</NOBR>)<SPAN class="n_ n32 g_p_none">&nbsp;</SPAN></A></DIV>
				<DIV class="bdl bdr s" id="ComDiv_fks_082067092086085075085085095095085080083075081083087071"><A class="c05" href="http://13480.blog.163.com/blog/static/16285514200938104353102/#" onclick="NEBlog.gPermaLinkPage.updownMenu.upDownComments(&#39;fks_082067092086085075085085095095085080083075081083087071&#39;, &#39;Spring事务配置的五种方式&#39;, &#39;blog/static/16285514200938104353102&#39;);return false;">评论(<NOBR id="comCount_fks_082067092086085075085085095095085080083075081083087071">0</NOBR>)<SPAN class="n_ n32 g_p_none">&nbsp;</SPAN></A></DIV>
				<DIV class="c08"><NOBR id="accessCount_fks_082067092086085075085085095095085080083075081083087071">15</NOBR>次阅读</DIV>
		
    	
    	<INPUT id="openCom_fks_082067092086085075085085095095085080083075081083087071" type="hidden" value="1">
	    <INPUT id="openShare_fks_082067092086085075085085095095085080083075081083087071" type="hidden" value="-1">
	</DIV>
	<DIV class="g_p_clear g_t_space">&nbsp;</DIV>
  	<DIV id="com_fks_082067092086085075085085095095085080083075081083087071" class="g_p_relative g_h_1" style="display: block; ">
    	<DIV id="comShow_fks_082067092086085075085085095095085080083075081083087071">       <DIV id="comShowHeader_fks_082067092086085075085085095095085080083075081083087071" class="g_h_20 g_c_mgin">   <SPAN class="g_p_right g_c_hand n_ n7" onclick="NEBlog.gPermaLinkPage.updownMenu.commentPublishes[&#39;fks_082067092086085075085085095095085080083075081083087071&#39;].closeComments(&#39;fks_082067092086085075085085095095085080083075081083087071&#39;);return false;" title="关闭">&nbsp;</SPAN>  </DIV> </DIV>
  		<DIV id="comPub_fks_082067092086085075085085095095085080083075081083087071" class="g_h_1">  <DIV class="g_c_pdin">    <DIV>       <DIV class="g_layout_05 g_h_25 g_t_left" style="margin-bottom:7px;">       <INPUT type="text" id="usernamefks_082067092086085075085085095095085080083075081083087071" style="width:170px;" class="bd01 g_t_disable nvb g_c_input" name="usernamefks_082067092086085075085085095095085080083075081083087071" value="网易博友1" maxlength="18">&nbsp;&nbsp;&nbsp;&nbsp;       <A class="c06" href="http://13480.blog.163.com/blog/static/16285514200938104353102/#" onclick="showLoginDlg(DomainMap.serverHostName);return false;">我要登录&nbsp;-&gt;</A>        </DIV>     <DIV class="g_c_smvdn bd01" id="edtfks_082067092086085075085085095095085080083075081083087071"><DIV id="plainDivfks_082067092086085075085085095095085080083075081083087071"><TEXTAREA id="plainEditorfks_082067092086085075085085095095085080083075081083087071" style="overflow-y: auto; border-top-style: none; border-right-style: none; border-bottom-style: none; border-left-style: none; border-width: initial; border-color: initial; padding-top: 2px; padding-right: 2px; padding-bottom: 2px; padding-left: 2px; font-size: 14px; line-height: 135&percnt;; height: 230px; width: 781px; "></TEXTAREA></DIV></DIV>     <DIV id="validCodefks_082067092086085075085085095095085080083075081083087071" class="g_c_mvdn g_t_left g_h_25" style="display:none;"></DIV>     <DIV class="g_h_30 g_c_mvdn g_t_left g_w_100">      <INPUT class="g_c_button bd01 butn" id="$$_pubbtnfks_082067092086085075085085095095085080083075081083087071" onclick="NEBlog.gPermaLinkPage.updownMenu.commentPublishes[&#39;fks_082067092086085075085085095095085080083075081083087071&#39;].addComment(&#39;fks_082067092086085075085085095095085080083075081083087071&#39;); return false;" type="submit" value="发表评论" style="font-weight:700;">&nbsp;&nbsp;&nbsp;&nbsp;         <SPAN id="$$_comsubmithintfks_082067092086085075085085095095085080083075081083087071" style="display:none;"></SPAN>     </DIV>    </DIV>  </DIV></DIV>
  	</DIV>
  	<DIV id="share_fks_082067092086085075085085095095085080083075081083087071" class="g_t_left" style="display:none;"></DIV>
  </DIV></DIV><DIV class="mdl_m_b"></DIV></DIV></DIV><DIV class="mdl_b mt"><DIV class="mdl_b_l">&nbsp;</DIV><DIV class="mdl_b_r">&nbsp;</DIV><DIV class="mdl_b_c">&nbsp;</DIV></DIV></DIV></DIV>
	    <DIV class="wqr hm" id="_$$_module_container_right" index="2"></DIV>
	    <DIV class="g_p_clear">&nbsp;</DIV>
	  </DIV></DIV>
  </DIV>        
</DIV>
<DIV class="bgmf wsy"><DIV class="bgmf_ hx wkg"><DIV class="wxl hx">&nbsp;</DIV><DIV class="wxr hx">&nbsp;</DIV><DIV class="wxc hx">&nbsp;</DIV></DIV></DIV>
<DIV class="bg50 wsy">
  <DIV class="bg51 hf wkg c10">
    <DIV class="g_menu_bt fmgtp">
      <A target="_blank" href="http://corp.163.com/index_gb.html">公司简介</A><SPAN>-</SPAN>
      <A target="_blank" href="http://gb.corp.163.com/gb/contactus.html">联系方法</A><SPAN>-</SPAN>
      <A target="_blank" href="http://corp.163.com/gb/job/job.html">招聘信息</A><SPAN>-</SPAN>
      <A target="_blank" href="http://help.163.com/?b13abk1">客户服务</A><SPAN>-</SPAN>
      <A target="_blank" href="http://corp.163.com/gb/legal/legal.html">相关法律</A><SPAN>-</SPAN>
      <A href="http://jz.163.com/">精准营销</A><SPAN>-</SPAN>
      	  
	      <A target="_blank" href="http://13480.blog.163.com/rss/" class="p_ p0">&nbsp;</A>
    </DIV>
    <DIV>网易公司版权所有 &copy;1997-2009</DIV>
  </DIV>
</DIV>
      </DIV>
    </DIV>
    <DIV id="_$$_outer_layer"><DIV id="$_$_ne_focus_frame" class="g_lay_com g_win_6 g_f_shw" style="display: none; position: absolute; left: 10px; top: 10px; width: 470px; min-height: 100px; height: auto; z-index: 10000; "><DIV id="$_$_ne_focus_frame_system_bar" class="titlebar"><DIV><SPAN id="$_$_ne_focus_frame_system_bar_close" class="r" title="关闭">&nbsp;</SPAN><SPAN style="display:block;" class="g_t_hide $$_handle_class g_c_move" id="$_$_ne_focus_frame_system_bar_title">JSWindow</SPAN></DIV></DIV><DIV id="$_$_ne_focus_frame_panel" class="content"></DIV></DIV></DIV>
    <DIV class="g_p_none">
	  <INPUT type="hidden" id="$_oppoPageUrlForLogin" value="/blog/static/16285514200938104353102/edit/">
    </DIV>
  <SCRIPT language="JavaScript">     
  	function initUD(){
       UD.body=$("_$$_inner_layer");
       UD.layer=$("_$$_outer_layer");
       UD.window=$("blog-163-com-body");
       UD.bar=$("theme_selector_pointer");
     }
  </SCRIPT>
   
<SCRIPT language="JavaScript">
// <![CDATA[
     var g_urlPrefix="";
     function g_initCommon(){
         var _arr = ["rmdtpxt","rmdtplgn"];
         for (var i=_arr.length-1;i>=0;i--){
              _o = $(_arr[i]);
              if(i==0)_o && (_o.onclick=function(){exitAfterLogged();return false;});
              else if(i==1)_o && (_o.onclick=function(){showLoginDlg('13480.blog.163.com');return false;});
         }
         topFromUrsLogin();
     } 
	function g_initUtil(){
		TopSearch.init();
	}
// ]]>
</SCRIPT>



<SCRIPT type="text/javascript" src="./Spring事务配置的五种方式 - KILLKISS的日志 - 网易博客_files/InfoAlertPad.js"></SCRIPT>
 
  
  <SCRIPT language="javascript">  
  function initAll(){
  	try{  		
  		initUD();
  		g_initCommon();
  		initFlash(0);
		  showPageTopBar({serverName:'13480.blog.163.com',serverHostName:'blog.163.com'});
  		initPage();
  		window.setTimeout("g_initUtil();",3000);
  		
  		//顶部博客子菜单的显示
  		Event.observe(document.body,'click',hideBlogItems);
 	 }catch(e){}
  }
  initAll();
  </SCRIPT>
 

	<SCRIPT language="JavaScript">
			function onVisitorInfoLoad(_p){	
				var _s = $('visitorInfoJs').readyState;
				if (_p && _s!='loaded'&&_s!='complete') return;
				
				gLoadPermaLink(1, 'prev', 'fks_082067092086085075085085095095085080083075081083087071', 20, -100, 
					'Spring事务配置的五种方式', 'blog/static/16285514200938104353102', '16285514200938104353102', 'http://q.163.com', 
					0, 1,	'off', '1239201948197'
);
					
				topFromUrsLogin();
			}		
		  			  			  	
	  		var ver = new Date().getTime();
	  		document.write('<script type="text/javascript" onreadystatechange="onVisitorInfoLoad(true);" onload="onVisitorInfoLoad();" id="visitorInfoJs" src="http://blog.163.com/js/static/visitorInfo.js?host=13480&mode=prev&channel=blog&blogId=fks_082067092086085075085085095095085080083075081083087071&pubTime=1239201833102&v=' + ver + '"></'+'script>');
  	</SCRIPT><SCRIPT type="text/javascript" onreadystatechange="onVisitorInfoLoad(true);" onload="onVisitorInfoLoad();" id="visitorInfoJs" src="./Spring事务配置的五种方式 - KILLKISS的日志 - 网易博客_files/visitorInfo.js"></SCRIPT><DIV id="disabledZone" style="position: absolute; z-index: 1000; left: 0px; top: 0px; width: 100&percnt;; height: 100&percnt;; color: rgb(0, 0, 0); visibility: hidden; "><DIV id="messageZone"><IMG src="./Spring事务配置的五种方式 - KILLKISS的日志 - 网易博客_files/indicator.gif">正在加载中...</DIV></DIV><SCRIPT id="dwr-st-0" src="./Spring事务配置的五种方式 - KILLKISS的日志 - 网易博客_files/BlogBean.getCommentsByBlog.dwr"></SCRIPT><SCRIPT id="dwr-st-0" src="./Spring事务配置的五种方式 - KILLKISS的日志 - 网易博客_files/BlogBean.getRelateBlogsCircles.dwr"></SCRIPT><SCRIPT id="dwr-st-0" src="./Spring事务配置的五种方式 - KILLKISS的日志 - 网易博客_files/YoudaoBean.getPostSense.dwr"></SCRIPT>
		
  
  

<TEXTAREA id="jst_global_comment_show" style="display: none; "></TEXTAREA><TEXTAREA id="jst_global_comment_pub" style="display: none; "></TEXTAREA></BODY></HTML>