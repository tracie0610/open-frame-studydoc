<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>Ubuntu之文件加密 - 安全防护 -  UbuntuChina互动社区 应用创造价值，一个只谈应用的社区，为Ubuntu和Linux初学者服务！ - Powered by Discuz!</title>
<meta name="keywords" content="Ubhuntu中文社区,Ubuntu中文论坛,Ubuntu入门'学习'应用'技巧、经验 , Ubuntu开发经验、技巧,Linux入门、提高、学习、应用技巧、经验 ,原创,教程,学习资源,Linux入门,Ubuntu入门 ,LPI教程 ,LPI考试,RHCE教程，RHCE教材,RHCE考试,Linux职位,高级职位" />
<meta name="description" content=" UbuntuChina互动社区 当Ubuntu Linux使用加密文件系统后，数据的安全能得到很好的保护。在这种情况下，即使把我们的机器送给黑客，只要他们没有密钥，黑客看到的数据只会是一堆乱码，毫无利用价 ... - Discuz! Board" />
<meta name="generator" content="Discuz! 6.0.0" />
<meta name="author" content="Discuz! Team and Comsenz UI Team" />
<meta name="copyright" content="2001-2007 Comsenz Inc." />
<meta name="MSSmartTagsPreventParsing" content="True" />
<meta http-equiv="MSThemeCompatible" content="Yes" />
<link rel="archives" title="UbuntuChina互动社区" href="http://www.ubuntuchina.com/archiver/" />
	<link rel="stylesheet" type="text/css" href="forumdata/cache/style_1.css" />
	<link rel="stylesheet" type="text/css" href="forumdata/cache/style_1_append.css" />
<script type="text/javascript">var IMGDIR = 'images/default';var attackevasive = '0';var gid = 0;gid = parseInt('55');var fid = parseInt('58');var tid = parseInt('5379');</script>
<script src="include/javascript/common.js" type="text/javascript"></script>
<script src="include/javascript/menu.js" type="text/javascript"></script>
<script src="include/javascript/ajax.js" type="text/javascript"></script>
</head>

<body onkeydown="if(event.keyCode==27) return false;">

	<div id="append_parent"></div><div id="ajaxwaitid"></div>
	<div class="wrap">
		<div id="header">
			<h2><a href="index.php" title="UbuntuChina互动社区"><img src="images/default/logo.gif" alt="UbuntuChina互动社区" border="0" /></a></h2>
			<div id="ad_headerbanner"></div>
		</div>
		<div id="menu">
					<span class="frameswitch">
			<script type="text/javascript">
			if(top == self) {
							document.write('<a href="frame.php?frameon=yes" target="_top" class="frameon">分栏模式<\/a>');
			} else {
				document.write('<a href="frame.php?frameon=no" target="_top" class="frameoff">平板模式<\/a>');
			}
			</script>
			</span>
		
			<ul>
							<li><a href="register.php" class="notabs">注册</a></li>
				<li><a href="logging.php?action=login">登录</a></li>
			
			<li><a href="member.php?action=list">会员</a></li>																		<li><a href="stats.php">统计</a></li>							<li><a href="faq.php">帮助</a></li>
			</ul>
		</div>
<script src="include/javascript/viewthread.js" type="text/javascript"></script>
<script type="text/javascript">zoomstatus = parseInt(1);</script>

<div id="foruminfo">
	<div id="nav">
		<a href="index.php" id="forumlist" onmouseover="showMenu(this.id)" class="dropmenu">UbuntuChina互动社区</a> &raquo; <a href="forumdisplay.php?fid=58">安全防护</a> &raquo; Ubuntu之文件加密	</div>
	<div id="headsearch">
			<script src="forumdata/cache/google_var.js" type="text/javascript"></script>
		<script src="include/javascript/google.js" type="text/javascript"></script>
			</div>
</div>

<div id="ad_text"></div>


<div class="pages_btns">
	<div class="threadflow"><a href="redirect.php?fid=58&amp;tid=5379&amp;goto=nextoldset"> &lsaquo;&lsaquo; 上一主题</a> | <a href="redirect.php?fid=58&amp;tid=5379&amp;goto=nextnewset">下一主题 &rsaquo;&rsaquo;</a></div>
				<span class="postbtn" id="newspecial" onmouseover="$('newspecial').id = 'newspecialtmp';this.id = 'newspecial';showMenu(this.id)"><a href="post.php?action=newthread&amp;fid=58&amp;extra="><img src="images/default/newtopic.gif" border="0" alt="发新话题" title="发新话题" /></a></span>
		<span class="replybtn"><a href="post.php?action=reply&amp;fid=58&amp;tid=5379&amp;extra="><img src="images/default/reply.gif" border="0" alt="" /></a></span></div>

	<ul class="popupmenu_popup newspecialmenu" id="newspecial_menu" style="display: none">
		<li><a href="post.php?action=newthread&amp;fid=58&amp;extra=">发新话题</a></li>
		<li class="poll"><a href="post.php?action=newthread&amp;fid=58&amp;extra=&amp;special=1">发布投票</a></li>		<li class="trade"><a href="post.php?action=newthread&amp;fid=58&amp;extra=&amp;special=2">发布商品</a></li>		<li class="reward"><a href="post.php?action=newthread&amp;fid=58&amp;extra=&amp;special=3">发布悬赏</a></li>		<li class="activity"><a href="post.php?action=newthread&amp;fid=58&amp;extra=&amp;special=4">发布活动</a></li>		<li class="debate"><a href="post.php?action=newthread&amp;fid=58&amp;extra=&amp;special=5">发布辩论</a></li>		<li class="video"><a href="post.php?action=newthread&amp;fid=58&amp;extra=&amp;special=6">发布视频</a></li>			</ul>

<form method="post" name="modactions">
	<input type="hidden" name="formhash" value="311c2afe" />
	<div class="mainbox viewthread">
		<span class="headactions">
				<a href="viewthread.php?action=printable&amp;tid=5379" target="_blank" class="notabs">打印</a>
		</span>
		<h1>Ubuntu之文件加密		</h1>
							<table id="pid10960" summary="pid10960" cellspacing="0" cellpadding="0">
			<tr>
				<td class="postauthor">
					 					<cite>											<a href="space.php?uid=3684" target="_blank" id="userinfo10960" class="dropmenu" onmouseover="showMenu(this.id)">casual0402</a></cite>
						<p>一苇</p>													<div class="avatar"><img src="customavatars/3684.gif" width="102" height="100" border="0" alt="" /></div>												<p><em>版主</em></p>
						<p><img src="images/default/star_level3.gif" alt="Rank: 7" /><img src="images/default/star_level2.gif" alt="Rank: 7" /><img src="images/default/star_level1.gif" alt="Rank: 7" /></p>
																		
						<ul>
												<li class="pm"><a href="pm.php?action=send&amp;uid=3684" target="_blank" id="ajax_uid_10960" onclick="ajaxmenu(event, this.id, 9000000, null, 0)">发短消息</a></li>
						<li class="buddy"><a href="my.php?item=buddylist&amp;newbuddyid=3684&amp;buddysubmit=yes" target="_blank" id="ajax_buddy_0" onclick="ajaxmenu(event, this.id, null, 0)">加为好友</a></li>

																					<li class="offline">当前离线
														</li>
						
						</ul>
									</td>
				<td class="postcontent" >
					<div class="postinfo">
						<strong title="复制帖子链接到剪贴板" id="postnum_10960" onclick="setcopy('http://www.ubuntuchina.com/viewthread.php?tid=5379&amp;page=1#pid10960', '帖子链接已经复制到剪贴板')">1<sup>#</sup></strong>
													<em onclick="$('postmessage_10960').className='t_bigfont'">大</em>							<em onclick="$('postmessage_10960').className='t_msgfont'">中</em>
							<em onclick="$('postmessage_10960').className='t_smallfont'">小</em>												发表于 2008-12-30 18:14&nbsp;																					<a href="viewthread.php?tid=5379&amp;page=1&amp;authorid=3684">只看该作者</a>
																		</div>
					<div id="ad_thread2_0"></div>
					<div class="postmessage defaultpost">
												<div id="ad_thread3_0"></div><div id="ad_thread4_0"></div>
													<h2>Ubuntu之文件加密</h2>
						
						
																											<div id="postmessage_10960" class="t_msgfont">当Ubuntu Linux使用加密文件系统后，数据的安全能得到很好的保护。在这种情况下，即使把我们的机器送给黑客，只要他们没有密钥，黑客看到的数据只会是一堆乱码，毫无利用价值可言。<br />
<br />
本 文将详细介绍利用dm-crypt来创建加密文件系统的方法。与其它创建加密文件系统的方法相比，dm-crypt系统有着无可比拟的优越性：它的速度更 快，易用性更强。除此之外，它的适用面也很广，能够运行在各种块设备上，即使这些设备使用了RAID和 LVM也毫无障碍。dm-crypt系统之所以具有这些优点，主要得益于该技术是建立在2.6版本内核的device-mapper特性之上的。 device-mapper是设计用来为在实际的块设备之上添加虚拟层提供一种通用灵活的方法，以方便开发人员实现镜像、快照、级联和加密等处理。此外， dm-crypt使用了内核密码应用编程接口实现了透明的加密，并且兼容cryptloop系统。<br />
<br />
一、配置内核<br />
dm -crypt利用内核的密码应用编程接口来完成密码操作。一般说来，内核通常将各种加密程序以模块的形式加载。对于256-bit AES来说，其安全强度已经非常之高，即便用来保护绝密级的数据也足够了。因此本文中我们使用256-bit AES密码，为了保证您的内核已经加载AES密码模块，请利用下列命令进行检查：<br />
<br />
$ cat /proc/crypto <br />
<br />
如果看到类似下面的输出的话，说明AES模块已经加载：<br />
<br />
name&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;: aes<br />
module&nbsp; &nbsp;&nbsp; &nbsp; : aes<br />
type&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;: cipher<br />
blocksize&nbsp; &nbsp; : 16<br />
min keysize&nbsp;&nbsp;: 16<br />
max keysize&nbsp;&nbsp;: 32 <br />
<br />
否则，我们可以利用modprobe来手工加载AES模块，命令如下所示：<br />
<br />
$ sudo modprobe aes <br />
<br />
接下来安装dmsetup软件包，该软件包含有配置device-mapper所需的工具：<br />
<br />
$ sudo apt-get install dmsetup cryptsetup <br />
<br />
为检查dmsetup软件包是否已经建立了设备映象程序，键入下列命令： $ ls -l /dev/mapper/control <br />
<br />
接下来加载dm-crypt内核模块： $ sudo modprobe dm-crypt <br />
<br />
dm-crypt加载后，它会用device-mapper自动注册。如果再次检验的话，device-mapper已能识别dm-crypt，并且把crypt 添加为可用的对象： $ sudo dmsetup targets <br />
<br />
如果一切顺利，现在你应该看到crypt的下列输出： <br />
<br />
crypt&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;v1.1.0<br />
striped&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp; v1.0.2<br />
linear&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp;&nbsp;v1.0.1<br />
error&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;v1.0.1 <br />
<br />
这说明我们的系统已经为装载加密设备做好了准备。下面，我们先来建立一个加密设备。<br />
<br />
二、建立加密设备<br />
要创建作为加密设备装载的文件系统，有两种选择：一是建立一个磁盘映像，然后作为回送设备加载；二是使用物理设备。无论那种情况，除了在建立和捆绑回送设备外，其它操作过程都是相似的。<br />
<br />
1.建立回送磁盘映象<br />
如果你没有用来加密的物理设备（比如存储棒或另外的磁盘分区），作为替换，你可以利用命令dd来建立一个空磁盘映象，然后将该映象作为回送设备来装载，照样能用。下面我们以实例来加以介绍：<br />
<br />
$ dd if=/dev/zero of=~/secret.img bs=1M count=100 <br />
<br />
这里我们新建了一个大小为100 MB的磁盘映象，该映象名字为secret.img。要想改变其大小，可以改变count的值。&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp; <br />
<br />
接下来，我们利用losetup命令将该映象和一个回送设备联系起来：<br />
<br />
$ sudo losetup /dev/loop/0 ~/secret.img <br />
<br />
现在，我们已经得到了一个虚拟的块设备，其位于/dev/loop/0，并且我们能够如同使用其它设备那样来使用它。<br />
<br />
2.设置块设备<br />
准备好了物理块设备（例如/dev/sda1），或者是虚拟块设备（像前面那样建立了回送映象，并利用device-mapper将其作为加密的逻辑卷加载），我们就可以进行块设备配置了。<br />
<br />
下面我们使用cryptsetup来建立逻辑卷，并将其与块设备捆绑：<br />
<br />
$ sudo cryptsetup -y create myEncryptedFilesystem&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp;&nbsp;<br />
<br />
/dev/DEVICENAME <br />
<br />
其中，myEncryptedFilesystem 是新建的逻辑卷的名称。并且最后一个参数必须是将用作加密卷的块设备。所以，如果你要使用前面建立的回送映象作为虚拟块设备的话，应当运行以下命令： $ sudo cryptsetup -y create myEncryptedFilesystem&nbsp;&nbsp;/dev/loop/0 <br />
<br />
无论是使用物理块设备还是虚拟块设备，程序都会要你输入逻辑卷的口令，-y的作用在于要你输入两次口令以确保无误。这一点很重要，因为一旦口令弄错，你就会把自己的数据锁住，这时谁也帮不了您了！<br />
<br />
为了确认逻辑卷是否已经建立，可以使用下列命令进行检查一下：<br />
<br />
$ sudo dmsetup ls <br />
<br />
只要该命令列出了逻辑卷，就说明已经成功建立了逻辑卷。不过根据机器的不同，设备号可能有所不同： myEncryptedFilesystem&nbsp;&nbsp;(221, 0) <br />
<br />
device-mapper会把它的虚拟设备装载到/dev/mapper下面，所以，你的虚拟块设备应该是/dev/mapper/myEncryptedFilesystem ，尽管用起来它和其它块设备没什么不同，实际上它却是经过透明加密的。<br />
<br />
如同物理设备一样，我们也可以在虚拟设备上创建文件系统：<br />
<br />
$ sudo mkfs.ext3 /dev/mapper/myEncryptedFilesystem <br />
<br />
现在为新的虚拟块设备建立一个装载点，然后将其装载。命令如下所示： $ sudo mkdir /mnt/myEncryptedFilesystem <br />
<br />
$ sudo mount /dev/mapper/myEncryptedFilesystem&nbsp;&nbsp;/mnt/myEncryptedFilesystem <br />
<br />
我们能够利用下面的命令查看其装载后的情况： $ df -h /mnt/myEncryptedFilesystem <br />
<br />
Filesystem&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp;&nbsp;Size&nbsp;&nbsp;Used Avail Use% Mounted on<br />
<br />
/dev/mapper/myEncryptedFilesystem&nbsp; &nbsp;&nbsp;&nbsp;97M&nbsp;&nbsp;2.1M&nbsp; &nbsp;90M&nbsp; &nbsp;2% /mnt/myEncryptedFilesystem <br />
很好，我们看到装载的文件系统，尽管看起来与其它文件系统无异，但实际上写到/mnt/myEncryptedFilesystem /下的所有数据，在数据写入之前都是经过透明的加密处理后才写入磁盘的，因此，从该处读取的数据都是些密文。<br />
<br />
三、卸载方法<br />
要卸载加密文件系统，和平常的方法没什么两样：<br />
<br />
$ sudo umount /mnt/myEncryptedFilesystem <br />
<br />
即 便已经卸载了块设备，在dm-crypt中仍然视为一个虚拟设备。如若不信，你可以再次运行命令sudo dmsetup ls来验证一下，你会看到该设备依然会被列出。因为dm-crypt缓存了口令，所以机器上的其它用户不需要知道口令就能重新装载该设备。为了避免这种情 况发生，你必须在卸载设备后从dm-crypt中显式的删除该设备。命令具体如下所示：<br />
<br />
$ sudo cryptsetup remove myEncryptedFilesystem <br />
<br />
此后，它将彻底清除，要想再次装载的话，你必须再次输入口令。为了简化该过程，我们可以利用一个简单的脚本来完成卸载和清除工作：<br />
<br />
#!/bin/sh<br />
umount /mnt/myEncryptedFilesystem <br />
cryptsetup remove myEncryptedFilesystem <br />
<br />
四、重新装载<br />
在卸载加密设备后，我们很可能还需作为普通用户来装载它们。为了简化该工作，我们需要在/etc/fstab文件中添加下列内容： /dev/mapper/myEncryptedFilesystem&nbsp;&nbsp;/mnt/myEncryptedFilesystem&nbsp;&nbsp;ext3 noauto,noatime 0 0 <br />
<br />
此外，我们也可以通过建立脚本来替我们完成dm-crypt设备的创建和卷的装载工作，方法是用实际设备的名称或文件路径来替换/dev/DEVICENAME： <br />
<br />
#!/bin/sh<br />
<br />
cryptsetup create myEncryptedFilesystem&nbsp;&nbsp;/dev/DEVICENAME<br />
<br />
mount /dev/mapper/myEncryptedFilesystem&nbsp;&nbsp;/mnt/myEncryptedFilesystem <br />
<br />
如果你使用的是回送设备的话，你还能利用脚本来捆绑设备： <br />
<br />
#!/bin/sh <br />
<br />
losetup /dev/loop/0 ~/secret.img<br />
<br />
cryptsetup create myEncryptedFilesystem&nbsp;&nbsp;/dev/loop/0<br />
<br />
mount /dev/mapper/myEncryptedFilesystem&nbsp;&nbsp;/mnt/myEncryptedFilesystem <br />
如果你收到消息“ioctl: LOOP_SET_FD: Device or resource busy”，这说明回送设备很可能仍然装载在系统上。我们可以利用sudo losetup -d /dev/loop/0命令将其删除。<br />
<br />
五、加密主目录<br />
如果配置了PAM（Pluggable Authentication Modules，即可插入式鉴别模块）子系统在您登录时装载主目录的话，你甚至还能加密整个主目录。因为libpam-mount模块允许PAM在用户登 录时自动装载任意设备，所以我们要连同openssl一起来安装该模块。命令如下所示：<br />
<br />
$ sudo apt-get install libpam-mount openssl <br />
<br />
接下来，编辑文件/etc/pam.d/common-auth，在其末尾添加下列一行：<br />
<br />
auth&nbsp; &nbsp; optional&nbsp; &nbsp;&nbsp; &nbsp;&nbsp;&nbsp;pam_mount.so use_first_pass <br />
<br />
然后在文件/etc/pam.d/common-session末尾添加下列一行内容：<br />
<br />
session optional&nbsp; &nbsp;&nbsp; &nbsp;&nbsp;&nbsp;pam_mount.so <br />
<br />
现在，我们来设置PAM，告诉它需要装载哪些卷、以及装载位置。对本例而言，假设用户名是Ian，要用到的设备是/dev/sda1，要添加到/etc/security/pam_mount.conf文件中的内容如下所示：<br />
<br />
volume Ian crypt - /dev/sda1 /home/Ian cipher=aes aes-256-ecb /home/Ian.key <br />
<br />
如 果想使用磁盘映象，你需要在此规定回送设备（比如/dev/loop/0），并确保在Ian登录之前系统已经运行losetup。为此，你可以将 losetup /dev/loop/0 /home/secret.img放入/etc/rc.local文件中。因为该卷被加密，所以PAM需要密钥来装载卷。最后的参数用来告诉PAM密钥在 /home/Ian.key文件中，为此，通过使用OpenSSL来加密你的口令来建立密钥文件：<br />
<br />
$ sudo sh -c &quot;echo <br />
'<br />
YOUR PASSPHRASE<br />
' <br />
| openssl aes-256-ecb &gt; <br />
/home/Ian.key&quot; <br />
<br />
这时，提示你输入密码。注意，这里的口令必需和想要的用户登录密码一致。原因是当你登录时，PAM需要你提供这个密码，用以加密你的密钥文件，然后根据包含在密钥文件中的口令用dm-crypt装载你的主目录。<br />
<br />
需 要注意的是，这样做会把你的口令以明文的形式暴露在.history文件中，所以要及时利用命令history -c清楚你的历史记录。此外，要想避免把口令存放在加密的密钥文件中的话，可以让创建加密文件系统的口令和登录口令完全一致。这样，在身份认证时，PAM 只要把你的密码传给dm-crypt就可以了，而不必从密钥文件中抽取密码。为此，你可以在/etc/security/pam_mount.conf文 件中使用下面的命令行：<br />
<br />
volume Ian crypt - /dev/sda1 /home/Ian cipher=aes - - <br />
<br />
最后，为了保证在退出系统时自动卸载加密主目录，请编辑/etc/login.defs文件使得CLOSE_SESSIONS项配置如下：CLOSE_SESSIONS yes</div>

							
							
							
													</div>
															</div>
			</td>
		</tr>
		<tr>
			<td class="postauthor">
								<div class="popupmenu_popup userinfopanel" id="userinfo10960_menu" style="display: none;">
										<dl><dt>UID</dt><dd>3684&nbsp;</dd><dt>帖子</dt><dd>309&nbsp;</dd><dt>精华</dt><dd><a href="digest.php?authorid=3684">17</a>&nbsp;</dd><dt>积分</dt><dd>993&nbsp;</dd><dt>阅读权限</dt><dd>100&nbsp;</dd><dt>在线时间</dt><dd>64 小时&nbsp;</dd><dt>注册时间</dt><dd>2008-12-26&nbsp;</dd><dt>最后登录</dt><dd>2009-3-25&nbsp;</dd></dl>
											<p><a href="http://www.casual0402.cn/" target="_blank">查看个人网站</a></p>
										<p><a href="space.php?action=viewpro&amp;uid=3684" target="_blank">查看详细资料</a></p>
									</div>
							</td>
			<td class="postcontent">
				<div class="postactions">
										<p>
																																																<strong onclick="scroll(0,0)" title="顶部">TOP</strong>
					</p>
					<div id="ad_thread1_0"></div>
				</div>
			</td>
		</tr>
		</table>
		</div><div id="ad_interthread">		</div>
	<div class="mainbox viewthread">
			<table id="pid11063" summary="pid11063" cellspacing="0" cellpadding="0">
			<tr>
				<td class="postauthor">
					 					<cite>											<a href="space.php?uid=2472" target="_blank" id="userinfo11063" class="dropmenu" onmouseover="showMenu(this.id)">oy08</a></cite>
																			<div class="avatar"><img class="avatar" src="images/avatars/noavatar.gif" alt="" /></div>												<p><em>新手上路</em></p>
						<p><img src="images/default/star_level1.gif" alt="Rank: 1" /></p>
																		
						<ul>
												<li class="pm"><a href="pm.php?action=send&amp;uid=2472" target="_blank" id="ajax_uid_11063" onclick="ajaxmenu(event, this.id, 9000000, null, 0)">发短消息</a></li>
						<li class="buddy"><a href="my.php?item=buddylist&amp;newbuddyid=2472&amp;buddysubmit=yes" target="_blank" id="ajax_buddy_1" onclick="ajaxmenu(event, this.id, null, 0)">加为好友</a></li>

																					<li class="offline">当前离线
														</li>
						
						</ul>
									</td>
				<td class="postcontent" >
					<div class="postinfo">
						<strong title="复制帖子链接到剪贴板" id="postnum_11063" onclick="setcopy('http://www.ubuntuchina.com/viewthread.php?tid=5379&amp;page=1#pid11063', '帖子链接已经复制到剪贴板')">2<sup>#</sup></strong>
													<em onclick="$('postmessage_11063').className='t_bigfont'">大</em>							<em onclick="$('postmessage_11063').className='t_msgfont'">中</em>
							<em onclick="$('postmessage_11063').className='t_smallfont'">小</em>												发表于 2008-12-31 20:14&nbsp;																					<a href="viewthread.php?tid=5379&amp;page=1&amp;authorid=2472">只看该作者</a>
																		</div>
					<div id="ad_thread2_1"></div>
					<div class="postmessage defaultpost">
												<div id="ad_thread3_1"></div><div id="ad_thread4_1"></div>
						
						
																											<div id="postmessage_11063" class="t_msgfont">好啊！<br />
<img src="images/smilies/default/lol.gif" smilieid="12" border="0" alt="" /> <img src="images/smilies/default/lol.gif" smilieid="12" border="0" alt="" /> <img src="images/smilies/default/lol.gif" smilieid="12" border="0" alt="" /> <img src="images/smilies/default/lol.gif" smilieid="12" border="0" alt="" /> <img src="images/smilies/default/lol.gif" smilieid="12" border="0" alt="" /> <img src="images/smilies/default/lol.gif" smilieid="12" border="0" alt="" /> <img src="images/smilies/default/lol.gif" smilieid="12" border="0" alt="" /> <img src="images/smilies/default/lol.gif" smilieid="12" border="0" alt="" /></div>

							
							
							
													</div>
															</div>
			</td>
		</tr>
		<tr>
			<td class="postauthor">
								<div class="popupmenu_popup userinfopanel" id="userinfo11063_menu" style="display: none;">
										<dl><dt>UID</dt><dd>2472&nbsp;</dd><dt>帖子</dt><dd>29&nbsp;</dd><dt>精华</dt><dd><a href="digest.php?authorid=2472">0</a>&nbsp;</dd><dt>积分</dt><dd>45&nbsp;</dd><dt>阅读权限</dt><dd>10&nbsp;</dd><dt>在线时间</dt><dd>2 小时&nbsp;</dd><dt>注册时间</dt><dd>2008-11-21&nbsp;</dd><dt>最后登录</dt><dd>2009-3-4&nbsp;</dd></dl>
										<p><a href="space.php?action=viewpro&amp;uid=2472" target="_blank">查看详细资料</a></p>
									</div>
							</td>
			<td class="postcontent">
				<div class="postactions">
										<p>
																																																<strong onclick="scroll(0,0)" title="顶部">TOP</strong>
					</p>
					<div id="ad_thread1_1"></div>
				</div>
			</td>
		</tr>
		</table>
		</div>
</form>

<div class="pages_btns">
	<div class="threadflow"><a href="redirect.php?fid=58&amp;tid=5379&amp;goto=nextoldset"> &lsaquo;&lsaquo; 上一主题</a> | <a href="redirect.php?fid=58&amp;tid=5379&amp;goto=nextnewset">下一主题 &rsaquo;&rsaquo;</a></div>
				<span class="postbtn" id="newspecialtmp" onmouseover="$('newspecial').id = 'newspecialtmp';this.id = 'newspecial';showMenu(this.id)"><a href="post.php?action=newthread&amp;fid=58&amp;extra="><img src="images/default/newtopic.gif" border="0" alt="发新话题" title="发新话题" /></a></span>
		<span class="replybtn"><a href="post.php?action=reply&amp;fid=58&amp;tid=5379&amp;extra="><img src="images/default/reply.gif" border="0" alt="" /></a></span></div>

	<script type="text/javascript">
		function modaction(action) {
			if(!action) {
				return;
			}
			if(!in_array(action, ['delpost', 'banpost'])) {
				window.location=('topicadmin.php?tid=5379&fid=58&action='+ action +'&sid=2yJp57');
			} else {
				document.modactions.action = 'topicadmin.php?action='+ action +'&fid=58&tid=5379&page=1;'
				document.modactions.submit();
			}
		}
	</script>
	<div id="footfilter" class="box">
					<select onchange="if(this.options[this.selectedIndex].value != '') {
		window.location=('forumdisplay.php?fid='+this.options[this.selectedIndex].value+'&amp;sid=2yJp57') }">
		<option value="">最近访问的版块 ...</option>
		<option value="8">新手入门</option><option value="51">新软快递</option><option value="52">硬件驱动</option><option value="10">美化专区</option><option value="9">安装配置</option><option value="23">服务器管理</option><option value="37">Linux/Ubuntu学习资源大全</option><option value="81">Linux读书月活动专区</option><option value="73">社区图书《完美应用Ubuntu》读者专区</option><option value="14">娱乐天堂</option>		</select>
	</div>
	<div class="popupmenu_popup" id="forumlist_menu" style="display: none">
		<dl><dt><a href="index.php?gid=72">UbuntuChina原创图书读者论坛</a></dt><dd><ul><li><a href="forumdisplay.php?fid=81">Linux读书月活动专区</a></li><li><a href="forumdisplay.php?fid=82">社区图书《Ubuntu实战技巧精粹》专区</a></li><li><a href="forumdisplay.php?fid=73">社区图书《完美应用Ubuntu》读者专区</a></li></ul></dd></dl><dl><dt><a href="index.php?gid=5">社区管理</a></dt><dd><ul><li><a href="forumdisplay.php?fid=40">互动专区</a></li><li class="sub"><a href="forumdisplay.php?fid=42">线下活动和自助活动</a></li><li class="sub"><a href="forumdisplay.php?fid=43">有奖活动</a></li></ul></dd></dl><dl><dt><a href="index.php?gid=48">社区新知</a></dt><dd><ul><li><a href="forumdisplay.php?fid=89">Ubuntu 9.04专区</a></li><li><a href="forumdisplay.php?fid=19">新闻播报</a></li><li><a href="forumdisplay.php?fid=51">新软快递</a></li><li><a href="forumdisplay.php?fid=44">新书快讯</a></li></ul></dd></dl><dl><dt><a href="index.php?gid=7">初学者专区</a></dt><dd><ul><li><a href="forumdisplay.php?fid=8">新手入门</a></li><li><a href="forumdisplay.php?fid=52">硬件驱动</a></li><li><a href="forumdisplay.php?fid=9">安装配置</a></li><li><a href="forumdisplay.php?fid=15">软件应用</a></li></ul></dd></dl><dl><dt><a href="index.php?gid=11">桌面应用</a></dt><dd><ul><li><a href="forumdisplay.php?fid=10">美化专区</a></li><li><a href="forumdisplay.php?fid=12">办公应用</a></li><li><a href="forumdisplay.php?fid=14">娱乐天堂</a></li><li><a href="forumdisplay.php?fid=54">聊天世界</a></li><li><a href="forumdisplay.php?fid=13">图形图像</a></li><li><a href="forumdisplay.php?fid=74">系统管理</a></li></ul></dd></dl><dl><dt><a href="index.php?gid=55">企业应用</a></dt><dd><ul><li><a href="forumdisplay.php?fid=23">服务器管理</a></li><li><a href="forumdisplay.php?fid=56">数据库管理</a></li><li><a href="forumdisplay.php?fid=57">架站指南</a></li><li class="current"><a href="forumdisplay.php?fid=58">安全防护</a></li><li><a href="forumdisplay.php?fid=22">虚拟化专区</a></li></ul></dd></dl><dl><dt><a href="index.php?gid=59">开发应用</a></dt><dd><ul><li><a href="forumdisplay.php?fid=61">Web开发</a></li><li><a href="forumdisplay.php?fid=62">嵌入开发</a></li><li><a href="forumdisplay.php?fid=16">系统开发</a></li></ul></dd></dl><dl><dt><a href="index.php?gid=18">开源杂志</a></dt><dd><ul><li><a href="forumdisplay.php?fid=80">《开源实用技术文摘》</a></li><li><a href="forumdisplay.php?fid=20">《Full Cirle》中文版</a></li><li><a href="forumdisplay.php?fid=64">《PHPer》专区</a></li></ul></dd></dl><dl><dt><a href="index.php?gid=75">其他Linux发行版</a></dt><dd><ul><li><a href="forumdisplay.php?fid=76">Debian交流区</a></li><li><a href="forumdisplay.php?fid=77">SUSE/OpenSUSE交流区</a></li><li><a href="forumdisplay.php?fid=78">RHEL/CentOS/Fedora交流区</a></li><li><a href="forumdisplay.php?fid=79">国产发行版红旗交流区</a></li></ul></dd></dl><dl><dt><a href="index.php?gid=36">分享专区</a></dt><dd><ul><li><a href="forumdisplay.php?fid=38">原创贴吧</a></li><li><a href="forumdisplay.php?fid=39">Linux认证和职业专区</a></li><li class="sub"><a href="forumdisplay.php?fid=85">Linux类职位招聘和求职专区</a></li><li><a href="forumdisplay.php?fid=37">Linux/Ubuntu学习资源大全</a></li></ul></dd></dl><dl><dt><a href="index.php?gid=65">社区茶馆</a></dt><dd><ul><li><a href="forumdisplay.php?fid=66">音乐分享</a></li><li><a href="forumdisplay.php?fid=67">茶余饭后</a></li></ul></dd></dl>	</div>

<script type="text/javascript">
var maxpage = 1;
if(maxpage > 1) {
	document.onkeyup = function(e){
		e = e ? e : window.event;
		var tagname = is_ie ? e.srcElement.tagName : e.target.tagName;
		if(tagname == 'INPUT' || tagname == 'TEXTAREA') return;
		actualCode = e.keyCode ? e.keyCode : e.charCode;
					}
}
</script>

</div>


<div id="ad_footerbanner1"></div><div id="ad_footerbanner2"></div><div id="ad_footerbanner3"></div>

<div id="footer">
	<div class="wrap">
		<div id="footlinks">
			<p>当前时区 GMT+8, 现在时间是 2009-3-27 13:00 <a href="http://www.miibeian.gov.cn/" target="_blank">京ICP备07039416</a></p>
			<p>
				<a href="member.php?action=clearcookies&amp;formhash=311c2afe">清除 Cookies</a>
				- <a href="mailto:hxl2000@gmail.com">联系我们</a> - <a href="http://www.UbuntuChina.com/" target="_blank">UbuntuChina互动社区（2006－2008）</a>
				 - <a href="archiver/" target="_blank">Archiver</a>								- <span class="scrolltop" onclick="window.scrollTo(0,0);">TOP</span>
							</p>
		</div>

		<a href="http://www.discuz.net" target="_blank" title="Powered by Discuz!"><img src="images/default/discuz_icon.gif" border="0" alt="Discuz!" /></a>
		<p id="copyright">
			Powered by <strong><a href="http://www.discuz.net" target="_blank">Discuz!</a></strong> <em>6.0.0</em>			&copy; 2001-2007 <a href="http://www.comsenz.com" target="_blank">Comsenz Inc.</a>
		</p>			<p id="debuginfo">Processed in 0.028999 second(s), 6 queries.</p>
			</div>
</div>
</body>
</html><script src="include/javascript/msn.js" type="text/javascript"></script>
