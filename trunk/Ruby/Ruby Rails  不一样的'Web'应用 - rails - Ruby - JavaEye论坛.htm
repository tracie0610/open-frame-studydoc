<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="zh-CN" dir="ltr">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
    <title>Ruby/Rails: 不一样的'Web'应用 - rails - Ruby - JavaEye论坛</title>
    <meta name="description" content="我不是Web程序员，也从来未开发过用户超过10个人的'web'项目:-)，但这并不意味着web技术对我无用，正相反，我开发过许多和web技术有关的程序和库,web架构和思想对我的设计和开发有着很大的帮助。 例如我经常碰到要设计通讯协议以适应不可靠的传输，web的无状态特性正是克服不可靠传输的法宝，屡试不爽:-) 最近一段时间用ruby作了不少东西，也有用rails，但是从来没有对rails内部进行深 ..." />
    <meta name="keywords" content=" rails Ruby" />
    <link rel="shortcut icon" href="/images/favicon.ico" type="image/x-icon" />
    <link href="/rss/board/Ruby" rel="alternate" title="JavaEye论坛" type="application/rss+xml" />
    <link href="http://www.javaeye.com/stylesheets/forum.css?1244177950" media="screen" rel="stylesheet" type="text/css" />
    <script src="http://www.javaeye.com/javascripts/application.js?1239780471" type="text/javascript"></script>
      <link href="http://www.javaeye.com/javascripts/syntaxhighlighter/SyntaxHighlighter.css?1201588027" media="screen" rel="stylesheet" type="text/css" />
  <script src="http://www.javaeye.com/javascripts/syntaxhighlighter/shCoreCommon.js?1238329845" type="text/javascript"></script>
<script src="http://www.javaeye.com/javascripts/hotkey.js?1238403289" type="text/javascript"></script>
            <script src="http://www.javaeye.com/javascripts/dragdrop.js?1231828836" type="text/javascript"></script>
            </head>
  <body>
    <div id="page">
      <div id="header">
        <div class="clearfix"><div id="user_nav">
      <a href="/login" class="welcome" title="登录">您还未登录 !</a>
    <a href="http://www.javaeye.com/all" style="color:red">我的应用</a>
    <a href="/login">登录</a>
    <a href="/signup" class="nobg">注册</a>
  </div>
</div>
        <div class="clearfix">
          <div id="branding">
            <a href="http://www.javaeye.com"><img alt="JavaEye3.0" src="http://www.javaeye.com/images/logo.gif?1242180259" title="JavaEye-最棒的软件开发交流社区" /></a>
          </div>
          <div id="ad">
<script type="text/javascript">
document.observe('dom:loaded',function() {$("ad").innerHTML = '<a href=\'/adverts/2\' target=\'_blank\'><img src="http://ftp.javaeye.com/public/javaeye/rubyconfleft.png" style="BORDER:1px SOLID #000000" /></a>';});
</script>
</div>
        </div>
      </div>

      <div id="content" class="clearfix">
        <div id="main">
          


          


<div class="clearfix">
  <div class="crumbs">
    <a href="/forums">论坛首页</a> <span class="arrow">&rarr;</span>
    <a href="/forums/board/Ruby">Ruby版</a> <span class="arrow">&rarr;</span>
    <a href="/forums/tag/rails">rails</a> <span class="arrow">&rarr;</span>
    <h1>Ruby/Rails: 不一样的'Web'应用</h1>
  </div>
</div>

<div id="forum_tag_list">
  <a href='/forums/board/Ruby'>全部</a>
      <a href='/forums/tag/ruby'>ruby</a>
      <a href='/forums/tag/rails'>rails</a>
      <a href='/forums/tag/rake'>rake</a>
      <a href='/forums/tag/DSL'>DSL</a>
      <a href='/forums/tag/RJS'>RJS</a>
      <a href='/forums/tag/YAML'>YAML</a>
  </div>

<div class="actions">
  <div class="buttons"><a href='/forums/40/topics/219826/posts/new' class='new_post' title='发表回复'>&nbsp;</a></div>
  <div class="wrapper">
    <div id="forum_advert_b0"></div>
    <div class="pagination"><span class="disabled prev_page">&laquo; 上一页</span> <span class="current">1</span> <a href="/topic/219826?page=2" rel="next">2</a> <a href="/topic/219826?page=2" class="next_page" rel="next">下一页 &raquo;</a></div>
    <div class="info">浏览 6448 次</div>
  </div>
</div>



<table id="forum_main" cellspacing="1">
  <thead>
    <tr>
      <th colspan="2" class="topic_title">
        <div class="wrapper"> <a href="/topic/219826">主题：Ruby/Rails: 不一样的'Web'应用</a></div>
        <div id='topic_rate_box'><strong class='highlight'>该帖已经被评为良好帖</strong></div>
      </th>
    </tr>
    <tr>
      <td class="first_col">作者</td>
      <td class="last_col">正文</td>
    </tr>
  </thead>
  <tbody id="posts">
    <tr id="p_611923">
  <td class="postauthor">
    <ul>
      <li class="name">rubynroll</li>
      <li>等级: <img src="/images/star3.gif" alt="三星会员" title="三星会员"/></li>
      <li><a href='http://rubynroll.javaeye.com' target='_blank'><img alt="用户头像" class="logo" src="http://www.javaeye.com/upload/logo/user/122519/5d2a1a89-9b89-4d12-aeb0-48cffe68b86c.jpeg?1236838410" title="rubynroll的博客: Step Third" /></a></li>
      <li>文章: 187</li>
      <li>积分: 280</li>
      <li>来自: Wgt</li>
      <li><img src='/images/status/offline.gif'/></li>
    </ul>
  </td>
  <td class="postcontent">
    <div class="postactions">
      <div class="description">发表时间：2008-07-26 </div>
      <div class="links">
        <a href='/forums/40/topics/219826/posts/611923/quote' class='quote'>引用</a>
        
      </div>
    </div>
    <div class="postbody clearfix">
      
        <div id="related_topics">相关文章: <span class="close"><a href="#" onclick="$('related_topics').hide();return false;" title="关闭">&nbsp;</a></span>
          <ul>
                            <li><a href='http://www.javaeye.com/topic/220771' title='Ruby/Rails: 不一样的'Web'应用（续）' target='_blank'>Ruby/Rails: 不一样的'Web'应用（续）</a></li>
                              <li><a href='http://www.javaeye.com/topic/170683' title='Ruby On Rails-2.0.2源代码分析（1）-Rails的启动' target='_blank'>Ruby On Rails-2.0.2源代码分析（1）-Rails的启动</a></li>
                              <li><a href='http://www.javaeye.com/topic/285576' title='经典的资源，Rails RESTful却做不到？' target='_blank'>经典的资源，Rails RESTful却做不到？</a></li>
                          </ul>
            <br/><span>推荐圈子: <a href="http://mars.group.javaeye.com" target="_blank">火星常驻JE办事处</a></span>
            <br/><a href="/wiki/topic/219826" target="_blank">更多相关推荐</a>
          </div>
                    <script type="text/javascript">
            new Draggable("related_topics");
          </script>
        
        我不是Web程序员，也从来未开发过用户超过10个人的'web'项目:-)，但这并不意味着web技术对我无用，正相反，我开发过许多和web技术有关的程序和库,web架构和思想对我的设计和开发有着很大的帮助。<br /><br />例如我经常碰到要设计通讯协议以适应不可靠的传输，web的无状态特性正是克服不可靠传输的法宝，屡试不爽:-)<br /><br />最近一段时间用ruby作了不少东西，也有用rails，但是从来没有对rails内部进行深究.直到最近碰到一个项目，促使我不得不到rails里面去挖掘，以借鉴rails一些优秀的东西。<br /><br />这个项目非常有趣，是一套用于农场的自动化系统（所以使用者大多是奶牛，哈哈～），包含用于工人们佩戴的移动W设备，到处安装的RFID数据收集设备，闸门控制设备，电子称，显示屏....还有许多名目繁多的设备，这些设备的数据有的通过电缆，有的通过ZigBee无线网络汇集到一台服务器上，这台服务器跑Linux，运行Rails。服务器负责收集所有设备的数据，和发送指令给相关设备，例如控制闸门。<br /><br />给我不断带来麻烦的是这个W设备。<br /><br />W设备是这个系统里面除服务器外唯一和人打交道的设备，配有RFID数据收集器，一个小液晶显示屏，数个按钮，通过ZigBee无线网络和服务器通讯---典型的嵌入式移动设备。<br /><br />客户起初对W设备的操作功能要求不高而对成本敏感，因此W设备配置了很低的硬件资源，基本上就是靠一个集成了无线功能的MCU操作，仅数十k的内存，但对于简单的数据收集和传输，绰绰有余。<br /><br />然而好景不长，随着项目进行，客户对W设备赋予了更多更重要的角色，功能需求暴涨，且快速变化，更重要的是，要求日后能够定制功能（二次开发）。<br /><br />Mission Impossible ? 不，这正是一个典型B/S架构的系统最适合做的事情了。当然普通web浏览器无法在W的数十k内存上跑，HTTP/HTML也无法有效的在ZigBee网络上传输，因此我们就新设计了一套通讯协议和标记语言,姑且称之为MML(Mini Markup Language)。<br /><br />那么服务器端呢？已经有rails在跑用于收集/展示数据，输出报表之类的任务，可以利用rails来作为W的服务端么?<br /><br />通讯问题，改改Webric，从串口(连接到ZigBee网络控制器)上获取数据并伪装成web请求,或许还可以...路由问题，由于ZigBee带宽极其有限，需要高度精简传输内容，因此传回来的请求串中包含的是非常简短的内容，需要转换到对应的Controller/Action，这个通过添加router映射似乎也可行。MML Render问题就比较头痛了，需要修改的地方不少。<br /><br />考虑到修改rails可能工作量和分险比较高，于是采用另外一个方案：设计新的W Server，在W Server里面直接利用rails的资源。实际上，最终这个W Server直接放在rails应用程序的scripte目录下（也许vendor目录更合适），在W server里面只要加入：<br /><pre name="code" class="ruby">require File.dirname(__FILE__) + '/../config/boot'</pre><br />然后就可以使用rails提供的任何资源了，当然对于W Server来说，最有用的是Models。这样W Server就和rails应用程序浑然一体了。<br /><br />W Server有了rails这样强大的后盾之后，还需要有：Parser, Router,Server,Controller,和MML render.<br /><br />Parser: 负责解析自定义的通讯协议，获取从W设备传来的请求，并解析参数等。<br />Router: 扫描并装载Controllers，缓存Controller对象，根据Parser的结果取得相应Controller的对象。Router还负责监控Controller是否已被修改和重新装载Controller.<br />Server: 总控制，从串口中读取数据，调用Parser解析,把结果传给Router，从Router中获取Controler对象并根据Parser结果调用Controller.Action，以及缓存Controller的输出等等。<br />Controller: 业务逻辑都在这里实现，调用rails的Models访问数据库。<br />MML Render: 使用erb作为模板文件，再加上一些辅助的功能，例如render link，menu之类的，和自定义的MML特性密切相关。MML Render作为module最终mixin到Controller里面。<br /><br />可以看出，W Server模型几乎和rails的一样，在设计W Server碰到问题时经常探究在rails中是怎么解决的，因此倒是对rails的了解增进了不少。当然由于W Server的工作方式，目标和rails不同，因此复杂度就不可同日而语.<br /><br />这个项目做完之后，我有几个感受：<br />＊ Ruby的开发效率真的很高<br />&nbsp; 除去注释，full stack的W Server的全部代码少于千行,what a surprise！当然，这里沾了rails的光，省却了Models，还有erb拿来就用.然而相比之下，在W上光MML解析和Render部分C代码就超过2000行.<br /><br />＊ 复用Rails真的很容易<br />&nbsp; 在这个案例中，就是增加一行代码而已.<br /><br />＊ Web技术，可以无处不在<br />Ruby/Rails = Make it real!<br /><br /><br />～文以共勉～<br />
      </div>
      
      
        <div id="forum_advert_b5"><script type="text/javascript">
google_ad_client = "pub-9971846879634397";
google_ad_slot = "6749798418";
google_ad_width = 728;
google_ad_height = 90;
</script>
<script type="text/javascript"
src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
</script></div>
        <div id="topic_copyright">声明：JavaEye文章版权属于作者，受法律保护。没有作者书面许可不得转载。 </div>
        <div id="forum_advert_b3">
          <span>推荐链接</span>
          <ul class='adverts'><li><a href='/adverts/111' target='_blank'><span style="color:red;font-weight:bold;">下载免费的 IBM DB2 Express-C 数据库</span></a></li><li><a href='/adverts/170' target='_blank'><span style="color:blue;font-weight:bold;">6月份JAVA技术沙龙活动通知</span></a></li><li><a href='/adverts/126' target='_blank'><span style="color:red;font-weight:bold;">在繁琐中挣扎还是简化自主管理？</span></a></li></ul>
        </div>
          </td>
  </tr>
  <tr>
    <td class="postauthor"><a href="#">返回顶楼</a></td>
    <td class="postcontent">
      <div class="icons">
        <a href='http://rubynroll.javaeye.com' class='icon_www' title='浏览作者的博客'>&nbsp;</a>
        <a href='http://rubynroll.javaeye.com/blog/profile' class='icon_profile' title='浏览作者资料'>&nbsp;</a>
        <a href="http://app.javaeye.com/messages/new?message%5Breceiver_name%5D=rubynroll" class="icon_pm" title="发送站内短信">&nbsp;</a>
        <a href='http://rubynroll.javaeye.com/blog/guest_book' class='icon_guestbook' title='给作者留言'>&nbsp;</a>
        
        
      </div>
                        </td>
  </tr>
  <tr class="sep2"><td colspan="2"></td></tr>
<tr id="p_612290">
  <td class="postauthor">
    <ul>
      <li class="name">liuming</li>
      <li>等级: 初级会员</li>
      <li><a href='http://liuming.javaeye.com' target='_blank'><img alt="用户头像" class="logo" src="http://www.javaeye.com/images/user-logo.gif?1194185304" title="liuming的博客: .tar.gz" /></a></li>
      <li>文章: 8</li>
      <li>积分: 30</li>
      <li>来自: 广州</li>
      <li><img src='/images/status/offline.gif'/></li>
    </ul>
  </td>
  <td class="postcontent">
    <div class="postactions">
      <div class="description">发表时间：2008-07-27 </div>
      <div class="links">
        <a href='/forums/40/topics/219826/posts/612290/quote' class='quote'>引用</a>
        
      </div>
    </div>
    <div class="postbody clearfix">
      
        不错啊。楼主是不是在国外的
      </div>
      
          </td>
  </tr>
  <tr>
    <td class="postauthor"><a href="#">返回顶楼</a></td>
    <td class="postcontent">
      <div class="icons">
        <a href='http://liuming.javaeye.com' class='icon_www' title='浏览作者的博客'>&nbsp;</a>
        <a href='http://liuming.javaeye.com/blog/profile' class='icon_profile' title='浏览作者资料'>&nbsp;</a>
        <a href="http://app.javaeye.com/messages/new?message%5Breceiver_name%5D=liuming" class="icon_pm" title="发送站内短信">&nbsp;</a>
        <a href='http://liuming.javaeye.com/blog/guest_book' class='icon_guestbook' title='给作者留言'>&nbsp;</a>
        
        
      </div>
                        <div id='post_rate_box_612290' class='post_rate_box'><a href='#' onclick='return false;' class='good' title='好'>0</a> <a href='#' onclick='return false;' class='hidden' title='差'>0</a> 请登录后投票</div>                  </td>
  </tr>
  <tr class="sep2"><td colspan="2"></td></tr>
<tr id="p_612327">
  <td class="postauthor">
    <ul>
      <li class="name">dazuiba</li>
      <li>等级: <img src="/images/star5.gif" alt="五星会员" title="五星会员"/></li>
      <li><a href='http://dazuiba.javaeye.com' target='_blank'><img alt="用户头像" class="logo" src="http://www.javaeye.com/upload/logo/user/32428/b5a63904-6126-3632-9f24-8a984bd22538.jpg?1236833366" title="dazuiba的博客: dazuiba" /></a></li>
      <li>文章: 246</li>
      <li>积分: 607</li>
      <li>来自: 上海</li>
      <li><img src='/images/status/offline.gif'/></li>
    </ul>
  </td>
  <td class="postcontent">
    <div class="postactions">
      <div class="description">发表时间：2008-07-27 </div>
      <div class="links">
        <a href='/forums/40/topics/219826/posts/612327/quote' class='quote'>引用</a>
        
      </div>
    </div>
    <div class="postbody clearfix">
      
        这种方式利用web mvc framework的确很少见。<br /><br />看来rails的用武之地也不仅仅在B/S结构中呀！<br /><br />期待楼主有更多相关的文章！
      </div>
      
          </td>
  </tr>
  <tr>
    <td class="postauthor"><a href="#">返回顶楼</a></td>
    <td class="postcontent">
      <div class="icons">
        <a href='http://dazuiba.javaeye.com' class='icon_www' title='浏览作者的博客'>&nbsp;</a>
        <a href='http://dazuiba.javaeye.com/blog/profile' class='icon_profile' title='浏览作者资料'>&nbsp;</a>
        <a href="http://app.javaeye.com/messages/new?message%5Breceiver_name%5D=dazuiba" class="icon_pm" title="发送站内短信">&nbsp;</a>
        <a href='http://dazuiba.javaeye.com/blog/guest_book' class='icon_guestbook' title='给作者留言'>&nbsp;</a>
        
        
      </div>
                        <div id='post_rate_box_612327' class='post_rate_box'><a href='#' onclick='return false;' class='good' title='好'>0</a> <a href='#' onclick='return false;' class='hidden' title='差'>0</a> 请登录后投票</div>                  </td>
  </tr>
  <tr class="sep2"><td colspan="2"></td></tr>
<tr id="p_613399">
  <td class="postauthor">
    <ul>
      <li class="name">hozaka</li>
      <li>等级: <img src="/images/star1.gif" alt="一星会员" title="一星会员"/></li>
      <li><a href='http://hozaka.javaeye.com' target='_blank'><img alt="用户头像" class="logo" src="http://www.javaeye.com/upload/logo/user/79879/1bd7072c-f437-3a33-8ce2-ad0fb091f860.jpg?1236837573" title="hozaka的博客: Hozaka.Guo" /></a></li>
      <li>文章: 106</li>
      <li>积分: 144</li>
      <li>来自: 上海</li>
      <li><img src='/images/status/offline.gif'/></li>
    </ul>
  </td>
  <td class="postcontent">
    <div class="postactions">
      <div class="description">发表时间：2008-07-28 </div>
      <div class="links">
        <a href='/forums/40/topics/219826/posts/613399/quote' class='quote'>引用</a>
        
      </div>
    </div>
    <div class="postbody clearfix">
      
        其实我个人觉得 B/S 架构理解成为 User Agent - Server 比较合适一点。<br />可惜由于一直没有接触过其他的嵌入式设备，所以也没有如同楼主这样的开发经验了，不得不说是一种遗憾
      </div>
      
          </td>
  </tr>
  <tr>
    <td class="postauthor"><a href="#">返回顶楼</a></td>
    <td class="postcontent">
      <div class="icons">
        <a href='http://hozaka.javaeye.com' class='icon_www' title='浏览作者的博客'>&nbsp;</a>
        <a href='http://hozaka.javaeye.com/blog/profile' class='icon_profile' title='浏览作者资料'>&nbsp;</a>
        <a href="http://app.javaeye.com/messages/new?message%5Breceiver_name%5D=hozaka" class="icon_pm" title="发送站内短信">&nbsp;</a>
        <a href='http://hozaka.javaeye.com/blog/guest_book' class='icon_guestbook' title='给作者留言'>&nbsp;</a>
        
        
      </div>
                        <div id='post_rate_box_613399' class='post_rate_box'><a href='#' onclick='return false;' class='good' title='好'>0</a> <a href='#' onclick='return false;' class='hidden' title='差'>0</a> 请登录后投票</div>                  </td>
  </tr>
  <tr class="sep2"><td colspan="2"></td></tr>
<tr id="p_623179">
  <td class="postauthor">
    <ul>
      <li class="name">universac</li>
      <li>等级: 初级会员</li>
      <li><a href='http://universac.javaeye.com' target='_blank'><img alt="用户头像" class="logo" src="http://www.javaeye.com/images/user-logo.gif?1194185304" title="universac的博客: universac" /></a></li>
      <li>文章: 12</li>
      <li>积分: 30</li>
      <li>来自: ...</li>
      <li><img src='/images/status/offline.gif'/></li>
    </ul>
  </td>
  <td class="postcontent">
    <div class="postactions">
      <div class="description">发表时间：2008-08-05 </div>
      <div class="links">
        <a href='/forums/40/topics/219826/posts/623179/quote' class='quote'>引用</a>
        
      </div>
    </div>
    <div class="postbody clearfix">
      
        楼主

你上面说的parser和server部分，主要读串口获取请求那部分也都是ruby写的吧？
      </div>
      
          </td>
  </tr>
  <tr>
    <td class="postauthor"><a href="#">返回顶楼</a></td>
    <td class="postcontent">
      <div class="icons">
        <a href='http://universac.javaeye.com' class='icon_www' title='浏览作者的博客'>&nbsp;</a>
        <a href='http://universac.javaeye.com/blog/profile' class='icon_profile' title='浏览作者资料'>&nbsp;</a>
        <a href="http://app.javaeye.com/messages/new?message%5Breceiver_name%5D=universac" class="icon_pm" title="发送站内短信">&nbsp;</a>
        <a href='http://universac.javaeye.com/blog/guest_book' class='icon_guestbook' title='给作者留言'>&nbsp;</a>
        
        
      </div>
                        <div id='post_rate_box_623179' class='post_rate_box'><a href='#' onclick='return false;' class='good' title='好'>0</a> <a href='#' onclick='return false;' class='hidden' title='差'>0</a> 请登录后投票</div>                  </td>
  </tr>
  <tr class="sep2"><td colspan="2"></td></tr>
<tr id="p_629001">
  <td class="postauthor">
    <ul>
      <li class="name">rubynroll</li>
      <li>等级: <img src="/images/star3.gif" alt="三星会员" title="三星会员"/></li>
      <li><a href='http://rubynroll.javaeye.com' target='_blank'><img alt="用户头像" class="logo" src="http://www.javaeye.com/upload/logo/user/122519/5d2a1a89-9b89-4d12-aeb0-48cffe68b86c.jpeg?1236838410" title="rubynroll的博客: Step Third" /></a></li>
      <li>文章: 187</li>
      <li>积分: 280</li>
      <li>来自: Wgt</li>
      <li><img src='/images/status/offline.gif'/></li>
    </ul>
  </td>
  <td class="postcontent">
    <div class="postactions">
      <div class="description">发表时间：2008-08-12 </div>
      <div class="links">
        <a href='/forums/40/topics/219826/posts/629001/quote' class='quote'>引用</a>
        
      </div>
    </div>
    <div class="postbody clearfix">
      
        <div class='quote_title'>universac 写道</div><div class='quote_div'>楼主

你上面说的parser和server部分，主要读串口获取请求那部分也都是ruby写的吧？</div><br/>是的. 用的是ruby-serialport扩展:
http://ruby-serialport.rubyforge.org/


      </div>
      
          </td>
  </tr>
  <tr>
    <td class="postauthor"><a href="#">返回顶楼</a></td>
    <td class="postcontent">
      <div class="icons">
        <a href='http://rubynroll.javaeye.com' class='icon_www' title='浏览作者的博客'>&nbsp;</a>
        <a href='http://rubynroll.javaeye.com/blog/profile' class='icon_profile' title='浏览作者资料'>&nbsp;</a>
        <a href="http://app.javaeye.com/messages/new?message%5Breceiver_name%5D=rubynroll" class="icon_pm" title="发送站内短信">&nbsp;</a>
        <a href='http://rubynroll.javaeye.com/blog/guest_book' class='icon_guestbook' title='给作者留言'>&nbsp;</a>
        
        
      </div>
                        <div id='post_rate_box_629001' class='post_rate_box'><a href='#' onclick='return false;' class='good' title='好'>0</a> <a href='#' onclick='return false;' class='hidden' title='差'>0</a> 请登录后投票</div>                  </td>
  </tr>
  <tr class="sep2"><td colspan="2"></td></tr>
<tr id="p_653450">
  <td class="postauthor">
    <ul>
      <li class="name">klesh</li>
      <li>等级: 初级会员</li>
      <li><a href='http://klesh.javaeye.com' target='_blank'><img alt="用户头像" class="logo" src="http://www.javaeye.com/images/user-logo.gif?1194185304" title="klesh的博客: " /></a></li>
      <li>文章: 8</li>
      <li>积分: 40</li>
      <li>来自: 广州</li>
      <li><img src='/images/status/offline.gif'/></li>
    </ul>
  </td>
  <td class="postcontent">
    <div class="postactions">
      <div class="description">发表时间：2008-09-03 </div>
      <div class="links">
        <a href='/forums/40/topics/219826/posts/653450/quote' class='quote'>引用</a>
        
      </div>
    </div>
    <div class="postbody clearfix">
      
        应该是"屡试不爽",这里的"爽"是"爽约"的爽,是贬义
      </div>
      
          </td>
  </tr>
  <tr>
    <td class="postauthor"><a href="#">返回顶楼</a></td>
    <td class="postcontent">
      <div class="icons">
        <a href='http://klesh.javaeye.com' class='icon_www' title='浏览作者的博客'>&nbsp;</a>
        <a href='http://klesh.javaeye.com/blog/profile' class='icon_profile' title='浏览作者资料'>&nbsp;</a>
        <a href="http://app.javaeye.com/messages/new?message%5Breceiver_name%5D=klesh" class="icon_pm" title="发送站内短信">&nbsp;</a>
        <a href='http://klesh.javaeye.com/blog/guest_book' class='icon_guestbook' title='给作者留言'>&nbsp;</a>
        
        
      </div>
                        <div id='post_rate_box_653450' class='post_rate_box'><a href='#' onclick='return false;' class='good' title='好'>0</a> <a href='#' onclick='return false;' class='hidden' title='差'>0</a> 请登录后投票</div>                  </td>
  </tr>
  <tr class="sep2"><td colspan="2"></td></tr>
<tr id="p_653554">
  <td class="postauthor">
    <ul>
      <li class="name">rubynroll</li>
      <li>等级: <img src="/images/star3.gif" alt="三星会员" title="三星会员"/></li>
      <li><a href='http://rubynroll.javaeye.com' target='_blank'><img alt="用户头像" class="logo" src="http://www.javaeye.com/upload/logo/user/122519/5d2a1a89-9b89-4d12-aeb0-48cffe68b86c.jpeg?1236838410" title="rubynroll的博客: Step Third" /></a></li>
      <li>文章: 187</li>
      <li>积分: 280</li>
      <li>来自: Wgt</li>
      <li><img src='/images/status/offline.gif'/></li>
    </ul>
  </td>
  <td class="postcontent">
    <div class="postactions">
      <div class="description">发表时间：2008-09-04 </div>
      <div class="links">
        <a href='/forums/40/topics/219826/posts/653554/quote' class='quote'>引用</a>
        
      </div>
    </div>
    <div class="postbody clearfix">
      
        <div class="quote_title">klesh 写道</div><div class="quote_div">应该是"屡试不爽",这里的"爽"是"爽约"的爽,是贬义</div><br />已改正，谢谢指正！
      </div>
      
          </td>
  </tr>
  <tr>
    <td class="postauthor"><a href="#">返回顶楼</a></td>
    <td class="postcontent">
      <div class="icons">
        <a href='http://rubynroll.javaeye.com' class='icon_www' title='浏览作者的博客'>&nbsp;</a>
        <a href='http://rubynroll.javaeye.com/blog/profile' class='icon_profile' title='浏览作者资料'>&nbsp;</a>
        <a href="http://app.javaeye.com/messages/new?message%5Breceiver_name%5D=rubynroll" class="icon_pm" title="发送站内短信">&nbsp;</a>
        <a href='http://rubynroll.javaeye.com/blog/guest_book' class='icon_guestbook' title='给作者留言'>&nbsp;</a>
        
        
      </div>
                        <div id='post_rate_box_653554' class='post_rate_box'><a href='#' onclick='return false;' class='good' title='好'>0</a> <a href='#' onclick='return false;' class='hidden' title='差'>0</a> 请登录后投票</div>                  </td>
  </tr>
  <tr class="sep2"><td colspan="2"></td></tr>
<tr id="p_653717">
  <td class="postauthor">
    <ul>
      <li class="name">Readonly</li>
      <li>等级: <img src="/images/zisen.gif" alt="资深会员" title="资深会员"/><span style="color:#009900;font-weight:bold;">资深会员</span></li>
      <li><a href='http://readonly.javaeye.com' target='_blank'><img alt="用户头像" class="logo" src="http://www.javaeye.com/upload/logo/user/38298/5370c09b-4410-38ea-a6e8-b5c9aff0e4cf.jpg?1236833963" title="Readonly的博客: 偶的头像是兔子，不是驴" /></a></li>
      <li>文章: 1472</li>
      <li>积分: 3698</li>
      <li>来自: 上海</li>
      <li><img src='/images/status/offline.gif'/></li>
    </ul>
  </td>
  <td class="postcontent">
    <div class="postactions">
      <div class="description">发表时间：2008-09-04 </div>
      <div class="links">
        <a href='/forums/40/topics/219826/posts/653717/quote' class='quote'>引用</a>
        
      </div>
    </div>
    <div class="postbody clearfix">
      
        ray大叔又来掺和技术贴了？而且还回帖不认真看帖<br />文中提到的W Client和你的RIFI控制台有任何共同点么？它上面如果能运行Ruby GUI，rubynroll也不需要文章中的这种做法了。
      </div>
      
          </td>
  </tr>
  <tr>
    <td class="postauthor"><a href="#">返回顶楼</a></td>
    <td class="postcontent">
      <div class="icons">
        <a href='http://readonly.javaeye.com' class='icon_www' title='浏览作者的博客'>&nbsp;</a>
        <a href='http://readonly.javaeye.com/blog/profile' class='icon_profile' title='浏览作者资料'>&nbsp;</a>
        <a href="http://app.javaeye.com/messages/new?message%5Breceiver_name%5D=Readonly" class="icon_pm" title="发送站内短信">&nbsp;</a>
        <a href='http://readonly.javaeye.com/blog/guest_book' class='icon_guestbook' title='给作者留言'>&nbsp;</a>
        
        
      </div>
                        <div id='post_rate_box_653717' class='post_rate_box'><a href='#' onclick='return false;' class='good' title='好'>0</a> <a href='#' onclick='return false;' class='hidden' title='差'>0</a> 请登录后投票</div>                  </td>
  </tr>
  <tr class="sep2"><td colspan="2"></td></tr>
<tr id="p_653800">
  <td class="postauthor">
    <ul>
      <li class="name">ray_linn</li>
      <li>等级: 初级会员</li>
      <li><a href='http://raylinn.javaeye.com' target='_blank'><img alt="用户头像" class="logo" src="http://www.javaeye.com/upload/logo/user/3746/dc247550-6fcf-4e61-9074-0d6a13c9af02.gif?1236831961" title="ray_linn的博客: 笑熬浆糊" /></a></li>
      <li>文章: 5285</li>
      <li>积分: 30</li>
      <li>来自: 坚持零分</li>
      <li><img src='/images/status/offline.gif'/></li>
    </ul>
  </td>
  <td class="postcontent">
    <div class="postactions">
      <div class="description">发表时间：2008-09-04 </div>
      <div class="links">
        <a href='/forums/40/topics/219826/posts/653800/quote' class='quote'>引用</a>
        
      </div>
    </div>
    <div class="postbody clearfix">
      
        <div class="quote_title">Readonly 写道</div><div class="quote_div">ray大叔又来掺和技术贴了？而且还回帖不认真看帖<br />文中提到的W Client和你的RIFI控制台有任何共同点么？它上面如果能运行Ruby GUI，rubynroll也不需要文章中的这种做法了。</div><br /><br />你也不认真看帖。<br /><br />Parser: 负责解析自定义的通讯协议，获取从W设备传来的请求，并解析参数等。 <br />Router: 扫描并装载Controllers，缓存Controller对象，根据Parser的结果取得相应Controller的对象。Router还负责监控Controller是否已被修改和重新装载Controller. <br />Server: 总控制，从串口中读取数据，调用Parser解析,把结果传给Router，从Router中获取Controler对象并根据Parser结果调用Controller.Action，以及缓存Controller的输出等等。<br />------------------------------------------------------------------------------------ <br /><span style="color: orange">Controller: 业务逻辑都在这里实现，调用rails的Models访问数据库。 </span><br />-------------------------------------------------------------------------------------<br />MML Render: 使用erb作为模板文件，再加上一些辅助的功能，例如render link，menu之类的，和自定义的MML特性密切相关。MML Render作为module最终mixin到Controller里面。 <br /><br /><br />俺就是觉得，这里rails的作用完全是辅助性的，而不是特别必要的的东西，我在这里把rails换成sms可以么？我看也成。<br />
      </div>
      
          </td>
  </tr>
  <tr>
    <td class="postauthor"><a href="#">返回顶楼</a></td>
    <td class="postcontent">
      <div class="icons">
        <a href='http://raylinn.javaeye.com' class='icon_www' title='浏览作者的博客'>&nbsp;</a>
        <a href='http://raylinn.javaeye.com/blog/profile' class='icon_profile' title='浏览作者资料'>&nbsp;</a>
        <a href="http://app.javaeye.com/messages/new?message%5Breceiver_name%5D=ray_linn" class="icon_pm" title="发送站内短信">&nbsp;</a>
        <a href='http://raylinn.javaeye.com/blog/guest_book' class='icon_guestbook' title='给作者留言'>&nbsp;</a>
        
        
      </div>
                        <div id='post_rate_box_653800' class='post_rate_box'><a href='#' onclick='return false;' class='good' title='好'>0</a> <a href='#' onclick='return false;' class='hidden' title='差'>0</a> 请登录后投票</div>                  </td>
  </tr>
  <tr class="sep2"><td colspan="2"></td></tr>

  </tbody>
</table>


<div class="actions">
  <div class="buttons"><a href='/forums/40/topics/219826/posts/new' class='new_post' title='发表回复'>&nbsp;</a></div>
  <div class="wrapper"><div class="pagination"><span class="disabled prev_page">&laquo; 上一页</span> <span class="current">1</span> <a href="/topic/219826?page=2" rel="next">2</a> <a href="/topic/219826?page=2" class="next_page" rel="next">下一页 &raquo;</a></div></div>
</div>

<div>
  <div class="crumbs">
    <a href="/forums">论坛首页</a> <span class="arrow">&rarr;</span>
    <a href="/forums/board/Ruby">Ruby版</a>
     <span class="arrow">&rarr;</span> <a href='/forums/tag/rails'>rails</a>
    <br/><br/>跳转论坛:<select id="forum_urlname" name="forum[urlname]" onchange="window.location='/forums/board/'+this.value"><option value="Java">Java编程和Java企业应用</option>
<option value="web">Web前端技术：AJAX和RIA</option>
<option value="mobile">移动编程和手机应用开发</option>
<option value="Ruby" selected="selected">Ruby</option>
<option value="Python">Python</option>
<option value="PHP">PHP</option>
<option value="dotnet">Microsoft .Net</option>
<option value="Tech">综合技术</option>
<option value="New">入门讨论</option>
<option value="develop">软件开发和项目管理</option>
<option value="Industry">行业应用</option>
<option value="vendor">厂商论坛</option>
<option value="Job">招聘求职</option>
<option value="Life">海阔天空</option></select>
    <div id='forum_advert_b2'></div>
  </div>

  
</div>

<div style="display:none">
  <form action="/posts/rate" id="post_rate_form" method="post" onsubmit="new Ajax.Request('/posts/rate', {asynchronous:true, evalScripts:true, parameters:Form.serialize(this)}); return false;">
    <input type="hidden" id="post_rate_id" name="id"/>
    <input type="hidden" id="post_rate_type" name="type"/>
  </form></div>

<script type="text/javascript">
  dp.SyntaxHighlighter.HighlightAll('code', true, true);

  fix_image_size($$('div.postbody img'), 760);

  function rate_post(id, type) {
    Element.update('post_rate_box_' + id, '提交中...');
    new Ajax.Request('/posts/rate', {asynchronous:true, evalScripts:true, parameters:{"id":id, "type":type}});
  }

  function rate_topic(type) {
    Element.update('topic_rate_box', '提交中...');
    new Ajax.Request('/topics/rate', {asynchronous:true, evalScripts:true, parameters:{"id":219826, "type":type}});
  }

      
</script>


        </div>
        <div id="nav">
  <div class="wrapper">
    <ul>
            <li><a href="http://www.javaeye.com/">首页</a></li>
      <li><a href="http://www.javaeye.com/news">新闻</a></li>
      <li><a href="http://www.javaeye.com/forums" class='selected'>论坛</a></li>
      <li><a href="http://www.javaeye.com/ask">问答</a></li>
      <li><a href="http://www.javaeye.com/wiki">知识库</a></li>
      <li><a href="http://www.javaeye.com/blogs">博客</a></li>
      <li><a href="http://www.javaeye.com/groups">圈子</a></li>
      <li><a href="http://job.javaeye.com" target="_blank">招聘</a></li>
      <li><a href="http://www.javaeye.com/index/service">服务</a></li>
      <li class="last"><a href="http://www.javaeye.com/search">搜索</a></li>
    </ul>
  </div>
</div>

<div id="channel_nav">
  <ul>
    <li><a href="http://java.javaeye.com" >Java</a></li>
    <li><a href="http://ajax.javaeye.com" >AJAX</a></li>    
    <li><a href="http://ruby.javaeye.com" >Ruby</a></li>
    <li><a href="http://python.javaeye.com" >Python</a></li>
    <li><a href="http://agile.javaeye.com" >敏捷</a></li>
    <li><a href="http://mysql.javaeye.com" >MySQL</a></li>
    <li><a href="http://book.javaeye.com" >图书</a></li>
    <li><a href="http://oracle.javaeye.com" >Oracle</a></li>
    <li><a href="http://dorado.javaeye.com" >Dorado</a></li>
    <li class="last"><a href="http://primeton.javaeye.com" >普元</a></li>
  </ul>
</div>
      </div>
      <div id="footer">
  <div id="site_nav">
    <ul>
      <li><a href="/index/service">广告服务</a></li>
      <li><a href="http://webmaster.javaeye.com">JavaEye黑板报</a></li>
      <li><a href="/index/aboutus">关于我们</a></li>
      <li><a href="/index/contactus">联系我们</a></li>
      <li class="last"><a href="/index/friend_links">友情链接</a></li>
    </ul>
  </div>
  <div id="copyright">
    &copy; 2003-2009 JavaEye.com.   All rights reserved. 上海炯耐计算机软件有限公司 [ 沪ICP备05023328号 ] 
  </div>
</div>

    </div>
    
<script type="text/javascript">
  document.write("<img src='http://stat.javaeye.com/?url="+ encodeURIComponent(document.location.href) + "&referrer=" + encodeURIComponent(document.referrer) + "&logged_in=no" + "' width='0' height='0' />");
</script>
  </body>
</html>
